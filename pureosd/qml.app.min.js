"use strict";var log=null,$manifest$author$email="poberyaa@gmail.com",$manifest$author$name="Alexey Pobery",$manifest$author$organization="pureqml",$manifest$author$site="https://pureqml.com/",$manifest$cssAutoClassificator=!1,$manifest$cssDisableTransformations=!1,$manifest$cssDisableTransitions=!1,$manifest$disableAnimations=!1,$manifest$domain="com.pureqml",$manifest$expectRunContextEvent=!1,$manifest$html5$prefix="",$manifest$log$disable=!1,$manifest$requireExplicitRecursiveVisibilityStyle=!1,$manifest$requireVerticalTextAlignmentStyle=!1,$manifest$resolutionHeight=720,$manifest$resolutionWidth=1280,$manifest$style$font$family="Arial",$manifest$style$font$lineHeight=1.2,$manifest$style$font$pixelSize=16,$manifest$style$font$pointSize=0,$manifest$system$fingerprint=!1,$manifest$title="pureosd",$manifest$trace$focus=!1,$manifest$trace$keys=!1,$manifest$trace$listeners=!1,$manifest$useNativeFocusForInput=!0,$manifest$virtual$height=720,$manifest$virtual$width=1280,qml=function(){var e={},k=e;k.controls||(k.controls={});k.controls;k.controls.core||(k.controls.core={});var a=k.controls.core;k.controls.pure||(k.controls.pure={});k.controls.pure;k.core||(k.core={});var A=k.core;k.html5||(k.html5={});var o=k.html5;k.src||(k.src={});var w=k.src;k.video||(k.video={});k.video;k.video.html5||(k.video.html5={});k.video.html5;k.web||(k.web={});k.web;k.core.core=function(){var i=k;A.device=0,A.vendor="",A.__videoBackends={},"undefined"!=typeof navigator?(i.core.os=navigator.platform,i.core.userAgent=navigator.userAgent,i.core.language=navigator.language):(i.core.os="unknown",i.core.userAgent="Unknown");function e(e,t){i.core.userAgent.indexOf(e)<0||(i.core.vendor=t.vendor,i.core.device=t.device,i.core.os=t.os)}i.core.vendor||(e("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),e("Android",{vendor:"google",device:2,os:"android"}),e("iPhone",{vendor:"apple",device:2,os:"iOS"}),e("iPad",{vendor:"apple",device:2,os:"iOS"}),e("iPod",{vendor:"apple",device:2,os:"iOS"})),0<=i.core.userAgent.indexOf("Chromium")?i.core.browser="Chromium":0<=i.core.userAgent.indexOf("Chrome")?i.core.browser="Chrome":0<=i.core.userAgent.indexOf("Opera")?i.core.browser="Opera":0<=i.core.userAgent.indexOf("Firefox")?i.core.browser="Firefox":0<=i.core.userAgent.indexOf("Safari")?i.core.browser="Safari":0<=i.core.userAgent.indexOf("MSIE")?i.core.browser="IE":0<=i.core.userAgent.indexOf("YaBrowser")?i.core.browser="Yandex":i.core.browser="",k._backend=function(){return k.html5.html},k.core.__locationBackend=function(){return k.html5.location},k.core.__localStorageBackend=function(){return k.html5.localstorage},k.core.__videoBackends.html5=function(){return k.video.html5.backend},k.core.__deviceBackend=function(){return k.web.device},i.core.keyCodes={13:"Select",16:"Shift",17:"Ctrl",18:"LeftAlt",27:"Back",37:"Left",32:"Space",33:"PageUp",34:"PageDown",36:"Menu",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"Red",113:"Green",114:"Yellow",115:"Blue",219:"Red",221:"Green",186:"Yellow",222:"Blue",230:"RightAlt",187:"VolumeUp",189:"VolumeDown",191:"Mute",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",107:"VolumeUp",109:"VolumeDown",111:"Mute"},i.closeApp=function(){window.close()},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function i(){return n.apply(this instanceof t&&e?this:e,r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),n=this;return t.prototype=this.prototype,i.prototype=new t,i},null===log&&(log=function(){for(var e="",t=0;t<arguments.length;++t)e+=arguments[t]+" ";console.log(e)})),null===log&&(log=console.log.bind(console));var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32","":"",transparent:"0000"};i.core.safeCall=function(t,i,r){return function(e){return function(e,t,i,r){try{return e.apply(t,i)}catch(e){r(e)}}(e,t,i,r)}},i.core.assign=function(e,t,i){for(var r=(t=t.split(".")).length-1,n=0;n<r;++n)e=e[t[n]];e[t[r]]=i},A.getKeyCodeByName=function(e){var t=A.keyCodes;for(var i in t)if(t[i]===e)return~~i};var t=A.CoreObject=function(e){this._local=Object.create(e?e._local:null)},r=t.prototype;r.componentName="core.CoreObject",r.constructor=t,r.$c=function(){},r.$s=function(){},r.__init=function(){var e={};this.$c(e),this.$s(e),this.completed()},r.__complete=function(){},r._get=function(e,t){if(e in this)return this[e];if(e in this._local)return this._local[e];if(t)return null;throw new Error("invalid property requested: '"+e+"'")};var l=A.Color=function(e){if(Array.isArray(e))return this.r=e[0],this.g=e[1],this.b=e[2],void(this.a=void 0!==e[3]?e[3]:255);if("string"!=typeof e)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+e,(new Error).stack);var t;if("#"===e[0])t=e.substring(1);else{if("rgba"===e.substring(0,4)){var i=e.indexOf("("),r=e.lastIndexOf(")");return e=e.substring(i+1,r).split(","),this.r=parseInt(e[0],10),this.g=parseInt(e[1],10),this.b=parseInt(e[2],10),void(this.a=Math.floor(255*parseFloat(e[3])))}t=c[e]}if(!t)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+e,(new Error).stack);var n=t.length;if(3===n||4===n){var o=parseInt(t[0],16),a=parseInt(t[1],16),s=(i=parseInt(t[2],16),4===n?parseInt(t[3],16):15);this.r=o<<4|o,this.g=a<<4|a,this.b=i<<4|i,this.a=s<<4|s}else{if(6!==n&&8!==n)throw new Error("invalid color specification: "+e);this.r=parseInt(t.substring(0,2),16),this.g=parseInt(t.substring(2,4),16),this.b=parseInt(t.substring(4,6),16),this.a=8===n?parseInt(t.substring(6,8),16):255}};l.interpolate=function(e,t,i){e instanceof l||(e=new l(e)),t instanceof l||(t=new l(t));function r(e,t,i){return Math.floor(i*(e-t)+t)}var n=r(e.r,t.r,i),o=r(e.g,t.g,i),a=r(e.b,t.b,i),s=r(e.a,t.a,i);return new l([n,o,a,s])},l.normalize=function(e){return e instanceof l?e:new l(e)};var n=l.prototype;n.constructor=A.Color,n.rgba=n.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"};function o(e){var t=e>>4&15,i=15&e;return t+=9<t?87:48,i+=9<i?87:48,String.fromCharCode(t,i)}n.hex=function(){return"#"+o(this.r)+o(this.g)+o(this.b)+o(this.a)},n.ahex=function(){return"#"+o(this.a)+o(this.r)+o(this.g)+o(this.b)},i.addLazyProperty=function(t,r,n){function i(e){var t=e.__properties,i=t[r];return void 0!==i?(void 0===i.value&&(i.value=n(e)),i):t[r]=new a(n(e))}Object.defineProperty(t,r,{get:function(){return i(this).value},set:function(e){if(!i(this).forwardSet(this,r,e,null))throw new Error("could not set lazy property "+r+" in "+t.componentName)},enumerable:!0})},i.addConstProperty=function(e,t,i){Object.defineProperty(e,t,{get:function(){return i.call(this)},set:function(e){throw new Error("could not set const property")},enumerable:!0})};var a=function(e){this.value=e,this.onChanged=[]},s=(i.PropertyStorage=a).prototype;s.getAnimation=function(e,t){var i=this.animation;return i&&i.enabled()&&!i._native&&i._context._completed?i:null},s.__removeUpdater=function(e){for(var t=this.deps,i=0,r=t.length;i<r;i+=2){var n=t[i],o=t[i+1];n.removeOnChanged(o,e)}},s.removeUpdater=function(){var e=this.callback;void 0!==e&&(this.__removeUpdater(e),this.deps=this.callback=void 0)},s.replaceUpdater=function(e,t,i){var r=this.callback;void 0!==r&&this.__removeUpdater(r),this.callback=t,this.deps=i;for(var n=e.connectOnChanged,o=0,a=i.length;o<a;o+=2){var s=i[o],c=i[o+1];n.call(e,s,c,t)}t()},s.forwardSet=function(r,n,e,t){var i=this.getCurrentValue(t);if(null!==i&&i instanceof Object){var o;if(void 0===(o=i.defaultProperty))return!1;var a=i[o];return e!==a&&(i[o]=e,this.callOnChanged(r,n,e,a)),!0}if(e instanceof Object)return void 0===(o=e.defaultProperty)||r.connectOnChanged(e,o,function(e,t){var i=r.__properties[n];void 0!==i&&i.callOnChanged(r,n,e,t)}),!1},s.discard=function(){var e=this.getAnimation();e&&e.complete(),this.onChanged=[]},s.getSimpleValue=function(e){var t=this.value;return void 0!==t?t:e},s.getCurrentValue=function(e){var t=this.interpolatedValue;return void 0!==t?t:this.getSimpleValue(e)},s.setCurrentValue=function(e,t,i,r,n){var o=this.value;this.interpolatedValue=void 0,this.value=i,n&&this.callOnChanged(e,t,i,o)},s.set=function(e,t,i,r,n){var o=this.value;void 0===o&&(o=r),o!==i&&(this.forwardSet(e,t,i,r)||(this.value=i,n&&this.callOnChanged(e,t,i,o)))};function h(e,t,i,r){var n=e["__changed__"+t],o=void 0!==n,a=void 0!==r;if(o||a){var s=A.safeCall(e,[i],function(e){log("on "+t+" changed callback failed: ",e,e.stack)});o&&n.forEach(s),a&&r.forEach(s)}}s.callOnChanged=function(e,t,i){h(e,t,i,this.onChanged)},s.removeOnChanged=function(e){var t=this.onChanged,i=t.indexOf(e);if(0<=i)return t.splice(i,1)};var f=i.getDefaultValueForType=function(e){switch(e){case"enum":case"int":return 0;case"bool":return!1;case"real":return 0;case"string":return"";case"array":return[];case"Color":return"#0000";default:return e[0].toUpperCase()===e[0]?null:void 0}},_=(i.convertTo=function(e,t){switch(e){case"enum":case"int":return~~t;case"bool":return!!t;case"real":return+t;case"string":return String(t);default:return t}},i.getConvertFunction=function(e){switch(e){case"enum":case"int":return function(e){return~~e};case"bool":return function(e){return!!e};case"real":return function(e){return+e};case"string":return function(e){return String(e)};default:return function(e){return e}}});i.addProperty=function(e,t,d,p){var u=_(t),i=function(e){switch(e){case"int":case"real":case"Color":return!0;default:return!1}}(t);p=void 0!==p?u(p):f(t);function g(e){var t=this.__properties,i=t[d];if(void 0===i){if(e===p)return;i=t[d]=new a(p)}return i}Object.defineProperty(e,d,{get:i?function(){var e=this.__properties[d];return void 0!==e?e.getCurrentValue(p):p}:function(){var e=this.__properties[d];return void 0!==e?e.getSimpleValue(p):p},set:i?function(e){e=u(e);var t=g.call(this,e);if(void 0!==t){var i=t.getAnimation();if(i&&t.value!==e){var r=this._context,n=r.backend;t.frameRequest&&n.cancelAnimationFrame(t.frameRequest),t.started=Date.now();var o=t.getCurrentValue(p),a=e,s=this,c=function(){t.frameRequest&&(n.cancelAnimationFrame(t.frameRequest),t.frameRequest=void 0),i.complete=function(){},t.interpolatedValue=void 0,t.started=void 0,i.running=!1,t.callOnChanged(s,d,a,o)},l=i.duration,h=r.wrapNativeCallback(function(){var e=(Date.now()-t.started)/l;1<=e||!i.active()?c():(t.interpolatedValue=u(i.interpolate(a,o,e)),t.callOnChanged(s,d,t.getCurrentValue(p),o),t.frameRequest=n.requestAnimationFrame(h))});t.frameRequest=n.requestAnimationFrame(h),i.running=!0,i.complete=c}t.set(this,d,e,p,!i)}}:function(e){e=u(e);var t=g.call(this,e);void 0!==t&&t.set(this,d,e,p,!0)},enumerable:!0})},i.addAliasProperty=function(i,r,e,t){var n=e();i.connectOnChanged(n,t,function(e){var t=i.__properties[r];void 0!==t?t.callOnChanged(i,r,e):h(i,r,e)}),Object.defineProperty(i,r,{get:function(){return n[t]},set:function(e){n[t]=e},enumerable:!0})},A.createSignal=function(e){return function(){this.emitWithArgs(e,arguments)}},A.createSignalForwarder=function(e,t){return function(){e.emitWithArgs(t,arguments)}},A.EventBinder=function(e){this.target=e,this.callbacks={},this.enabled=!1},A.EventBinder.prototype.on=function(e,t){if(e in this.callbacks)throw new Error("double adding of event ("+e+")");this.callbacks[e]=t,this.enabled&&this.target.on(e,t)},A.EventBinder.prototype.constructor=A.EventBinder,A.EventBinder.prototype.enable=function(e){if(e!=this.enabled){var t=this.target;if(this.enabled=e)for(var i in this.callbacks)t.on(i,this.callbacks[i]);else for(var i in this.callbacks)t.removeListener(i,this.callbacks[i])}};function d(e,t,i,r){var n=e+i,o=t[n];if(void 0!==o)if(t.hasOwnProperty(n))o.push(r);else{var a=o.slice();a.push(r),t[n]=a}else t[n]=[r]}A._protoOn=function(e,t,i){d("__on__",e,t,i)},A._protoOnChanged=function(e,t,i){d("__changed__",e,t,i)},A._protoOnKey=function(e,t,i){d("__key__",e,t,i)};function p(e){this._callback=e,this._queue=[],this.history=[]}var u=p.prototype;return u.constructor=p,u.unshift=function(){var e=this._queue;e.unshift.apply(e,arguments)},u.push=function(){var e=this._queue;e.push.apply(e,arguments)},u.enumerate=function(e,t){var i=[this,t],r=this._queue;for(r.unshift(e);r.length;){var n=r.shift();if(this.history.push(n),this._callback.apply(n,i))break}},i.forEach=function(e,t,i){return new p(t).enumerate(e,i),i},i.createObject=function(e){e.__init();var t=e.parent;t._updateVisibilityForChild(e,t.recursiveVisible),"_tryFocus"in t&&t._tryFocus(),e._context.scheduleComplete()},i}();var s=k.core.core,i=A.CoreObject,t=i.prototype,r=A.EventEmitter=function(e,t){i.apply(this,arguments),this._eventHandlers={},this._onConnections=[]},n=r.prototype=Object.create(t);n.constructor=r,n.componentName="core.EventEmitter",n.discard=function(){for(var e in this.removeAllOn(),this._eventHandlers)this.removeAllListeners(e)},n.removeAllOn=function(){for(var e=this._onConnections,t=0,i=e.length;t<i;t+=3)e[t].removeListener(e[t+1],e[t+2]);this._onConnections=[]},n.removeAllListeners=function(e){delete this._eventHandlers[e]},n.emit=function(t){if(""===t)throw new Error("empty listener name");var e=this["__on__"+t],i=this._eventHandlers[t];if(void 0!==e||void 0!==i){for(var r=arguments.length,n=new Array(r-1),o=0,a=1;a<r;)n[o++]=arguments[a++];var s=A.safeCall(this,n,function(e){log("event/signal "+t+" handler failed:",e,e.stack)});void 0!==e&&e.forEach(s),void 0!==i&&i.forEach(s)}},n.emitWithArgs=function(t,e){if(""===t)throw new Error("empty listener name");var i=this["__on__"+t],r=this._eventHandlers[t];if(void 0!==i||void 0!==r){var n=A.safeCall(this,e,function(e){log("event/signal "+t+" handler failed:",e,e.stack)});void 0!==i&&i.forEach(n),void 0!==r&&r.forEach(n)}},n.removeListener=function(e,t){if(e in this._eventHandlers&&null!=t&&""!==e){var i=this._eventHandlers[e],r=i.indexOf(t);0<=r?i.splice(r,1):$manifest$trace$listeners&&log("failed to remove listener for",e,"from",this),i.length||this.removeAllListeners(e)}else $manifest$trace$listeners&&log("invalid removeListener("+e+", "+t+") invocation",(new Error).stack)},n.on=function(e,t){if(""===e)throw new Error("empty listener name");var i=this._eventHandlers,r=i[e];void 0!==r?r.push(t):i[e]=[t]},n.connectOn=function(e,t,i){e.on(t,i),this._onConnections.push(e,t,i)},n.$c=function(e){t.$c.call(this,e.$b={})},n.$s=function(e){t.$s.call(this,e.$b),delete e.$b,this.completed()};var c=A.EventEmitter,l=c.prototype,h=A.Object=function(e,t){c.apply(this,arguments),this.parent=e,this.children=[],this.__properties={},this.__attachedObjects=[],e&&e.__attachedObjects.push(this);this._context=e?e._context:null;if(t){var i=this._local;i.model=t,i._delegate=this}this._changedConnections=[],this._properties={}},d=h.prototype=Object.create(l);d._propertyToStyle={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"},d.constructor=h,d.componentName="core.Object",d.completed=function(){this.__complete!==A.CoreObject.prototype.__complete&&this._registerDelayedAction("complete")&&this._context.__onCompleted(this)},d.discard=function(){this.removeAllOnChanged();var e=this.__attachedObjects;this.__attachedObjects=[],e.forEach(function(e){e.discard()});var t=this.parent;if(t){var i=t.__attachedObjects.indexOf(this);0<=i&&t.__attachedObjects.splice(i,1)}this.children=[],this.parent=null,this._local={};var r=this.__properties;for(var n in r)r[n].discard();this._properties={},A.EventEmitter.prototype.discard.apply(this)},d.removeAllOnChanged=function(){for(var e=this._changedConnections,t=0,i=e.length;t<i;t+=3)e[t].removeOnChanged(e[t+1],e[t+2]);this._changedConnections=[]},d.getComponentPath=function(){for(var e=[],t=this;t;){var i=t.componentName;if(t.parent){var r=t.parent.children.indexOf(t);0<=r&&(i+="@"+r)}e.unshift(i),t=t.parent}return e.join(" â†’ ")},d._tryFocus=function(){return!1},d.addChild=function(e){this.children.push(e)},d._cancelDelayedAction=function(e){this._registeredDelayedActions[e]=!1},d._setId=function(e){for(var t=this;t;)t._local[e]=this,t=t.parent},d._registerDelayedAction=function(e){var t=this._registeredDelayedActions;return void 0===t&&(t=this._registeredDelayedActions={}),!0!==t[e]&&(t[e]=!0)},d.resetAnimation=function(e){var t=this.__properties[e];if(void 0!==t&&t.animation){var i=t.animation;i.disable();var r=i.target;i.target=r,t.animation=null,i.enable(),i.target=r}},d._removeUpdater=function(e){var t=this.__properties[e];void 0!==t&&t.removeUpdater()},d.updateAnimation=function(e,t){this._context.backend.setAnimation(this,e,t)},d.setAnimation=function(e,t){this._get("context",!0);if(!$manifest$disableAnimations){if(null===t)return this.resetAnimation(e);var i=this._context.backend;"contentX"!==e&&"contentY"!==e||log("WARNING: you're trying to animate contentX/contentY property, this will always use animation frames, ignoring CSS transitions, please use content.x/content.y instead"),t.target=this,t.property=e,this._createPropertyStorage(e).animation=t,i.setAnimation(this,e,t)&&(t._native=!0)}},d.removeOnChanged=function(e,t){var i,r=this.__properties[e];void 0!==r&&(i=r.removeOnChanged(t)),$manifest$trace$listeners&&!i&&log("failed to remove changed listener for",e,"from",this)},d.onChanged=function(e,t){this._createPropertyStorage(e).onChanged.push(t)},d._replaceUpdater=function(e,t,i){this._createPropertyStorage(e).replaceUpdater(this,t,i)},d._setProperty=function(e,t){var i=this._createPropertyStorage(e,t),r=i.animation;void 0!==r&&r.disable(),i.setCurrentValue(this,null,t),void 0!==r&&r.enable()},d._createPropertyStorage=function(e,t){var i=this.__properties[e];return void 0!==i?i:this.__properties[e]=new A.core.PropertyStorage(t)},d.connectOnChanged=function(e,t,i){e.onChanged(t,i),this._changedConnections.push(e,t,i)},d.$c=function(e){l.$c.call(this,e.$b={})},d.$s=function(e){l.$s.call(this,e.$b),delete e.$b,this.completed()};var p=A.Object,u=p.prototype,g=A.Item=function(e,t){if(p.apply(this,arguments),this._pressedHandlers={},this._topPadding=0,e){if(this.element)throw new Error("double ctor call");this._createElement(this.getTag(),this.getClass())}},f=g.prototype=Object.create(u);f.constructor=g,f.componentName="core.Item",f.anchorsMarginsUpdated=A.createSignal("anchorsMarginsUpdated"),f.newBoundingBox=A.createSignal("newBoundingBox"),s.addProperty(f,"int","x"),s.addProperty(f,"int","y"),s.addProperty(f,"int","z"),s.addProperty(f,"int","width"),s.addProperty(f,"int","height"),s.addProperty(f,"bool","clip"),s.addLazyProperty(f,"radius",function(e,t){var i,r={lazy$radius:i=new A.Radius(e,t)};return i.$c(r.$c$lazy$radius={}),(i=r.lazy$radius).$s(r.$c$lazy$radius),delete r.$c$lazy$radius,i.completed(),i}),s.addProperty(f,"bool","focus"),s.addProperty(f,"bool","focused"),s.addProperty(f,"bool","activeFocus"),s.addProperty(f,"Item","focusedChild"),s.addProperty(f,"bool","visible",!0),s.addProperty(f,"bool","visibleInView",!0),s.addProperty(f,"bool","recursiveVisible",!1),s.addProperty(f,"real","opacity",1),s.addLazyProperty(f,"anchors",function(e,t){var i,r={lazy$anchors:i=new A.Anchors(e,t)};return i.$c(r.$c$lazy$anchors={}),(i=r.lazy$anchors).$s(r.$c$lazy$anchors),delete r.$c$lazy$anchors,i.completed(),i}),s.addLazyProperty(f,"effects",function(e,t){var i,r={lazy$effects:i=new A.Effects(e,t)};return i.$c(r.$c$lazy$effects={}),(i=r.lazy$effects).$s(r.$c$lazy$effects),delete r.$c$lazy$effects,i.completed(),i}),s.addLazyProperty(f,"transform",function(e,t){var i,r={lazy$transform:i=new A.Transform(e,t)};return i.$c(r.$c$lazy$transform={}),(i=r.lazy$transform).$s(r.$c$lazy$transform),delete r.$c$lazy$transform,i.completed(),i}),s.addProperty(f,"bool","cssTranslatePositioning"),s.addProperty(f,"bool","cssNullTranslate3D"),s.addProperty(f,"bool","cssDelegateAlwaysVisibleOnAcceleratedSurfaces",!0),s.addConstProperty(f,"left",function(){return[this,0]}),s.addConstProperty(f,"top",function(){return[this,1]}),s.addConstProperty(f,"right",function(){return[this,2]}),s.addConstProperty(f,"bottom",function(){return[this,3]}),s.addConstProperty(f,"horizontalCenter",function(){return[this,4]}),s.addConstProperty(f,"verticalCenter",function(){return[this,5]}),s.addProperty(f,"int","viewX"),s.addProperty(f,"int","viewY"),s.addProperty(f,"int","keyProcessDelay"),f.discard=function(){A.Object.prototype.discard.apply(this),this.focusedChild=null,this._pressedHandlers={},this.element&&this.element.discard()},f._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var e=this.children,t=0;t<e.length;++t){var i=e[t];if(i._tryFocus())return this._focusChild(i),!0}return this.focus},f.setFocus=function(){this.forceActiveFocus()},f._updateStyle=function(){var e=this.element;e&&e.updateStyle()},f.toScreen=function(){for(var e=this,t=0,i=0,r=this.width+(this._borderWidthAdjust||0)+(this._borderInnerWidthAdjust||0),n=this.height+(this._borderHeightAdjust||0)+(this._borderInnerHeightAdjust||0);e;){if(t+=e.x+e.viewX+(e._borderXAdjust||0),i+=e.y+e.viewY+(e._borderYAdjust||0),e.hasOwnProperty("view")){var o=e.view.content;t+=o.x,i+=o.y}e=e.parent}return[t,i,t+r,i+n,t+r/2,i+n/2]},f.hasActiveFocus=function(){for(var e=this;e.parent;){if(e.parent.focusedChild!=e)return!1;e=e.parent}return!0},f.forceActiveFocus=function(){for(var e=this;e.parent;)e.parent._focusChild(e),e=e.parent;this._tryFocus()&&this._propagateFocusToParents()},f._propagateFocusToParents=function(){for(var e=this;e.parent&&(!e.parent.focusedChild||!e.parent.focusedChild.visible);)e.parent._focusChild(e),e=e.parent},f._updateVisibility=function(){var e=this.visible&&this.visibleInView,t=!0,i=this.view;if(void 0!==i){var r=i.content;r.cssDelegateAlwaysVisibleOnAcceleratedSurfaces&&(r.cssTranslatePositioning||r.cssNullTranslate3D)&&!$manifest$cssDisableTransformations&&(t=!1)}t&&this.style("visibility",e?"inherit":"hidden"),this.recursiveVisible=e&&(null===this.parent||this.parent.recursiveVisible)},f._setSizeAdjust=function(){var e=this.x+this.viewX+(this._borderXAdjust||0),t=this.y+this.viewY+(this._borderYAdjust||0);this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?(this.transform.translateX=e,this.transform.translateY=t):(this.style("left",e),this.style("top",t)),this.newBoundingBox()},f.getClass=function(){return""},f.getTag=function(){return"div"},f._focusTree=function(e){this.activeFocus=e,this.focusedChild&&this.focusedChild._focusTree(e)},f.addChild=function(e){A.Object.prototype.addChild.apply(this,arguments),e._tryFocus()&&e._propagateFocusToParents()},f._focusChild=function(e){if(e.parent!==this)throw new Error("invalid object passed as child");this.focusedChild!==e&&(this.focusedChild&&(this.focusedChild._focusTree(!1),this.focusedChild.focused=!1),this.focusedChild=e,this.focusedChild&&(this.focusedChild._focusTree(this.hasActiveFocus()),this.focusedChild.focused=!0))},f.focusChild=function(e){this._propagateFocusToParents(),this._focusChild(e)},f._updateVisibilityForChild=function(e,t){e.recursiveVisible=t&&e.visible&&e.visibleInView},f._attachElement=function(e){this.element&&this.element.discard(),this.element=e;var t=this.parent;t&&t.element.append(e)},f._processKey=function(t,e){$manifest$trace$keys&&log(this.getComponentPath(),"_processKey",t,e);var i=e.timeStamp;if(this.keyProcessDelay){if(this._lastEvent&&i>this._lastEvent&&i-this._lastEvent<this.keyProcessDelay)return!0;this._lastEvent=i}var r=A.safeCall(this,[t,e],function(e){log("on "+t+" handler failed:",e,e.stack)}),n=this["__key__"+t];if(t in this._pressedHandlers&&this.invokeKeyHandlers(t,e,this._pressedHandlers[t],r))return!0;if(n&&this.invokeKeyHandlers(t,e,n,r))return!0;n=this.__key__Key;return!!("Key"in this._pressedHandlers&&this.invokeKeyHandlers(t,e,this._pressedHandlers.Key,r))||!(!n||!this.invokeKeyHandlers(t,e,n,r))},f.invokeKeyHandlers=function(e,t,i,r){for(var n=i.length-1;0<=n;--n){if(r(i[n]))return $manifest$trace$keys&&log("key "+e+" handled in "+(performance.now()-t.timeStamp).toFixed(3)+" ms by",this,(new Error).stack),!0}return!1},f.onPressed=function(e,i){var t;this._get("key",!0);t="Key"!=e?function(e,t){return t.accepted=!0,i(e,t),t.accepted}:i,e in this._pressedHandlers?this._pressedHandlers[e].push(t):this._pressedHandlers[e]=[t]},f.style=function(e,t){var i=this.element;if(i)return i.style(e,t);log("WARNING: style skipped:",e,t)},f._enqueueNextChildInFocusChain=function(e,t){this._tryFocus();var i=this.focusedChild;i&&i.visible&&(e.unshift(i),t.unshift(i))},f.registerStyle=function(e,t){var i="position: absolute; visibility: inherit; opacity: 1.0;";i+="border-style: solid; border-width: 0px; border-radius: 0px; box-sizing: border-box; border-color: rgba(0,0,0,1);",i+="white-space: nowrap; transform: none;",i+="left: 0px; top: 0px; width: 0px; height: 0px;",i+="font-family: "+$manifest$style$font$family+"; line-height: "+$manifest$style$font$lineHeight+"; ",i+="pointer-events: none; touch-action: none; ",$manifest$style$font$pixelSize?i+="font-size: "+$manifest$style$font$pixelSize+"px; ":$manifest$style$font$pointSize&&(i+="font-size: "+$manifest$style$font$pointSize+"pt; "),e.addRule(t,i)},f._createElement=function(e,t){var i=this._get("context",!0);null===(i=this._context)&&(i=this),i.registerStyle(this,e,t),this._attachElement(i.createElement(e,t))},A._protoOnChanged(f,"cssNullTranslate3D",function(e){$manifest$cssDisableTransformations||this.style("transform",e?"translateZ(0)":"")}),A._protoOnChanged(f,"focus",function(e){this.parent&&this.parent._tryFocus()}),A._protoOnChanged(f,"height",function(e){this.style("height",e-this._topPadding+(this._borderHeightAdjust||0)),this.newBoundingBox()}),A._protoOnChanged(f,"width",function(e){this.style("width",e+(this._borderWidthAdjust||0)),this.newBoundingBox()}),A._protoOnChanged(f,"recursiveVisible",function(e){for(var t=this.children,i=0,r=t.length;i<r;++i){var n=t[i];this._updateVisibilityForChild(n,e)}!e&&this.parent&&this.parent._tryFocus(),$manifest$requireExplicitRecursiveVisibilityStyle&&this.style("-pure-recursive-visibility",e)});var _=function(e){var t=this.x+this.viewX;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateX=t:this.style("left",t),this.newBoundingBox()};A._protoOnChanged(f,"x",_),A._protoOnChanged(f,"viewX",_);var m=function(e){var t=this.y+this.viewY;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateY=t:this.style("top",t),this.newBoundingBox()};A._protoOnChanged(f,"y",m),A._protoOnChanged(f,"viewY",m),A._protoOnChanged(f,"opacity",function(e){this.element&&this.style("opacity",e)});function v(e){this._updateVisibility()}A._protoOnChanged(f,"visible",v),A._protoOnChanged(f,"visibleInView",v),A._protoOnChanged(f,"clip",function(e){this.style("overflow",e?"hidden":"visible")}),A._protoOnChanged(f,"z",function(e){this.style("z-index",e)}),f.$c=function(e){u.$c.call(this,e.$b={})},f.$s=function(e){u.$s.call(this,e.$b),delete e.$b,this.completed()};var y=A.Item,$=y.prototype,b=A.Context=function(e,t){y.apply(this,arguments),this.options=arguments[2],this.l10n=this.options.l10n||{},((this._local.context=this)._context=this)._started=!1,this._completed=!1,this._processingActions=!1,this._delayedActions=[],this._completedObjects=[],this._stylesRegistered={},this._asyncInvoker=A.safeCall(this,[],function(e){log("async action failed:",e,e.stack)}),this.backend=k._backend(),this._init()},x=b.prototype=Object.create($);x.constructor=b,x.componentName="core.Context",x.message=A.createSignal("message"),s.addProperty(x,"int","scrollY"),s.addProperty(x,"int","keyProcessDelay"),s.addProperty(x,"bool","fullscreen"),s.addProperty(x,"string","language"),s.addProperty(x,"System","system"),s.addProperty(x,"Location","location"),s.addProperty(x,"Stylesheet","stylesheet"),s.addProperty(x,"string","buildIdentifier"),s.addProperty(x,"int","virtualWidth",$manifest$virtual$width),s.addProperty(x,"int","virtualHeight",$manifest$virtual$height),s.addProperty(x,"real","virtualScale"),x._processActions=function(){if(this._started&&!this._processingActions){this._processingActions=!0;for(var e=this._asyncInvoker;this._delayedActions.length||this._completedObjects.length;){var t=this._delayedActions;this._delayedActions=[];for(var i=0,r=t.length;i<r;++i)e(t[i]);var n=this._completedObjects;this._completedObjects=[];for(i=0,r=n.length;i<r;++i){var o=n[i];try{o.__complete()}catch(e){log("onCompleted failed",e,e.stack)}}}this._processingActions=!1,this.backend.tick(this)}},x._init=function(){log("Context: initializing..."),new this.backend.init(this)},x._run=function(){log("Context: signalling layout"),this.visibleInView=!0,this.newBoundingBox(),log("Context: calling completed()"),this._started=!0,this._processActions(),this._completed=!0},x.init=function(){this.__init(),this.backend.initSystem(this.system)},x.run=function(){this.backend.run(this,this._run.bind(this))},x.scheduleComplete=function(){this._get("context",!0);this.delayedAction("context:completed",this,this._processActions)},x.tr=function(){return this.qsTr.apply(this,arguments)},x.scheduleAction=function(e){this._delayedActions.push(e)},x.wrapNativeCallback=function(t){var i=this;return function(){try{var e=t.apply(this,arguments);return i._processActions(),e}catch(e){throw i._processActions(),e}}},x.start=function(e){return this.children.push(e),e.__init(),log("Context: created instance"),e},x.registerStyle=function(e,t,i){var r=(i=this.mangleClass(i))?t+"."+i:t;r in this._stylesRegistered||(e.registerStyle(this.stylesheet,r),this._stylesRegistered[r]=!0)},x.processKey=function(e,t){for(var i=s.forEach(this,A.Item.prototype._enqueueNextChildInFocusChain,[]),r=i.length,n=0;n<r;++n){if(i[n]._processKey(e,t))return!0}return!1},x.updateL10n=function(e,t){this.l10n[e]=t,this.__properties.language.callOnChanged(this,"language",this.language,this.language)},x.mangleClass=function(e){return $manifest$html5$prefix+e},x.delayedAction=function(e,t,i,r){if(t._registerDelayedAction(e)){var n=function(){t._cancelDelayedAction(e),i.call(t)};0<r?setTimeout(this.wrapNativeCallback(n),r):0===r?this.backend.requestAnimationFrame(this.wrapNativeCallback(n)):this.scheduleAction(n)}},x.__onCompleted=function(e){this._completedObjects.push(e)},x.createElement=function(e,t){return this.backend.createElement(this,e,t)},x.qsTr=function(e){var i=arguments,t=this.language,r=(this.l10n[t]||{})[e]||{};for(var n in r){e=r[n];break}return e.replace(/%(\d+)/,function(e,t){return i[t]})},A._protoOnChanged(x,"fullscreen",function(e){e?this.backend.enterFullscreenMode(this.element):this.backend.exitFullscreenMode()}),x.$c=function(e){var t=this;$.$c.call(this,e.$b={});var i=new A.System(t);(e._this$system=i).$c(e.$c$_this$system={}),t.system=i;var r=new A.Location(t);(e._this$location=r).$c(e.$c$_this$location={}),t.location=r;var n=new o.Stylesheet(t);(e._this$stylesheet=n).$c(e.$c$_this$stylesheet={}),t.stylesheet=n},x.$s=function(e){var t=this;$.$s.call(this,e.$b),delete e.$b;var i=e._this$system;i.$s(e.$c$_this$system),delete e.$c$_this$system,i.completed();var r=e._this$location;r.$s(e.$c$_this$location),delete e.$c$_this$location,r.completed();var n=e._this$stylesheet;n.$s(e.$c$_this$stylesheet),delete e.$c$_this$stylesheet,n.completed(),t._replaceUpdater("virtualScale",function(){t.virtualScale=Math.min((t.system.resolutionWidth||t.width)/t.virtualWidth,(t.system.resolutionHeight||t.height)/t.virtualHeight)},[t.system,"resolutionHeight",t,"width",t.system,"resolutionWidth",t,"virtualHeight",t,"virtualWidth",t,"height"]),t._removeUpdater("visibleInView"),t.visibleInView=!1,t.completed()};var C=A.Item,P=C.prototype,S=a.ActivityManager=function(e,t){C.apply(this,arguments),this._activityStack=[]},I=S.prototype=Object.create(P);I.constructor=S,I.componentName="controls.core.ActivityManager",s.addProperty(I,"int","count"),s.addProperty(I,"bool","keepLastActivity",!0),s.addProperty(I,"string","currentActivity"),I._initTopIntent=function(){if(this._activityStack.length){var e=this._activityStack[this._activityStack.length-1],t=this.children;log("initTopIntent: "+e.name);for(var i=0;i<t.length;++i){var r=t[i];if(r&&r instanceof k.controls.core.BaseActivity)if(r.name===e.name){log("Init:",e);var n=e.state||{};n.lastActivity||(n.lastActivity=this.currentActivity),r.init(e.intent,n),r.index=this._activityStack.length-1,r.start(),r.setFocus(),this.currentActivity=r.name}else r.stop()}}else log("Activity stack is empty")},I.initTopIntent=function(){try{this._initTopIntent()}catch(e){log("initTopIntent failed:",e),this.pop()}},I.clear=function(){for(var e=this.children,t=0;t<e.length;++t){var i=e[t];i&&i instanceof k.controls.core.Activity&&i.stop()}this._activityStack=[]},I.pop=function(e){if(this.keepLastActivity&&1<this.count||!this.keepLastActivity&&0<this.count){var t=1;return t=void 0===e?1:e>this.count-1&&this.keepLastActivity?this.count-1:e>this.count&&!this.keepLastActivity?this.count:e,this._activityStack.splice(-t,t),this.count-=t,this.initTopIntent(),!0}return log("No activity to pop"),!1},I.setIntent=function(e,t){if(t){var i=this.createActivity(t);i&&(i.intent=e)}else this._activityStack[this._activityStack.length-1].intent=e},I.removeActivity=function(e){if(e==this.currentActivity)this.pop();else{for(var t=-1,i=0;i<this._activityStack.length;++i)if(this._activityStack[i].name==e){t=i;break}if(t<0)return void log("Activity",e,"not found");this._activityStack.splice(t,1)}},I.isActivityInStack=function(t){var e=this._activityStack.filter(function(e){return e.name==t});return e&&0<e.length},I.findActivity=function(t){var e=this.children.filter(function(e){return e instanceof k.controls.core.BaseActivity&&e.name==t}),i=null;return e&&e.length&&(i=e[0].getActivity()),i||log("Activity for name",t,"not found"),i},I.createActivity=function(t){var e=this.findActivity(t);if(e)return e;var i=this.children.filter(function(e){return e instanceof k.controls.core.LazyActivity&&e.name==t});return i&&i.length?(e=i[0]).createActivity():(log("Activity for name",t,"not found"),null)},I.closeAllExcept=function(e){var t=this.findActivity(e);t?(this.count=1,this._activityStack=[t]):(log("Activity",e,"not found, close all"),this.count=0,this._activityStack=[]),this.currentActivity!=e&&this.initTopIntent()},I.replaceTopActivity=function(e,t,i){return 0<this.count?(this._activityStack.pop(),this._activityStack.push({name:e,intent:t,state:i}),this.initTopIntent(),!0):(log("No activity to pop"),!1)},I.push=function(e,t,i){this._activityStack.push({name:e,intent:t,state:i}),this.count++,this.initTopIntent()},I.popWithState=function(e){return this.keepLastActivity&&1<this.count||!this.keepLastActivity&&0<this.count?(this._activityStack.pop(),--this.count,this.setState(e),this.initTopIntent(),!0):(log("No activity to pop"),!1)},I.setState=function(e,t){if(t){var i=this.createActivity(t);i&&(i.state=e)}else this._activityStack[this._activityStack.length-1].state=e},I.$c=function(e){P.$c.call(this,e.$b={})},I.$s=function(e){P.$s.call(this,e.$b),delete e.$b,this.completed()};var T=a.ActivityManager,O=T.prototype,U=w.UiApp=function(e,t){T.apply(this,arguments)},M=U.prototype=Object.create(O);M.constructor=U,M.componentName="src.UiApp",M.__complete=function(){O.__complete.call(this),this.push("osd")},M.$c=function(e){var t=this;O.$c.call(this,e.$b={});var i=new w.Constants(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("consts"),t.addChild(i);var r=new w.ColorTheme(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("colorTheme"),t.addChild(r);var n=new a.LazyActivity(t);(e._this$child2=n).$c(e.$c$_this$child2={}),t.addChild(n);var o=new a.LazyActivity(t);(e._this$child3=o).$c(e.$c$_this$child3={}),t.addChild(o),t._setId("mainWindow")},M.$s=function(e){var t=this;O.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=1280*t._context.virtualScale},[t._context,"virtualScale"]),t._replaceUpdater("height",function(){t.height=720*t._context.virtualScale},[t._context,"virtualScale"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r.completed();var n=e._this$child2;n.$s(e.$c$_this$child2),delete e.$c$_this$child2,n._removeUpdater("name"),n.name="osd",n._removeUpdater("component"),n.component="src.OsdPage",n.completed();var o=e._this$child3;o.$s(e.$c$_this$child3),delete e.$c$_this$child3,o._removeUpdater("name"),o.name="player",o._removeUpdater("component"),o.component="src.PlayerPage",o.completed(),t.completed()};var L=A.Item,D=L.prototype,E=a.BaseActivity=function(e,t){L.apply(this,arguments)},z=E.prototype=Object.create(D);z.constructor=E,z.componentName="controls.core.BaseActivity",z.stopped=A.createSignal("stopped"),z.started=A.createSignal("started"),s.addProperty(z,"bool","active"),s.addProperty(z,"string","name"),s.addProperty(z,"Item","manager"),z.clear=function(){this.manager.clear()},z.pop=function(e){this.manager.pop(e)},z.init=function(e,t){},z.closeAllExcept=function(e){this.manager.closeAllExcept(e)},z.removeActivity=function(e){this.manager.removeActivity(e)},z.push=function(e,t,i){this.manager.push(e,t,i)},z.replaceTopActivity=function(e,t,i){this.manager.replaceTopActivity(e,t,i)},z.popWithState=function(e){this.manager.popWithState(e)},z.setIntent=function(e,t){this.manager.setIntent(e,t)},z.setState=function(e,t){this.manager.setState(e,t)},A._protoOnKey(z,"Back",function(e,t){return this.manager.pop(),!0}),z.$c=function(e){D.$c.call(this,e.$b={})},z.$s=function(e){var t=this;D.$s.call(this,e.$b),delete e.$b,t._removeUpdater("manager"),t.manager=t.parent,t._replaceUpdater("visible",function(){t.visible=t.active},[t,"active"]),t.completed()};var B=a.BaseActivity,R=B.prototype,F=a.Activity=function(e,t){B.apply(this,arguments)},W=F.prototype=Object.create(R);W.constructor=F,W.componentName="controls.core.Activity",W.getActivity=function(){return this},W.stop=function(){this.active=!1,this.stopped()},W.start=function(){this.active=!0,this.started()},W.$c=function(e){R.$c.call(this,e.$b={})},W.$s=function(e){R.$s.call(this,e.$b),delete e.$b,this.completed()};var H=a.BaseActivity,N=H.prototype,j=a.LazyActivity=function(e,t){H.apply(this,arguments)},V=j.prototype=Object.create(N);V.constructor=j,V.componentName="controls.core.LazyActivity",s.addProperty(V,"string","component"),V.init=function(){k.controls.core.BaseActivity.prototype.init.apply(this,arguments);var e=this.createActivity();e&&e.init.apply(e,arguments)},V.start=function(){this.createActivity().start(),this.visible=!0},V.stop=function(){this.visible=!1;var e=this.getActivity();e&&e.stop()},V.getActivity=function(){return this._get("loader",!0).item},V.createActivity=function(){var e=this._get("loader",!0),t=e.item;if(!t){if(e.source=this.component,((t=e.item).anchors.fill=this)._context._processActions(),t.manager=this.manager,!t)throw new Error("can't create component "+this.component);var i=this;t.on("started",function(){i.started()}),t.on("stopped",function(){i.stopped()})}return e.item},V.$c=function(e){N.$c.call(this,e.$b={});var t=new A.Loader(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("loader"),this.addChild(t)},V.$s=function(e){var t=this;N.$s.call(this,e.$b),delete e.$b,t.anchors._replaceUpdater("fill",function(){t.anchors.fill=t.manager},[t,"manager"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.anchors._replaceUpdater("fill",function(){i.anchors.fill=i.parent.manager},[i.parent,"manager"]),i.completed(),t.completed()};var Y=a.Activity,G=Y.prototype,K=w.OsdPage=function(e,t){Y.apply(this,arguments)},X=K.prototype=Object.create(G);X.constructor=K,X.componentName="src.OsdPage",X.$c=function(e){var t=this;G.$c.call(this,e.$b={});var i=new A.Rectangle(t);(e._this$child0=i).$c(e.$c$_this$child0={}),t.addChild(i);var r=new w.Data(t);(e._this$child1=r).$c(e.$c$_this$child1={}),t.addChild(r);var n=new w.BackgroundPreview(t);(e._this$child2=n).$c(e.$c$_this$child2={}),n._setId("bgPreview"),t.addChild(n);var o=new w.Menu(t);(e._this$child3=o).$c(e.$c$_this$child3={}),o._setId("menu"),t.addChild(o);var a=new w.DescriptionPanel(t);(e._this$child4=a).$c(e.$c$_this$child4={}),a._setId("descriptionPanel"),t.addChild(a),t._setId("osdPageProto")},X.$s=function(e){var t=this;G.$s.call(this,e.$b),delete e.$b,t.anchors._removeUpdater("fill"),t.anchors.fill=t.parent,t._removeUpdater("clip"),t.clip=!0;var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._removeUpdater("color"),i.color="#000",i.anchors._removeUpdater("fill"),i.anchors.fill=i.parent,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r.__complete=function(){var e=this._get("menu",!0);w.Data.prototype.__complete.call(this),e.fill(this.value)}.bind(r),r.completed();var n=e._this$child2;n.$s(e.$c$_this$child2),delete e.$c$_this$child2,n.completed();var o=e._this$child3;o.$s(e.$c$_this$child3),delete e.$c$_this$child3,o.anchors._removeUpdater("fill"),o.anchors.fill=o.parent,o.anchors._replaceUpdater("topMargin",function(){o.anchors.topMargin=70*o._context.virtualScale},[o._context,"virtualScale"]),o.anchors._replaceUpdater("leftMargin",function(){o.anchors.leftMargin=50*o._context.virtualScale},[o._context,"virtualScale"]),o.anchors._replaceUpdater("rightMargin",function(){o.anchors.rightMargin=50*o._context.virtualScale},[o._context,"virtualScale"]),o.on("itemFocused",function(e){var t=this._get("bgPreview",!0);e&&e.preview&&e.preview.length&&t.setPreview(e.preview[0])}.bind(o)),o.on("itemSelected",function(e){var t=this._get("osdPageProto",!0),i=this._get("descriptionPanel",!0);this._get("player",!0);e.program?t.push("player",e):i.show(e)}.bind(o)),o.completed();var a=e._this$child4;a.$s(e.$c$_this$child4),delete e.$c$_this$child4,a.on("play",function(e){var t=this._get("osdPageProto",!0);this._get("player",!0);t.push("player",e)}.bind(a)),a.onPressed("Back",function(e,t){var i=this._get("menu",!0);this.visible=!1,i.setFocus()}.bind(a)),a.completed(),t.completed()};var J=a.Activity,q=J.prototype,Z=w.PlayerPage=function(e,t){J.apply(this,arguments)},Q=Z.prototype=Object.create(q);Q.constructor=Z,Q.componentName="src.PlayerPage",Q.init=function(e){var t=this._get("player",!0),i=this._get("playerOsd",!0);t.source="",t.source="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",i.setFocus()},A._protoOn(Q,"stopped",function(){this._get("player",!0).stop()}),Q.$c=function(e){var t=this;q.$c.call(this,e.$b={});var i=new A.VideoPlayer(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("player"),t.addChild(i);var r=new A.Image(t);(e._this$child1=r).$c(e.$c$_this$child1={}),t.addChild(r);var n=new A.Image(t);(e._this$child2=n).$c(e.$c$_this$child2={}),t.addChild(n);var o=new w.PlayerOsd(t);(e._this$child3=o).$c(e.$c$_this$child3={}),o._setId("playerOsd"),t.addChild(o)},Q.$s=function(e){q.$s.call(this,e.$b),delete e.$b,this.anchors._removeUpdater("fill"),this.anchors.fill=this.parent;var t=e._this$child0;t.$s(e.$c$_this$child0),delete e.$c$_this$child0,t.anchors._removeUpdater("fill"),t.anchors.fill=t.parent,t._removeUpdater("autoPlay"),t.autoPlay=!0,t._removeUpdater("focus"),t.focus=!1,t.completed();var i=e._this$child1;i.$s(e.$c$_this$child1),delete e.$c$_this$child1,i._replaceUpdater("width",function(){i.width=.05*i.parent.width},[i.parent,"width"]),i._replaceUpdater("height",function(){i.height=i.width},[i,"width"]),i.anchors._removeUpdater("centerIn"),i.anchors.centerIn=i.parent,i._removeUpdater("source"),i.source="res/spinner.gif",i._replaceUpdater("visible",function(){i.visible=i._get("player").waiting||i._get("player").seeking},[i._get("player"),"seeking",i._get("player"),"waiting"]),i.completed();var r=e._this$child2;r.$s(e.$c$_this$child2),delete e.$c$_this$child2,r._replaceUpdater("width",function(){r.width=.1*r.parent.width},[r.parent,"width"]),r._replaceUpdater("height",function(){r.height=r.width},[r,"width"]),r.anchors._removeUpdater("centerIn"),r.anchors.centerIn=r.parent,r._removeUpdater("source"),r.source="res/player/pause.png",r._replaceUpdater("visible",function(){r.visible=r._get("player").paused},[r._get("player"),"paused"]),r.completed();var n=e._this$child3;n.$s(e.$c$_this$child3),delete e.$c$_this$child3,n._replaceUpdater("progress",function(){n.progress=n._get("player").progress},[n._get("player"),"progress"]),n._replaceUpdater("duration",function(){n.duration=n._get("player").duration},[n._get("player"),"duration"]),n.onPressed("Select",function(e,t){var i=this._get("player",!0);i.paused?i.play():i.pause()}.bind(n)),n.onPressed("Left",function(e,t){this._get("player",!0).seek(-10),this.show()}.bind(n)),n.onPressed("Right",function(e,t){this._get("player",!0).seek(10),this.show()}.bind(n)),n.completed(),this.completed()};var ee=A.EventEmitter,te=ee.prototype,ie=A.RAIIEventEmitter=function(e,t){ee.apply(this,arguments),this._onListener={}},re=ie.prototype=Object.create(te);re.constructor=ie,re.componentName="core.RAIIEventEmitter",re.removeAllListeners=function(e){A.EventEmitter.prototype.removeAllListeners.call(this,e),e in this._onListener?this._onListener[e][1](e):""in this._onListener&&this._onListener[""][1](e)},re.on=function(e,t){if(!(e in this._eventHandlers)&&(e in this._onListener?this._onListener[e][0](e):""in this._onListener&&this._onListener[""][0](e),this._eventHandlers[e]))throw new Error("listener callback added event handler");A.EventEmitter.prototype.on.call(this,e,t)},re.onListener=function(e,t,i){this._onListener[e]=[t,i]},re.$c=function(e){te.$c.call(this,e.$b={})},re.$s=function(e){te.$s.call(this,e.$b),delete e.$b,this.completed()};var ne=A.Object,oe=ne.prototype,ae=o.Stylesheet=function(e,t){ne.apply(this,arguments);var i=this._context,r=i.options,n=this.style=i.createElement("style");n.dom.type="text/css",this.prefix=r.prefix;var o=r.id,a=null===document.getElementById(i,o),s=window.Modernizr.prefixedCSS("user-select")+": none; ",c=k.core.os,l="android"===c||"androidttk"===c||"hisense"===c;n.setHtml("div#"+o+" { position: absolute; visibility: hidden; left: 0px; top: 0px; }"+("webOS"===c||l?this.mangleRule("div","{ "+s+" }"):"")+(l?this.mangleRule("div","{ -webkit-tap-highlight-color: rgba(255, 255, 255, 0); -webkit-focus-ring-color: rgba(255, 255, 255, 0); outline: none; }"):"")+(a?"body { padding: 0; margin: 0; border: 0px; overflow: hidden; }":"")+this.mangleRule("video","{ position: absolute; }")+this.mangleRule("img","{ position: absolute; -webkit-touch-callout: none; "+s+" }"));var h=k.html5.html.getElement(i,"head");h.append(n),h.updateStyle(),this._addRule=k.html5.html.createAddRule(n.dom).bind(this),this._lastId=0},se=ae.prototype=Object.create(oe);se.constructor=ae,se.componentName="html5.Stylesheet",se.allocateClass=function(e){var t=this.prefix;return(t||"")+e+"-"+this._lastId++},se.mangleSelector=function(e){var t=this.prefix;return t?e+"."+t+"core-item":e},se.mangleRule=function(e,t){return this.mangleSelector(e)+" "+t+" "},se.addRule=function(e,t){this._addRule(e,t)},se.$c=function(e){oe.$c.call(this,e.$b={})},se.$s=function(e){oe.$s.call(this,e.$b),delete e.$b,this.completed()};var ce=A.Object,le=ce.prototype,he=A.Location=function(e,t){ce.apply(this,arguments);var i=A.__locationBackend;if(!i)throw new Error("no backend found");this.impl=i().createLocation(this)},de=he.prototype=Object.create(le);de.constructor=he,de.componentName="core.Location",s.addProperty(de,"string","hash"),s.addProperty(de,"string","host"),s.addProperty(de,"string","href"),s.addProperty(de,"string","port"),s.addProperty(de,"string","origin"),s.addProperty(de,"string","hostname"),s.addProperty(de,"string","pathname"),s.addProperty(de,"string","protocol"),s.addProperty(de,"string","search"),s.addProperty(de,"Object","state"),de.changeHref=function(e){this.impl.changeHref(e)},de.pushState=function(e,t,i){this.impl.pushState(e,t,i)},de.$c=function(e){le.$c.call(this,e.$b={})},de.$s=function(e){le.$s.call(this,e.$b),delete e.$b,this.completed()};var pe=A.Object,ue=pe.prototype,ge=A.System=function(e,t){pe.apply(this,arguments),this.vendor=A.vendor,this.device=A.device,this.os=A.os,this.browser=A.browser,this.userAgent=A.userAgent,this.language=A.language;var i=this._context;i.language=this.language.replace("-","_"),this.webkit=0<=this.userAgent.toLowerCase().indexOf("webkit"),this.support3dTransforms=i.backend.capabilities.csstransforms3d||!1,this.supportTransforms=i.backend.capabilities.csstransforms||!1,this.supportTransitions=i.backend.capabilities.csstransitions||!1,this.resolutionWidth=$manifest$resolutionWidth,this.resolutionHeight=$manifest$resolutionHeight},fe=ge.prototype=Object.create(ue);fe.constructor=ge,fe.componentName="core.System",s.addProperty(fe,"string","userAgent"),s.addProperty(fe,"string","language"),s.addProperty(fe,"string","browser"),s.addProperty(fe,"string","vendor"),s.addProperty(fe,"string","os"),s.addProperty(fe,"bool","webkit"),s.addProperty(fe,"bool","support3dTransforms"),s.addProperty(fe,"bool","supportTransforms"),s.addProperty(fe,"bool","supportTransitions"),s.addProperty(fe,"bool","portrait"),s.addProperty(fe,"bool","landscape"),s.addProperty(fe,"bool","pageActive",!0),s.addProperty(fe,"int","screenWidth"),s.addProperty(fe,"int","screenHeight"),s.addProperty(fe,"int","contextWidth"),s.addProperty(fe,"int","contextHeight"),s.addProperty(fe,"int","resolutionWidth"),s.addProperty(fe,"int","resolutionHeight"),s.addProperty(fe,"bool","virtualKeyboard"),fe.Desktop=0,ge.Desktop=0,fe.Tv=1,ge.Tv=1,fe.Mobile=2,ge.Mobile=2,s.addProperty(fe,"enum","device"),fe.MobileS=0,ge.MobileS=0,fe.MobileM=1,ge.MobileM=1,fe.MobileL=2,ge.MobileL=2,fe.Tablet=3,ge.Tablet=3,fe.Laptop=4,ge.Laptop=4,fe.LaptopL=5,ge.LaptopL=5,fe.Laptop4K=6,ge.Laptop4K=6,s.addProperty(fe,"enum","layoutType"),fe._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var e=this.contextWidth;e<=320?this.layoutType=this.MobileS:e<=375?this.layoutType=this.MobileM:e<=425?this.layoutType=this.MobileL:e<=768?this.layoutType=this.Tablet:this.contextWidth<=1024?this.layoutType=this.Laptop:this.contextWidth<=1440?this.layoutType=this.LaptopL:this.layoutType=this.Laptop4K}};_=function(e){this._updateLayoutType()};A._protoOnChanged(fe,"contextWidth",_),A._protoOnChanged(fe,"contextHeight",_),fe.$c=function(e){ue.$c.call(this,e.$b={})},fe.$s=function(e){var t=this;ue.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("portrait",function(){t.portrait=t.parent.width<t.parent.height},[t.parent,"width",t.parent,"height"]),t._replaceUpdater("landscape",function(){t.landscape=!t.portrait},[t,"portrait"]),t._replaceUpdater("contextWidth",function(){t.contextWidth=t._context.width},[t._context,"width"]),t._replaceUpdater("contextHeight",function(){t.contextHeight=t._context.height},[t._context,"height"]),t._replaceUpdater("virtualKeyboard",function(){t.virtualKeyboard=t.device===k.core.System.prototype.Tv||t.device===k.core.System.prototype.Mobile},[t,"device"]),t.completed()};var _e=A.Object,me=_e.prototype,ve=w.Constants=function(e,t){_e.apply(this,arguments)},ye=ve.prototype=Object.create(me);ye.constructor=ve,ye.componentName="src.Constants",s.addProperty(ye,"int","animationDuration",300),s.addProperty(ye,"int","delegateAnimationDuration",200),ye.intToTime=function(e){var t=Math.floor(e),i=Math.floor(t/60)%60,r=Math.floor(t%60),n=Math.floor(t/3600);return(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)},ye.$c=function(e){me.$c.call(this,e.$b={})},ye.$s=function(e){me.$s.call(this,e.$b),delete e.$b,this.completed()};var $e=A.Object,be=$e.prototype,we=w.ColorTheme=function(e,t){$e.apply(this,arguments)},xe=we.prototype=Object.create(be);xe.constructor=we,xe.componentName="src.ColorTheme",s.addProperty(xe,"Color","panelColor","#212121"),s.addProperty(xe,"Color","focusablePanelColor","#424242"),s.addProperty(xe,"Color","textColor","#fff"),s.addProperty(xe,"Color","subTextColor","#aaa"),s.addProperty(xe,"Color","accentColor","#F44336"),xe.$c=function(e){be.$c.call(this,e.$b={})},xe.$s=function(e){be.$s.call(this,e.$b),delete e.$b,this.completed()};var Ce=A.Item,ke=Ce.prototype,Ae=A.Loader=function(e,t){Ce.apply(this,arguments)},Pe=Ae.prototype=Object.create(ke);Pe.constructor=Ae,Pe.componentName="core.Loader",Pe.loaded=A.createSignal("loaded"),s.addProperty(Pe,"string","source"),s.addProperty(Pe,"Object","item"),Pe.discard=function(){this.discardItem(),A.Item.prototype.discard.call(this)},Pe.discardItem=function(){var e=this.item;e&&(e.discard(),e=null)},Pe._load=function(){var e=this.source;if(e){log("loading "+e+"â€¦");for(var t=e.split("."),i=k;t.length;){if(void 0===(i=i[t.shift()]))throw new Error("unknown component used: "+e)}this.item=new i(this),A.core.createObject(this.item),this.loaded()}},Pe.__complete=function(){ke.__complete.call(this),!this.item&&this.source&&this._load()},A._protoOnChanged(Pe,"recursiveVisible",function(e){this.item&&this._updateVisibilityForChild(this.item,e)}),A._protoOnChanged(Pe,"source",function(e){this.discardItem(),this._load()}),Pe.$c=function(e){ke.$c.call(this,e.$b={})},Pe.$s=function(e){ke.$s.call(this,e.$b),delete e.$b,this.completed()};var Se=A.Item,Ie=Se.prototype,Te=A.Rectangle=function(e,t){Se.apply(this,arguments),this._context.backend.initRectangle(this)},Oe=Te.prototype=Object.create(Ie);(Oe._propertyToStyle=Object.create(Ie._propertyToStyle)).color="background-color",Oe.constructor=Te,Oe.componentName="core.Rectangle",s.addProperty(Oe,"color","color","#0000"),s.addLazyProperty(Oe,"border",function(e,t){var i,r={lazy$border:i=new A.Border(e,t)};return i.$c(r.$c$lazy$border={}),(i=r.lazy$border).$s(r.$c$lazy$border),delete r.$c$lazy$border,i.completed(),i}),s.addProperty(Oe,"Gradient","gradient"),A._protoOnChanged(Oe,"color",function(e){this.style("background-color",A.Color.normalize(e))}),Oe.$c=function(e){Ie.$c.call(this,e.$b={})},Oe.$s=function(e){Ie.$s.call(this,e.$b),delete e.$b,this.completed()};var Ue=A.Object,Me=Ue.prototype,Le=w.Data=function(e,t){Ue.apply(this,arguments)},De=Le.prototype=Object.create(Me);De.constructor=Le,De.componentName="src.Data",s.addProperty(De,"variant","value"),De.__complete=function(){Me.__complete.call(this),this.value={root:[{text:"TV channels",target:"channels"},{text:"Sci-Fi",target:"scifi"},{text:"Action",target:"action"},{text:"Adventure",target:"adventure"},{text:"Animation",target:"toons"},{text:"Drama",target:"drama"},{text:"Crime",target:"crime"},{text:"Thriller",target:"thriller"},{text:"Biography",target:"biopic"},{text:"Comedy",target:"comedy"}],channels:[{text:"Discovery",icon:"res/channels/icons/2.png",preview:["res/channels/preview/2.png"],color:"#424242",url:"",program:{title:"ÐŸÑƒÑÑ‚ÑŒ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"Animal Planet",icon:"res/channels/icons/3.png",preview:["res/channels/preview/3.png"],color:"#EEEEEE",url:"",program:{title:"ÐŸÑƒÑÑ‚ÑŒ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"Investigation Discovery",icon:"res/channels/icons/4.png",preview:["res/channels/preview/4.png"],color:"#fff",url:"",program:{title:"ÐŸÑƒÑÑ‚ÑŒ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"History",icon:"res/channels/icons/5.png",preview:["res/channels/preview/5.png"],color:"#212121",url:"",program:{title:"ÐŸÑƒÑÑ‚ÑŒ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"Paramount Comedy",icon:"res/channels/icons/6.png",preview:["res/channels/preview/6.png"],color:"#ff5353",url:"",program:{title:"ÐŸÑƒÑÑ‚ÑŒ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚",description:"",startTime:"20:00",stopTime:"21:00"}}],adventure:[{text:"The Revenant",icon:"res/vod/posters/revenant.png",preview:["res/vod/preview/revenant_1.png"],url:"",movieInfo:{title:"The Revenant",slogan:"Blood lost. Life found.",description:"A frontiersman on a fur trading expedition in the 1820s fights for survival after being mauled by a bear and left for dead by members of his own hunting team.",year:2015,duration:156,rating:{imdb:8.3},genre:["Adventure","Drama","Thriller"],cast:"Leonardo DiCaprio, Tom Hardy, Will Poulter",director:"Alejandro GonzÃ¡lez IÃ±Ã¡rritu"}},{text:"Everest",icon:"res/vod/posters/everest.png",preview:["res/vod/preview/everest_1.png"],url:"",movieInfo:{title:"Everest",slogan:"Never let go",description:"A climbing expedition on Mt. Everest is devastated by a severe snow storm.",year:"2015",duration:121,rating:{imdb:7.1},genre:["Adventure","Biography","Drama"],cast:"Jason Clarke, Ang Phula Sherpa, Thomas M. Wright",director:"Baltasar KormÃ¡kur"}}],action:[{text:"Avengers Age of Ultron",icon:"res/vod/posters/ultron.png",preview:["res/vod/preview/ultron_1.png"],url:"",movieInfo:{title:"Avengers Age of Ultron",slogan:"A new age begins",description:"When Tony Stark and Bruce Banner try to jump-start a dormant peacekeeping program called Ultron, things go horribly wrong and it's up to Earth's Mightiest Heroes to stop the villainous Ultron from enacting his terrible plans.",year:"2015",duration:142,rating:{imdb:7.6},genre:["Action","Adventure","Sci-Fi"],cast:"Robert Downey Jr., Chris Evans, Mark Ruffalo",director:"Joss Whedon"}},{text:"Law Abiding Citizen",icon:"res/vod/posters/law.png",preview:["res/vod/preview/law_1.png"],url:"",movieInfo:{title:"Law Abiding Citizen",slogan:"They killed his family. Now justice is his vengeance",description:"A frustrated man decides to take justice into his own hands after a plea bargain sets one of his family's killers free. He targets not only the killer but also the district attorney and others involved in the deal.",year:"2009",duration:109,rating:{imdb:7.4},genre:["Crime","Drama","Thriller"],cast:"Gerard Butler, Jamie Foxx, Leslie Bibb",director:"F. Gary Gray"}},{text:"The Dark Knight Rises",icon:"res/vod/posters/batmanRises.png",preview:["res/vod/preview/batmanRises_1.png"],url:"",movieInfo:{title:"The Dark Knight Rises",slogan:"The Legend Ends",description:"Eight years after the Joker's reign of anarchy, the Dark Knight, with the help of the enigmatic Selina, is forced from his imposed exile to save Gotham City, now on the edge of total annihilation, from the brutal guerrilla terrorist Bane.",year:"2012",duration:164,rating:{imdb:8.5},genre:["Action","Thriller"],cast:"Christian Bale, Tom Hardy, Anne Hathaway",director:"Christopher Nolan"}},{text:"District 9",icon:"res/vod/posters/district9.png",preview:["res/vod/preview/district9_1.png"],url:"",movieInfo:{title:"District 9",slogan:"You are not welcome here.",description:"An extraterrestrial race forced to live in slum-like conditions on Earth suddenly finds a kindred spirit in a government agent who is exposed to their biotechnology.",year:"2009",duration:112,rating:{imdb:8},genre:["Action","Sci-Fi"],cast:"Sharlto Copley, David James, Jason Cope",director:"Neill Blomkamp"}},{text:"Divergent",icon:"res/vod/posters/divergent.png",preview:["res/vod/preview/divergent_1.png"],url:"",movieInfo:{title:"Divergent",slogan:"What Makes You Different, Makes You Dangerous",description:"In a world divided by factions based on virtues, Tris learns she's Divergent and won't fit in. When she discovers a plot to destroy Divergents, Tris and the mysterious Four must find out what makes Divergents dangerous before it's too late.",year:"2014",duration:139,rating:{imdb:6.8},genre:["Adventure","Mystery","Sci-Fi"],cast:"Shailene Woodley, Theo James, Kate Winslet",director:"Neil Burger"}},{text:"Terminator Genisys",icon:"res/vod/posters/terminator.png",preview:["res/vod/preview/terminator_1.png"],url:"",movieInfo:{title:"Terminator Genisys",slogan:"The rules have been reset.",description:"When John Connor, leader of the human resistance, sends Sgt. Kyle Reese back to 1984 to protect Sarah Connor and safeguard the future, an unexpected turn of events creates a fractured timeline.",year:"2015",duration:126,rating:{imdb:6.6},genre:["Action","Adventure","Sci-Fi"],cast:"Arnold Schwarzenegger, Jason Clarke, Emilia Clarke",director:"Alan Taylor"}},{text:"Mad Max: Fury Road",icon:"res/vod/posters/madMax.png",preview:["res/vod/preview/madMax_1.png"],url:"",movieInfo:{title:"Mad Max: Fury Road",slogan:"What a lovely day.",description:"A woman rebels against a tyrannical ruler in postapocalyptic Australia in search for her home-land with the help of a group of female prisoners, a psychotic worshipper, and a drifter named Max.",year:"2015",duration:120,rating:{imdb:8.2},genre:["Action","Adventure","Sci-Fi"],cast:"Tom Hardy, Charlize Theron, Nicholas Hoult",director:"George Miller"}},{text:"Fury",icon:"res/vod/posters/fury.png",preview:["res/vod/preview/fury_1.png"],url:"",movieInfo:{title:"Fury",slogan:"War never ends quietly.",description:"April, 1945. As the Allies make their final push in the European Theatre, a battle-hardened Army sergeant named Wardaddy commands a Sherman tank and his five-man crew on a deadly mission behind enemy lines. Outnumbered, out-gunned, and with a rookie soldier thrust into their platoon, Wardaddy and his men face overwhelming odds in their heroic attempts to strike at the heart of Nazi Germany.",year:"2014",duration:134,rating:{imdb:7.6},genre:["Action","Drama","War"],cast:"Brad Pitt, Shia LaBeouf, Logan Lerman",director:"David Ayer"}},{text:"Exodus: Gods and Kings",icon:"res/vod/posters/exodus.png",preview:["res/vod/preview/exodus_1.png"],url:"",movieInfo:{title:"Exodus: Gods and Kings",slogan:"Once Brothers, Now Enemies",description:"The defiant leader Moses rises up against the Egyptian Pharaoh Ramses, setting 600,000 slaves on a monumental journey of escape from Egypt and its terrifying cycle of deadly plagues.",year:"2014",duration:150,rating:{imdb:6.1},genre:["Action","Adventure","Drama"],cast:"Christian Bale, Joel Edgerton, Ben Kingsley",director:"Ridley Scott"}},{text:"Django Unchained",icon:"res/vod/posters/django.png",preview:["res/vod/preview/django_1.png"],url:"",movieInfo:{title:"Django Unchained",slogan:'The "D" is Silent. Payback Won\'t Be.',description:"With the help of a German bounty hunter, a freed slave sets out to rescue his wife from a brutal Mississippi plantation owner.",year:"2012",duration:165,rating:{imdb:8.5},genre:["Drama","Western"],cast:"Jamie Foxx, Christoph Waltz, Leonardo DiCaprio",director:"Quentin Tarantino"}},{text:"Fast & Furious 6",icon:"res/vod/posters/furious.png",preview:["res/vod/preview/furious_1.png"],url:"",movieInfo:{title:"Fast & Furious 6",slogan:"All roads lead to this",description:"Hobbs has Dominic and Brian reassemble their crew to take down a team of mercenaries: Dominic unexpectedly gets convoluted also facing his presumed deceased girlfriend, Letty.",year:"2013",duration:130,rating:{imdb:7.2},genre:["Action","Crime","Thriller"],cast:"Vin Diesel, Paul Walker, Dwayne Johnson",director:"Justin Lin"}},{text:"Spectre",icon:"res/vod/posters/spectre.png",preview:["res/vod/preview/spectre_1.png"],url:"",movieInfo:{title:"Spectre",description:"A cryptic message from Bond's past sends him on a trail to uncover a sinister organization. While M battles political forces to keep the secret service alive, Bond peels back the layers of deceit to reveal the terrible truth behind SPECTRE.",year:"2015",duration:148,rating:{imdb:7},genre:["Action","Adventure","Thriller"],cast:"Daniel Craig, Christoph Waltz, LÃ©a Seydoux",director:"Sam Mendes"}},{text:"The Expendables",icon:"res/vod/posters/expendables.png",preview:["res/vod/preview/expendables_1.png"],url:"",movieInfo:{title:"The Expendables",slogan:"Every movie has a hero. This one has them all.",description:'Barney Ross leads the "Expendables", a band of highly skilled mercenaries including knife enthusiast Lee Christmas, martial arts expert Yin Yang, heavy weapons specialist Hale Caesar, demolitionist Toll Road and loose-cannon sniper Gunner Jensen.',year:2010,duration:103,rating:{imdb:6.5},genre:["Action","Adventure"],cast:"Sylvester Stallone, Jason Statham, Jet Li",director:"Sylvester Stallone"}},{text:"300",icon:"res/vod/posters/300.png",preview:["res/vod/preview/300_1.png"],url:"",movieInfo:{title:"300",slogan:"Spartans, tonight, we dine in hell!",description:"In the Battle of Thermopylae of 480 BC an alliance of Greek city-states fought the invading Persian army in the mountain pass of Thermopylae. Vastly outnumbered, the Greeks held back the enemy in one of the most famous last stands of history.",year:2006,duration:117,rating:{imdb:7.7},genre:["Action","Fantasy","War"],cast:"Gerard Butler, Lena Headey, David Wenham",director:"Zack Snyder"}},{text:"Ant-Man",icon:"res/vod/posters/antman.png",preview:["res/vod/preview/antman_1.png"],url:"",movieInfo:{title:"Ant-Man",slogan:"Heroes don't get any bigger.",description:"Armed with the astonishing ability to shrink in scale but increase in strength, con-man Scott Lang must embrace his inner-hero and help his mentor, Dr. Hank Pym, protect the secret behind his spectacular Ant-Man suit from a new generation of towering threats. Against seemingly insurmountable obstacles, Pym and Lang must plan and pull off a heist that will save the world.",year:2015,duration:117,rating:{imdb:7.4},genre:["Action","Adventure","Sci-Fi"],cast:"Paul Rudd, Michael Douglas, Corey Stoll",director:"Peyton Reed"}},{text:"Skyfall",icon:"res/vod/posters/skyfall.png",preview:["res/vod/preview/skyfall_1.png"],url:"",movieInfo:{title:"Skyfall",description:"Bond's loyalty to M is tested when her past comes back to haunt her. Whilst MI6 comes under attack, 007 must track down and destroy the threat, no matter how personal the cost.",year:"2012",duration:143,rating:{imdb:7.8},genre:["Action","Adventure","Thriller"],cast:"Daniel Craig, Javier Bardem, Naomie Harris",director:"Sam Mendes"}},{text:"X-Men: First Class",icon:"res/vod/posters/firstclass.png",preview:["res/vod/preview/firstclass_1.png"],url:"",movieInfo:{title:"X-Men: First Class",slogan:"The story begins",description:"In 1962, the United States government enlists the help of Mutants with superhuman abilities to stop a malicious dictator who is determined to start World War III.",year:2011,duration:132,rating:{imdb:7.8},genre:["Action","Adventure","Sci-Fi"],cast:"James McAvoy, Michael Fassbender, Jennifer Lawrence",director:"Matthew Vaughn"}},{text:"Rise of the Planet of the Apes",icon:"res/vod/posters/planetOfTheApes.png",preview:["res/vod/preview/planetOfTheApes_1.png"],url:"",movieInfo:{title:"Rise of the Planet of the Apes",slogan:"Evolution Becomes Revolution",description:"A substance, designed to help the brain repair itself, gives rise to a super-intelligent chimp who leads an ape uprising.",year:2011,duration:105,rating:{imdb:7},genre:["Action","Sci-Fi"],cast:"James Franco, Andy Serkis, Freida Pinto",director:"Rupert Wyatt"}}],scifi:[{text:"Ex Machina",icon:"res/vod/posters/exMachina.png",preview:["res/vod/preview/exMachina_1.png"],url:"",movieInfo:{title:"Ex Machina",slogan:"What happens to me if I fail your test?",description:"A young programmer is selected to participate in a groundbreaking experiment in artificial intelligence by evaluating the human qualities of a breathtaking female AI.",year:"2015",duration:108,rating:{imdb:7.7},genre:["Drama","Mystery","Sci-Fi"],cast:"Alicia Vikander, Domhnall Gleeson, Oscar Isaac",director:"Alex Garland"}},{text:"Gravity",icon:"res/vod/posters/gravity.png",preview:["res/vod/preview/gravity_1.png"],url:"",movieInfo:{title:"Gravity",slogan:"Don't Let Go",description:"A medical engineer and an astronaut work together to survive after an accident leaves them adrift in space.",year:"2013",duration:91,rating:{imdb:7.9},genre:["Sci-Fi","Thriller"],cast:"Sandra Bullock, George Clooney, Ed Harris",director:"Alfonso CuarÃ³n"}},{text:"Edge of Tomorrow",icon:"res/vod/posters/tomorrow.png",preview:["res/vod/preview/tomorrow_1.png"],url:"",movieInfo:{title:"Edge of Tomorrow",slogan:"Live, Die, Repeat",description:"A military officer is brought into an alien war against an extraterrestrial enemy who can reset the day and know the future. When this officer is enabled with the same power, he teams up with a Special Forces warrior to try and end the war.",year:"2014",duration:113,rating:{imdb:7.9},genre:["Action","Adventure","Sci-Fi"],cast:"Tom Cruise, Emily Blunt, Bill Paxton",director:"Doug Liman"}},{text:"The Martian",icon:"res/vod/posters/martian.png",preview:["res/vod/preview/martian_1.png"],url:"",movieInfo:{title:"The Martian",slogan:"Bring him home",description:"During a manned mission to Mars, Astronaut Mark Watney is presumed dead after a fierce storm and left behind by his crew. But Watney has survived and finds himself stranded and alone on the hostile planet. With only meager supplies, he must draw upon his ingenuity, wit and spirit to subsist and find a way to signal to Earth that he is alive.",year:2015,duration:144,rating:{imdb:8.1},genre:["Sci-Fi","Adventure"],cast:"Matt Damon, Jessica Chastain, Kristen Wiig",director:"Ridley Scott"}},{text:"Interstellar",icon:"res/vod/posters/interstellar.png",preview:["res/vod/preview/interstellar_1.png"],url:"",movieInfo:{title:"Interstellar",slogan:"Mankind's next step will be our greatest.",description:"In the near future, Earth has been devastated by drought and famine, causing a scarcity in food and extreme changes in climate. When humanity is facing extinction, a mysterious rip in the space-time continuum is discovered, giving mankind the opportunity to widen its lifespan.",year:2014,duration:169,rating:{imdb:8.6},genre:["Sci-Fi","Drama","Adventure"],cast:"Matthew McConaughey, Anne Hathaway, Jessica Chastain",director:"Christopher Nolan"}},{text:"Cloud Atlas",icon:"res/vod/posters/atlas.png",preview:["res/vod/preview/atlas_1.png"],url:"",movieInfo:{title:"Cloud Atlas",slogan:"Everything Is Connected",description:"An exploration of how the actions of individual lives impact one another in the past, present and future, as one soul is shaped from a killer into a hero, and an act of kindness ripples across centuries to inspire a revolution.",year:2012,duration:172,rating:{imdb:7.5},genre:["Sci-Fi","Drama"],cast:"Tom Hanks, Halle Berry, Hugh Grant",director:"Tom Tykwer, Andy Wachowski"}},{text:"Avengers Age of Ultron",icon:"res/vod/posters/ultron.png",preview:["res/vod/preview/ultron_1.png"],url:"",movieInfo:{title:"Avengers Age of Ultron",slogan:"A new age begins",description:"When Tony Stark and Bruce Banner try to jump-start a dormant peacekeeping program called Ultron, things go horribly wrong and it's up to Earth's Mightiest Heroes to stop the villainous Ultron from enacting his terrible plans.",year:"2015",duration:142,rating:{imdb:7.6},genre:["Action","Adventure","Sci-Fi"],cast:"Robert Downey Jr., Chris Evans, Mark Ruffalo",director:"Joss Whedon"}},{text:"Ant-Man",icon:"res/vod/posters/antman.png",preview:["res/vod/preview/antman_1.png"],url:"",movieInfo:{title:"Ant-Man",slogan:"Heroes don't get any bigger.",description:"Armed with the astonishing ability to shrink in scale but increase in strength, con-man Scott Lang must embrace his inner-hero and help his mentor, Dr. Hank Pym, protect the secret behind his spectacular Ant-Man suit from a new generation of towering threats. Against seemingly insurmountable obstacles, Pym and Lang must plan and pull off a heist that will save the world.",year:2015,duration:117,rating:{imdb:7.4},genre:["Action","Adventure","Sci-Fi"],cast:"Paul Rudd, Michael Douglas, Corey Stoll",director:"Peyton Reed"}},{text:"X-Men: First Class",icon:"res/vod/posters/firstclass.png",preview:["res/vod/preview/firstclass_1.png"],url:"",movieInfo:{title:"X-Men: First Class",slogan:"The story begins",description:"In 1962, the United States government enlists the help of Mutants with superhuman abilities to stop a malicious dictator who is determined to start World War III.",year:2011,duration:132,rating:{imdb:7.8},genre:["Action","Adventure","Sci-Fi"],cast:"James McAvoy, Michael Fassbender, Jennifer Lawrence",director:"Matthew Vaughn"}},{text:"Rise of the Planet of the Apes",icon:"res/vod/posters/planetOfTheApes.png",preview:["res/vod/preview/planetOfTheApes_1.png"],url:"",movieInfo:{title:"Rise of the Planet of the Apes",slogan:"Evolution Becomes Revolution",description:"A substance, designed to help the brain repair itself, gives rise to a super-intelligent chimp who leads an ape uprising.",year:2011,duration:105,rating:{imdb:7},genre:["Action","Sci-Fi"],cast:"James Franco, Andy Serkis, Freida Pinto",director:"Rupert Wyatt"}}],crime:[{text:"American Hustle",icon:"res/vod/posters/hustle.png",preview:["res/vod/preview/hustle_1.png"],url:"",movieInfo:{title:"American Hustle",slogan:"Everyone Hustles To Survive",description:"A con man, Irving Rosenfeld, along with his seductive partner Sydney Prosser, is forced to work for a wild FBI agent, Richie DiMaso, who pushes them into a world of Jersey powerbrokers and mafia.",year:2013,duration:138,rating:{imdb:7.3},genre:["Crime","Drama"],cast:"Christian Bale, Amy Adams, Bradley Cooper",director:"David O. Russell"}},{text:"Law Abiding Citizen",icon:"res/vod/posters/law.png",preview:["res/vod/preview/law_1.png"],url:"",movieInfo:{title:"Law Abiding Citizen",slogan:"They killed his family. Now justice is his vengeance",description:"A frustrated man decides to take justice into his own hands after a plea bargain sets one of his family's killers free. He targets not only the killer but also the district attorney and others involved in the deal.",year:"2009",duration:109,rating:{imdb:7.4},genre:["Crime","Drama","Thriller"],cast:"Gerard Butler, Jamie Foxx, Leslie Bibb",director:"F. Gary Gray"}},{text:"Black Mass",icon:"res/vod/posters/blackMass.png",preview:["res/vod/preview/blackMass_1.png"],url:"",movieInfo:{title:"Black Mass",slogan:"Keep your enemies close.",description:"The true story of Whitey Bulger, the brother of a state senator and the most infamous violent criminal in the history of South Boston, who became an FBI informant to take down a Mafia family invading his turf.",year:"2015",duration:123,rating:{imdb:7.1},genre:["Biography","Crime","Drama"],cast:"Johnny Depp, Benedict Cumberbatch, Dakota Johnson",director:"Scott Cooper"}},{text:"The Girl with the Dragon Tattoo",icon:"res/vod/posters/tattoo.png",preview:["res/vod/preview/tattoo_1.png"],url:"",movieInfo:{title:"The Girl with the Dragon Tattoo",slogan:"The Feel Bad Movie of Christmas",description:"Journalist Mikael Blomkvist is aided in his search for a woman who has been missing for forty years by Lisbeth Salander, a young computer hacker.",year:"2011",duration:158,rating:{imdb:7.8},genre:["Crime","Drama","Mystery"],cast:"Daniel Craig, Rooney Mara, Christopher Plummer",director:"David Fincher"}},{text:"Public Enemies",icon:"res/vod/posters/publicEnemies.png",preview:["res/vod/preview/publicEnemies_1.png"],url:"",movieInfo:{title:"Public Enemies",slogan:"America's Most Wanted",description:"The Feds try to take down notorious American gangsters John Dillinger, Baby Face Nelson and Pretty Boy Floyd during a booming crime wave in the 1930s.",year:2009,duration:140,rating:{imdb:7},genre:["Crime","Drama"],cast:"Christian Bale, Johnny Depp, Christian Stolte",director:"Michael Mann"}}],toons:[{text:"Wreck-It Ralph",icon:"res/vod/posters/ralph.png",preview:["res/vod/preview/ralph_1.png"],url:"",movieInfo:{title:"Wreck-It Ralph",slogan:"When the arcade closes, the fun begins",description:"Wreck-It Ralph longs to be as beloved as his game's perfect Good Guy, Fix-It Felix. Problem is, nobody loves a Bad Guy. But they do love heroes...",year:2012,duration:101,rating:{imdb:7.8},genre:["Animation","Adventure"],cast:"John C. Reilly, Jack McBrayer, Jane Lynch",director:"Rich Moore"}},{text:"The Lego Movie",icon:"res/vod/posters/lego.png",preview:["res/vod/preview/lego_1.png"],url:"",movieInfo:{title:"The Lego Movie",slogan:"The story of a nobody who saved everybody",description:"An ordinary Lego construction worker, thought to be the prophesied 'Special', is recruited to join a quest to stop an evil tyrant from gluing the Lego universe into eternal stasis.",year:"2014",duration:100,rating:{imdb:7.8},genre:["Animation","Action","Adventure"],cast:"Chris Pratt, Elizabeth Banks, Will Arnett",director:"Phil Lord"}},{text:"Finding Nemo",icon:"res/vod/posters/nemo.png",preview:["res/vod/preview/nemo_1.png"],url:"",movieInfo:{title:"Finding Nemo",slogan:"Fish are just like people, only flakier.",description:"After his son is captured in the Great Barrier Reef and taken to Sydney, a timid clownfish sets out on a journey to bring him home.",year:"2003",duration:100,rating:{imdb:8.1},genre:["Animation","Adventure","Comedy"],cast:"Albert Brooks, Ellen DeGeneres, Alexander Gould",director:"Andrew Stanton"}},{text:"Frozen",icon:"res/vod/posters/frozen.png",preview:["res/vod/preview/frozen_1.png"],url:"",movieInfo:{title:"Frozen",description:"When the newly crowned Queen Elsa accidentally uses her power to turn things into ice to curse her home in infinite winter, her sister, Anna, teams up with a mountain man, his playful reindeer, and a snowman to change the weather condition.",year:"2013",duration:102,rating:{imdb:7.6},genre:["Animation","Adventure","Comedy"],cast:"Kristen Bell, Idina Menzel, Jonathan Groff",director:"Chris Buck"}},{text:"Shrek",icon:"res/vod/posters/shrek.png",preview:["res/vod/preview/shrek_1.png"],url:"",movieInfo:{title:"Shrek",slogan:"It's COOL",description:"After his swamp is filled with magical creatures, an ogre agrees to rescue a princess for a villainous lord in order to get his land back.",year:"2001",duration:90,rating:{imdb:7.9},genre:["Animation","Adventure","Comedy"],cast:"Mike Myers, Eddie Murphy, Cameron Diaz",director:"Andrew Adamson"}},{text:"Shrek 2",icon:"res/vod/posters/shrek2.png",preview:["res/vod/preview/shrek2_1.png"],url:"",movieInfo:{title:"Shrek 2",slogan:"Not so far, far away...",description:"Princess Fiona's parents invite her and Shrek to dinner to celebrate her marriage. If only they knew the newlyweds were both ogres.",year:"2004",duration:93,rating:{imdb:7.2},genre:["Animation","Adventure","Comedy"],cast:"Mike Myers, Eddie Murphy, Cameron Diaz",director:"Andrew Adamson"}},{text:"Shrek Forever After",icon:"res/vod/posters/shrek4.png",preview:["res/vod/preview/shrek4_1.png"],url:"",movieInfo:{title:"Shrek Forever After",slogan:"Feed me if you dare!",description:"Rumpelstiltskin tricks a mid-life crisis burdened Shrek into allowing himself to be erased from existence and cast in a dark alternate timeline where Rumpel rules supreme.",year:"2010",duration:93,rating:{imdb:6.4},genre:["Animation","Adventure","Comedy"],cast:"Mike Myers, Cameron Diaz, Eddie Murphy",director:"Mike Mitchell"}}],drama:[{text:"Entourage",icon:"res/vod/posters/entourage.png",preview:["res/vod/preview/entourage_1.png"],url:"",movieInfo:{title:"Entourage",slogan:"His fame is their fortune. (season 1)",description:"Film star Vince Chase navigates the vapid terrain of Los Angeles with a close circle of friends and his trusty agent.",year:"2015",duration:28,rating:{imdb:8.6},genre:["Comedy","Drama"],cast:"Kevin Connolly, Adrian Grenier, Kevin Dillon",director:"Doug Ellin"}},{text:"Birdman",icon:"res/vod/posters/birdman.png",preview:["res/vod/preview/birdman_1.png"],url:"",movieInfo:{title:"Birdman",description:"Illustrated upon the progress of his latest Broadway play, a former popular actor's struggle to cope with his current life as a wasted actor is shown.",year:"2014",duration:119,rating:{imdb:7.8},genre:["Comedy","Drama"],cast:"Michael Keaton, Zach Galifianakis, Edward Norton",director:"Alejandro GonzÃƒÂ¡lez"}},{text:"The Book Thief",icon:"res/vod/posters/bookThief.png",preview:["res/vod/preview/bookThief_1.png"],url:"",movieInfo:{title:"The Book Thief",slogan:"This is the tale of the Book Thief, as narrated by death. And when Death tells a story, you really have to listen. It's just a small story really, about, amongst other things: a girl+an accordionist+some fanatical Germans Jewish fist fighter+and quite a lot of thievery.",description:"While subjected to the horrors of World War II Germany, young Liesel finds solace by stealing books and sharing them with others. In the basement of her home, a Jewish refugee is being sheltered by her adoptive parents.",year:"2013",duration:131,rating:{imdb:7.6},genre:["Drama","War"],cast:"Sophie NÃ©lisse, Geoffrey Rush, Emily Watson",director:"Brian Percival"}},{text:"The Bucket List",icon:"res/vod/posters/bucket.png",preview:["res/vod/preview/bucket_1.png"],url:"",movieInfo:{title:"The Bucket List",slogan:"When he closed his eyes, his heart was opened",description:"Two terminally ill men escape from a cancer ward and head off on a road trip with a wish list of to-dos before they die.",year:"2007",duration:97,rating:{imdb:7.4},genre:["Adventure","Comedy","Drama"],cast:"Jack Nicholson, Morgan Freeman, Sean Hayes",director:"Rob Reiner"}},{text:"Fifty Shades of Grey",icon:"res/vod/posters/grey.png",preview:["res/vod/preview/grey_1.png"],url:"",movieInfo:{title:"Fifty Shades of Grey",slogan:"The worldwide phenomenon comes to life.",description:"Literature student Anastasia Steele's life changes forever when she meets handsome, yet tormented, billionaire Christian Grey.",year:"2015",duration:125,rating:{imdb:4.1},genre:["Drama","Romance"],cast:"Dakota Johnson, Jamie Dornan, Jennifer Ehle",director:"Sam Taylor-Johnson"}},{text:"The Intern",icon:"res/vod/posters/intern.png",preview:["res/vod/preview/intern_1.png"],url:"",movieInfo:{title:"The Intern",slogan:"Experience never gets old.",description:"70-year-old widower Ben Whittaker has discovered that retirement isn't all it's cracked up to be. Seizing an opportunity to get back in the game, he becomes a senior intern at an online fashion site, founded and run by Jules Ostin.",year:"2015",duration:121,rating:{imdb:7.2},genre:["Comedy"],cast:"Robert De Niro, Anne Hathaway, Rene Russo",director:"Nancy Meyers"}},{text:"Slumdog Millionaire",icon:"res/vod/posters/million.png",preview:["res/vod/preview/million_1.png"],url:"",movieInfo:{title:"Slumdog Millionaire",slogan:"The boy who had the answer to every question.",description:'A Mumbai teen reflects on his upbringing in the slums when he is accused of cheating on the Indian Version of "Who Wants to be a Millionaire?"',year:"2008",duration:120,rating:{imdb:8},genre:["Drama","Romance"],cast:"Dev Patel, Freida Pinto, Saurabh Shukla",director:"Danny Boyle"}},{text:"Silver Linings Playbook",icon:"res/vod/posters/playbook.png",preview:["res/vod/preview/playbook_1.png"],url:"",movieInfo:{title:"Silver Linings Playbook",slogan:"Watch for the signs",description:"After a stint in a mental institution, former teacher Pat Solitano moves back in with his parents and tries to reconcile with his ex-wife. Things get more challenging when Pat meets Tiffany, a mysterious girl with problems of her own.",year:"2012",duration:122,rating:{imdb:7.8},genre:["Comedy","Drama","Romance"],cast:"Bradley Cooper, Jennifer Lawrence, Robert De Niro",director:"David O. Russell"}},{text:"The Aviator",icon:"res/vod/posters/aviator.png",preview:["res/vod/preview/aviator_1.png"],url:"",movieInfo:{title:"The Aviator",slogan:"Imagine a life without limits.",description:"A biopic depicting the early years of legendary director and aviator, Howard Hughes, career from the late 1920s to the mid-1940s.",year:"2004",duration:170,rating:{imdb:7.5},genre:["Biography","Drama"],cast:"Leonardo DiCaprio, Cate Blanchett, Kate Beckinsale",director:"Martin Scorsese"}},{text:"The Social Network",icon:"res/vod/posters/social.png",preview:["res/vod/preview/social_1.png"],url:"",movieInfo:{title:"The Social Network",slogan:"You don't get to 500 million friends without making a few enemies",description:"Harvard student Mark Zuckerberg creates the social networking site that would become known as Facebook, but is later sued by two brothers who claimed he stole their idea, and the cofounder who was later squeezed out of the business.",year:"2010",duration:120,rating:{imdb:7.8},genre:["Biography","Drama"],cast:"Jesse Eisenberg, Andrew Garfield, Justin Timberlake",director:"David Fincher"}},{text:"The Imitation Game",icon:"res/vod/posters/imitation.png",preview:["res/vod/preview/imitation_1.png"],url:"",movieInfo:{title:"The Imitation Game",slogan:"Behind every code is an enigma",description:"During World War II, mathematician Alan Turing tries to crack the enigma code with help from fellow mathematicians.",year:"2014",duration:114,rating:{imdb:8.1},genre:["Biography","Drama","Thriller"],cast:"Benedict Cumberbatch, Keira Knightley, Matthew Goode",director:"Morten Tyldum"}},{text:"The Iron Lady",icon:"res/vod/posters/ironLady.png",preview:["res/vod/preview/ironLady_1.png"],url:"",movieInfo:{title:"The Iron Lady",slogan:"Never compromise",description:"An elderly Margaret Thatcher talks to the imagined presence of her recently deceased husband as she struggles to come to terms with his death while scenes from her past life, from girlhood to British prime minister, intervene.",year:"2011",duration:105,rating:{imdb:6.4},genre:["Biography","Drama","History"],cast:"Meryl Streep, Jim Broadbent, Richard E. Grant",director:"Phyllida Lloyd"}}],thriller:[{text:"The Imitation Game",icon:"res/vod/posters/imitation.png",preview:["res/vod/preview/imitation_1.png"],url:"",movieInfo:{title:"The Imitation Game",slogan:"Behind every code is an enigma",description:"During World War II, mathematician Alan Turing tries to crack the enigma code with help from fellow mathematicians.",year:"2014",duration:114,rating:{imdb:8.1},genre:["Biography","Drama","Thriller"],cast:"Benedict Cumberbatch, Keira Knightley, Matthew Goode",director:"Morten Tyldum"}}],comedy:[{text:"Entourage",icon:"res/vod/posters/entourage.png",preview:["res/vod/preview/entourage_1.png"],url:"",movieInfo:{title:"Entourage",slogan:"His fame is their fortune. (season 1)",description:"Film star Vince Chase navigates the vapid terrain of Los Angeles with a close circle of friends and his trusty agent.",duration:28,rating:{imdb:8.6},genre:["Comedy","Drama"],cast:"Kevin Connolly, Adrian Grenier, Kevin Dillon",director:"Doug Ellin"}},{text:"Silver Linings Playbook",icon:"res/vod/posters/playbook.png",preview:["res/vod/preview/playbook_1.png"],url:"",movieInfo:{title:"Silver Linings Playbook",slogan:"Watch for the signs",description:"After a stint in a mental institution, former teacher Pat Solitano moves back in with his parents and tries to reconcile with his ex-wife. Things get more challenging when Pat meets Tiffany, a mysterious girl with problems of her own.",year:"2012",duration:122,rating:{imdb:7.8},genre:["Comedy","Drama","Romance"],cast:"Bradley Cooper, Jennifer Lawrence, Robert De Niro",director:"David O. Russell"}},{text:"Due Date",icon:"res/vod/posters/dueDate.png",preview:["res/vod/preview/dueDate_1.png"],url:"",movieInfo:{title:"Due Date",slogan:'What are you, "Girl or something"?',description:"High-strung father-to-be Peter Highman is forced to hitch a ride with aspiring actor Ethan Tremblay on a road trip in order to make it to his child's birth on time.",year:"2010",duration:95,rating:{imdb:6.6},genre:["Comedy"],cast:"Robert Downey Jr., Zach Galifianakis, Michelle Monaghan",director:"Todd Phillips"}},{text:"The Hangover Part III",icon:"res/vod/posters/hangover3.png",preview:["res/vod/preview/hangover3_1.png"],url:"",movieInfo:{title:"The Hangover Part III",slogan:"The End.",description:"When one of their own is kidnapped by an angry gangster, the Wolf Pack must track down Mr. Chow, who has escaped from prison and is on the lam.",year:"2013",duration:100,rating:{imdb:5.9},genre:["Comedy"],cast:"Bradley Cooper, Zach Galifianakis, Ed Helms",director:"Todd Phillips"}},{text:"Get Hard",icon:"res/vod/posters/getHard.png",preview:["res/vod/preview/getHard_1.png"],url:"",movieInfo:{title:"Get Hard",slogan:"An education in incarceration",description:"When millionaire James King is jailed for fraud and bound for San Quentin, he turns to Darnell Lewis to prep him to go behind bars.",year:"2015",duration:100,rating:{imdb:6.1},genre:["Comedy","Crime"],cast:"Will Ferrell, Kevin Hart, Alison Brie",director:"Etan Cohen"}}],biopic:[{text:"The Aviator",icon:"res/vod/posters/aviator.png",preview:["res/vod/preview/aviator_1.png"],url:"",movieInfo:{title:"The Aviator",slogan:"Imagine a life without limits.",description:"A biopic depicting the early years of legendary director and aviator, Howard Hughes, career from the late 1920s to the mid-1940s.",year:"2004",duration:170,rating:{imdb:7.5},genre:["Biography","Drama"],cast:"Leonardo DiCaprio, Cate Blanchett, Kate Beckinsale",director:"Martin Scorsese"}},{text:"The Social Network",icon:"res/vod/posters/social.png",preview:["res/vod/preview/social_1.png"],url:"",movieInfo:{title:"The Social Network",slogan:"You don't get to 500 million friends without making a few enemies",description:"Harvard student Mark Zuckerberg creates the social networking site that would become known as Facebook, but is later sued by two brothers who claimed he stole their idea, and the cofounder who was later squeezed out of the business.",year:"2010",duration:120,rating:{imdb:7.8},genre:["Biography","Drama"],cast:"Jesse Eisenberg, Andrew Garfield, Justin Timberlake",director:"David Fincher"}},{text:"The Imitation Game",icon:"res/vod/posters/imitation.png",preview:["res/vod/preview/imitation_1.png"],url:"",movieInfo:{title:"The Imitation Game",slogan:"Behind every code is an enigma",description:"During World War II, mathematician Alan Turing tries to crack the enigma code with help from fellow mathematicians.",year:"2014",duration:114,rating:{imdb:8.1},genre:["Biography","Drama","Thriller"],cast:"Benedict Cumberbatch, Keira Knightley, Matthew Goode",director:"Morten Tyldum"}},{text:"The Theory of Everything",icon:"res/vod/posters/theory.png",preview:["res/vod/preview/theory_1.png"],url:"",movieInfo:{title:"The Theory of Everything",slogan:"The incredible story of Jane and Stephen Hawking",description:"A look at the relationship between the famous physicist Stephen Hawking and his wife.",year:"2014",duration:123,rating:{imdb:7.7},genre:["Biography","Drama","Romance"],cast:"Eddie Redmayne, Felicity Jones, Tom Prior",director:"James Marsh"}},{text:"Black Mass",icon:"res/vod/posters/blackMass.png",preview:["res/vod/preview/blackMass_1.png"],url:"",movieInfo:{title:"Black Mass",slogan:"Keep your enemies close.",description:"The true story of Whitey Bulger, the brother of a state senator and the most infamous violent criminal in the history of South Boston, who became an FBI informant to take down a Mafia family invading his turf.",year:"2015",duration:123,rating:{imdb:7.1},genre:["Biography","Crime","Drama"],cast:"Johnny Depp, Benedict Cumberbatch, Dakota Johnson",director:"Scott Cooper"}},{text:"The Iron Lady",icon:"res/vod/posters/ironLady.png",preview:["res/vod/preview/ironLady_1.png"],url:"",movieInfo:{title:"The Iron Lady",slogan:"Never compromise",description:"An elderly Margaret Thatcher talks to the imagined presence of her recently deceased husband as she struggles to come to terms with his death while scenes from her past life, from girlhood to British prime minister, intervene.",year:"2011",duration:105,rating:{imdb:6.4},genre:["Biography","Drama","History"],cast:"Meryl Streep, Jim Broadbent, Richard E. Grant",director:"Phyllida Lloyd"}}]}},De.$c=function(e){Me.$c.call(this,e.$b={})},De.$s=function(e){Me.$s.call(this,e.$b),delete e.$b,this.completed()};var Ee=A.Item,ze=Ee.prototype,Be=A.Image=function(e,t){Ee.apply(this,arguments),this._context.backend.initImage(this),this._scheduleLoad()},Re=Be.prototype=Object.create(ze);Re.constructor=Be,Re.componentName="core.Image",s.addProperty(Re,"int","paintedWidth"),s.addProperty(Re,"int","paintedHeight"),s.addProperty(Re,"int","sourceWidth"),s.addProperty(Re,"int","sourceHeight"),s.addProperty(Re,"string","source"),s.addProperty(Re,"bool","smooth",!0),s.addProperty(Re,"bool","preload",!1),Re.Null=0,Be.Null=0,Re.Ready=1,Be.Ready=1,Re.Loading=2,Be.Loading=2,Re.Error=3,Be.Error=3,s.addProperty(Re,"enum","status"),Re.Stretch=0,Be.Stretch=0,Re.PreserveAspectFit=1,Be.PreserveAspectFit=1,Re.PreserveAspectCrop=2,Be.PreserveAspectCrop=2,Re.Tile=3,Be.Tile=3,Re.TileVertically=4,Be.TileVertically=4,Re.TileHorizontally=5,Be.TileHorizontally=5,Re.Pad=6,Be.Pad=6,s.addProperty(Re,"enum","fillMode"),Re.AlignVCenter=0,Be.AlignVCenter=0,Re.AlignTop=1,Be.AlignTop=1,Re.AlignBottom=2,Be.AlignBottom=2,s.addProperty(Re,"enum","verticalAlignment"),Re.AlignHCenter=0,Be.AlignHCenter=0,Re.AlignLeft=1,Be.AlignLeft=1,Re.AlignRight=2,Be.AlignRight=2,s.addProperty(Re,"enum","horizontalAlignment"),Re._scheduleLoad=function(){(this.preload||this.recursiveVisible)&&this._context.delayedAction("image.load",this,this._load)},Re._load=function(){if(this.status!==this.Ready&&(this.preload||this.recursiveVisible)&&this.source){this.status=this.Loading;var e=this._context,t=this._imageLoaded.bind(this);e.backend.loadImage(this,e.wrapNativeCallback(t))}},Re._onError=function(){this.status=this.Error},Re.getClass=function(){return"core-image"},Re._imageLoaded=function(e){if(e){var t={"background-image":'url("'+this.source+'")'},i=e.width,r=e.height;switch(this.sourceWidth=i,this.sourceHeight=r,this.fillMode!==Be.PreserveAspectFit&&(this.paintedWidth=this.width,this.paintedHeight=this.height),this.horizontalAlignment){case Be.AlignHCenter:t["background-position-x"]="center";break;case Be.AlignLeft:t["background-position-x"]="left";break;case Be.AlignRight:t["background-position-x"]="right"}switch(this.verticalAlignment){case Be.AlignVCenter:t["background-position-y"]="center";break;case Be.AlignTop:t["background-position-y"]="top";break;case Be.AlignBottom:t["background-position-y"]="bottom"}switch(this.fillMode){case Be.Stretch:t["background-repeat"]="no-repeat",t["background-size"]="100% 100%";break;case Be.TileVertically:t["background-repeat"]="repeat-y",t["background-size"]="100% "+r+"px";break;case Be.TileHorizontally:t["background-repeat"]="repeat-x",t["background-size"]=i+"px 100%";break;case Be.Tile:t["background-repeat"]="repeat-y repeat-x",t["background-size"]="auto";break;case Be.PreserveAspectCrop:t["background-repeat"]="no-repeat",t["background-size"]="cover";break;case Be.Pad:t["background-repeat"]="no-repeat",t["background-position"]="0% 0%",t["background-size"]="auto";break;case Be.PreserveAspectFit:t["background-repeat"]="no-repeat",t["background-size"]="contain";var n=this.width,o=this.height,a=0,s=i/r;n&&o&&(a=n/o),a<s&&n?(this.paintedWidth=n,this.paintedHeight=n/s):(this.paintedHeight=o,this.paintedWidth=o*s)}t["image-rendering"]=this.smooth?"auto":"pixelated",this.style(t),this.status=Be.Ready}else this.status=Be.Error};_=function(e){this._scheduleLoad()};A._protoOnChanged(Re,"preload",_),A._protoOnChanged(Re,"recursiveVisible",_),A._protoOnChanged(Re,"width",_),A._protoOnChanged(Re,"height",_),A._protoOnChanged(Re,"fillMode",_),A._protoOnChanged(Re,"source",function(e){this.status=this.Null,this._scheduleLoad()}),Re.$c=function(e){ze.$c.call(this,e.$b={})},Re.$s=function(e){var t=this;ze.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t.sourceWidth},[t,"sourceWidth"]),t._replaceUpdater("height",function(){t.height=t.sourceHeight},[t,"sourceHeight"]),t.completed()};var Fe=A.Image,We=Fe.prototype,He=w.BackgroundPreview=function(e,t){Fe.apply(this,arguments)},Ne=He.prototype=Object.create(We);Ne.constructor=He,Ne.componentName="src.BackgroundPreview",s.addProperty(Ne,"string","preview",""),Ne.setPreview=function(e){var t=this._get("updatePreviewTimer",!0);this.preview=e,t.restart()},Ne.$c=function(e){var t=this;We.$c.call(this,e.$b={});var i=new A.Rectangle(t);(e._this$child0=i).$c(e.$c$_this$child0={}),t.addChild(i);var r=new A.Timer(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("updatePreviewTimer"),t.addChild(r),t._setId("backgroundPreviewProto")},Ne.$s=function(e){var t=this;We.$s.call(this,e.$b),delete e.$b,t.anchors._removeUpdater("fill"),t.anchors.fill=t.parent,t._removeUpdater("fillMode"),t.fillMode=k.core.Image.prototype.PreserveAspectCrop,t._removeUpdater("focus"),t.focus=!1;var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._removeUpdater("color"),i.color="#0009",i.anchors._removeUpdater("fill"),i.anchors.fill=i.parent,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r._removeUpdater("interval"),r.interval=1e3,r.on("triggered",function(){var e=this._get("backgroundPreviewProto",!0);e.source=e.preview}.bind(r)),r.completed();var n,o={behavior__this_on_backgroundImage:n=new A.Animation(t)};n.$c(o.$c$behavior__this_on_backgroundImage={}),(n=o.behavior__this_on_backgroundImage).$s(o.$c$behavior__this_on_backgroundImage),delete o.$c$behavior__this_on_backgroundImage,n._replaceUpdater("duration",function(){n.duration=n._get("consts").animationDuration},[n._get("consts"),"animationDuration"]),n.completed(),t.setAnimation("backgroundImage",n),t.completed()};var je=A.Item,Ve=je.prototype,Ye=w.Menu=function(e,t){je.apply(this,arguments)},Ge=Ye.prototype=Object.create(Ve);Ge.constructor=Ye,Ge.componentName="src.Menu",Ge.itemFocused=A.createSignal("itemFocused"),Ge.itemSelected=A.createSignal("itemSelected"),s.addProperty(Ge,"bool","showed",!0),Ge.show=function(){var e=this._get("innerMenuView",!0);this.showed=!0,e.setFocus()},Ge.hide=function(){this.showed=!1},Ge.fill=function(e){var t=this._get("menuModel",!0);if(e&&e.root){var i=[];for(var r in e.root){var n=e.root[r].target;i.push({text:e.root[r].text,content:e[n],selectedIndex:0})}t.assign(i)}else log("Can't read data from file.")},Ge.$c=function(e){var t=this;Ve.$c.call(this,e.$b={});var i=new A.ListModel(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("menuModel"),t.addChild(i);var r=new A.ListModel(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("menuDelegateModel"),t.addChild(r);var n=new A.ListView(t);(e._this$child2=n).$c(e.$c$_this$child2={}),n._setId("innerMenuView"),n.delegate=function(e,t){var i,r={delegate:i=new w.MenuDelegate(e,t)};return i.$c(r.$c$delegate={}),(i=r.delegate).$s(r.$c$delegate),delete r.$c$delegate,i.on("itemSelected",function(e){var t=this._get("innerMenuView",!0),i=this._get("octoMenuProto",!0),r=t.getItemPosition(t.currentIndex);e.x+=i.x+t.x,e.y+=i.y+t.y+r[1]-t.contentY,i.itemSelected(e)}.bind(i)),i.on("itemFocused",function(e){var t=this._get("innerMenuView",!0),i=this._get("octoMenuProto",!0),r=this._get("menuModel",!0),n=t.currentIndex;log("menu item focused",n,e.index),r.setProperty(n,"selectedIndex",e.index),i.itemFocused(e)}.bind(i)),i.completed(),i},t.addChild(n),t._setId("octoMenuProto")},Ge.$s=function(e){var t=this;Ve.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("focus",function(){t.focus=t.showed},[t,"showed"]),t._replaceUpdater("visible",function(){t.visible=t.showed},[t,"showed"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r.completed();var n=e._this$child2;n.$s(e.$c$_this$child2),delete e.$c$_this$child2,n.anchors._removeUpdater("fill"),n.anchors.fill=n.parent,n._removeUpdater("keyNavigationWraps"),n.keyNavigationWraps=!1,n.content._removeUpdater("cssTranslatePositioning"),n.content.cssTranslatePositioning=!0,n._removeUpdater("positionMode"),n.positionMode=k.core.ListView.prototype.Center,n._removeUpdater("animationDuration"),n.animationDuration=300,n._replaceUpdater("model",function(){n.model=n._get("menuModel")},[n,"menuModel"]),n.completed(),t.completed()};var Ke=A.Rectangle,Xe=Ke.prototype,Je=w.DescriptionPanel=function(e,t){Ke.apply(this,arguments)},qe=Je.prototype=Object.create(Xe);qe.constructor=Je,qe.componentName="src.DescriptionPanel",qe.play=A.createSignal("play"),s.addProperty(qe,"variant","item"),qe.show=function(e){var t=this._get("descriptionDirector",!0),i=this._get("descriptionPoster",!0),r=this._get("durationText",!0),n=this._get("descriptionText",!0),o=this._get("descriptionSlogan",!0),a=this._get("playButton",!0),s=this._get("descriptionCast",!0),c=this._get("genreText",!0),l=this._get("descriptionRating",!0),h=this._get("yearText",!0),d=this._get("descriptionTitle",!0);this.visible=!0,this.item=e,a.setFocus(),i.source=e.icon;var p=e.movieInfo;d.text=p.title,o.text=p.slogan?p.slogan:"",n.text=p.description,t.value=p.director?p.director:"",s.value=p.cast?p.cast:"",l.text=p.rating.imdb.toString();for(var u="",g=0;g<p.genre.length;++g)u+=p.genre[g]+" ";c.text=u,h.text=p.year.toString(),r.text=p.duration.toString()+" min"},qe.$c=function(e){Xe.$c.call(this,e.$b={});var t=new A.Rectangle(this);(e._this$child0=t).$c(e.$c$_this$child0={});var i=new A.Image(t);(e._this_child0$child0=i).$c(e.$c$_this_child0$child0={}),i._setId("descriptionPoster"),t.addChild(i);var r=new A.Item(t);(e._this_child0$child1=r).$c(e.$c$_this_child0$child1={});var n=new A.Item(r);(e._this_child0_child1$child0=n).$c(e.$c$_this_child0_child1$child0={});var o=new w.BigText(n);(e._this_child0_child1_child0$child0=o).$c(e.$c$_this_child0_child1_child0$child0={}),o._setId("descriptionTitle"),n.addChild(o);var a=new w.TinyText(n);(e._this_child0_child1_child0$child1=a).$c(e.$c$_this_child0_child1_child0$child1={}),a._setId("descriptionSlogan"),n.addChild(a);var s=new A.Column(n);(e._this_child0_child1_child0$child2=s).$c(e.$c$_this_child0_child1_child0$child2={});var c=new w.KeyValueText(s);(e._this_child0_child1_child0_child2$child0=c).$c(e.$c$_this_child0_child1_child0_child2$child0={}),c._setId("descriptionDirector"),s.addChild(c);var l=new w.KeyValueText(s);(e._this_child0_child1_child0_child2$child1=l).$c(e.$c$_this_child0_child1_child0_child2$child1={}),l._setId("descriptionCast"),s.addChild(l);var h=new A.Row(s);(e._this_child0_child1_child0_child2$child2=h).$c(e.$c$_this_child0_child1_child0_child2$child2={});var d=new w.TinyText(h);(e._this_child0_child1_child0_child2_child2$child0=d).$c(e.$c$_this_child0_child1_child0_child2_child2$child0={}),d._setId("genreText"),h.addChild(d);var p=new w.TinyText(h);(e._this_child0_child1_child0_child2_child2$child1=p).$c(e.$c$_this_child0_child1_child0_child2_child2$child1={}),p._setId("yearText"),h.addChild(p);var u=new w.TinyText(h);(e._this_child0_child1_child0_child2_child2$child2=u).$c(e.$c$_this_child0_child1_child0_child2_child2$child2={}),u._setId("durationText"),h.addChild(u);var g=new A.Row(h);(e._this_child0_child1_child0_child2_child2$child3=g).$c(e.$c$_this_child0_child1_child0_child2_child2$child3={});var f=new A.Image(g);(e._this_child0_child1_child0_child2_child2_child3$child0=f).$c(e.$c$_this_child0_child1_child0_child2_child2_child3$child0={}),f._setId("imdbIcon"),g.addChild(f);var _=new w.TinyText(g);(e._this_child0_child1_child0_child2_child2_child3$child1=_).$c(e.$c$_this_child0_child1_child0_child2_child2_child3$child1={}),_._setId("descriptionRating"),g.addChild(_),h.addChild(g),s.addChild(h),s._setId("shortInfoLayout"),n.addChild(s);var m=new w.SmallText(n);(e._this_child0_child1_child0$child3=m).$c(e.$c$_this_child0_child1_child0$child3={}),m._setId("descriptionText"),n.addChild(m),r.addChild(n);var v=new w.TextButton(r);(e._this_child0_child1$child1=v).$c(e.$c$_this_child0_child1$child1={}),v._setId("playButton"),r.addChild(v),t.addChild(r),t._setId("descripationBackground"),this.addChild(t),this._setId("panelProto")},qe.$s=function(e){var t=this;Xe.$s.call(this,e.$b),delete e.$b,t.anchors._replaceUpdater("fill",function(){t.anchors.fill=t._get("mainWindow")},[t,"mainWindow"]),t._removeUpdater("visible"),t.visible=!1,t._removeUpdater("focus"),t.focus=!0,t._removeUpdater("color"),t.color="#000c";var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._replaceUpdater("width",function(){i.width=i.height+500*i._context.virtualScale},[i,"height",i._context,"virtualScale"]),i._replaceUpdater("height",function(){i.height=i._get("descriptionPoster").height},[i._get("descriptionPoster"),"height"]),i.anchors._removeUpdater("centerIn"),i.anchors.centerIn=i.parent,i._replaceUpdater("color",function(){i.color=i._get("colorTheme").panelColor},[i._get("colorTheme"),"panelColor"]);var r=e._this_child0$child0;r.$s(e.$c$_this_child0$child0),delete e.$c$_this_child0$child0,r._replaceUpdater("width",function(){r.width=r.height/3*2},[r,"height"]),r._replaceUpdater("height",function(){r.height=.5*r._get("panelProto").height},[r._get("panelProto"),"height"]),r._removeUpdater("fillMode"),r.fillMode=k.core.Image.prototype.Stretch,r.completed();var n=e._this_child0$child1;n.$s(e.$c$_this_child0$child1),delete e.$c$_this_child0$child1,n.anchors._replaceUpdater("top",function(){n.anchors.top=n._get("descriptionPoster").top},[n._get("descriptionPoster"),"top"]),n.anchors._replaceUpdater("left",function(){n.anchors.left=n._get("descriptionPoster").right},[n._get("descriptionPoster"),"right"]),n.anchors._replaceUpdater("right",function(){n.anchors.right=n._get("descripationBackground").right},[n._get("descripationBackground"),"right"]),n.anchors._replaceUpdater("bottom",function(){n.anchors.bottom=n._get("descriptionPoster").bottom},[n._get("descriptionPoster"),"bottom"]),n.anchors._replaceUpdater("margins",function(){n.anchors.margins=10*n._context.virtualScale},[n._context,"virtualScale"]),n._replaceUpdater("opacity",function(){n.opacity=n.activeFocus?1:0},[n,"activeFocus"]),n._removeUpdater("clip"),n.clip=!0;var o=e._this_child0_child1$child0;o.$s(e.$c$_this_child0_child1$child0),delete e.$c$_this_child0_child1$child0,o._replaceUpdater("width",function(){o.width=610*o._context.virtualScale},[o._context,"virtualScale"]),o._replaceUpdater("height",function(){o.height=400*o._context.virtualScale},[o._context,"virtualScale"]),o.anchors._replaceUpdater("top",function(){o.anchors.top=o.parent.top},[o.parent,"top"]),o.anchors._replaceUpdater("left",function(){o.anchors.left=o.parent.left},[o.parent,"left"]);var a=e._this_child0_child1_child0$child0;a.$s(e.$c$_this_child0_child1_child0$child0),delete e.$c$_this_child0_child1_child0$child0,a.anchors._replaceUpdater("top",function(){a.anchors.top=a.parent.top},[a.parent,"top"]),a.anchors._replaceUpdater("left",function(){a.anchors.left=a.parent.left},[a.parent,"left"]),a._replaceUpdater("color",function(){a.color=a._get("colorTheme").textColor},[a._get("colorTheme"),"textColor"]),a.completed();var s=e._this_child0_child1_child0$child1;s.$s(e.$c$_this_child0_child1_child0$child1),delete e.$c$_this_child0_child1_child0$child1,s.anchors._replaceUpdater("top",function(){s.anchors.top=s._get("descriptionTitle").bottom},[s._get("descriptionTitle"),"bottom"]),s.anchors._replaceUpdater("left",function(){s.anchors.left=s.parent.left},[s.parent,"left"]),s.anchors._replaceUpdater("right",function(){s.anchors.right=s.parent.right},[s.parent,"right"]),s._replaceUpdater("color",function(){s.color=s._get("colorTheme").subTextColor},[s._get("colorTheme"),"subTextColor"]),s.completed();var c=e._this_child0_child1_child0$child2;c.$s(e.$c$_this_child0_child1_child0$child2),delete e.$c$_this_child0_child1_child0$child2,c.anchors._replaceUpdater("top",function(){c.anchors.top=c._get("descriptionSlogan").bottom},[c._get("descriptionSlogan"),"bottom"]),c.anchors._replaceUpdater("left",function(){c.anchors.left=c.parent.left},[c.parent,"left"]),c.anchors._replaceUpdater("right",function(){c.anchors.right=c.parent.right},[c.parent,"right"]),c.anchors._replaceUpdater("topMargin",function(){c.anchors.topMargin=10*c._context.virtualScale},[c._context,"virtualScale"]),c._replaceUpdater("spacing",function(){c.spacing=3*c._context.virtualScale},[c._context,"virtualScale"]);var l=e._this_child0_child1_child0_child2$child0;l.$s(e.$c$_this_child0_child1_child0_child2$child0),delete e.$c$_this_child0_child1_child0_child2$child0,l._removeUpdater("key"),l.key="Director:",l._replaceUpdater("visible",function(){l.visible=l.value},[l,"value"]),l.completed();var h=e._this_child0_child1_child0_child2$child1;h.$s(e.$c$_this_child0_child1_child0_child2$child1),delete e.$c$_this_child0_child1_child0_child2$child1,h._removeUpdater("key"),h.key="Cast:",h._replaceUpdater("visible",function(){h.visible=h.value},[h,"value"]),h.completed();var d=e._this_child0_child1_child0_child2$child2;d.$s(e.$c$_this_child0_child1_child0_child2$child2),delete e.$c$_this_child0_child1_child0_child2$child2,d._replaceUpdater("height",function(){d.height=23*d._context.virtualScale},[d._context,"virtualScale"]),d._replaceUpdater("spacing",function(){d.spacing=30*d._context.virtualScale},[d._context,"virtualScale"]);var p=e._this_child0_child1_child0_child2_child2$child0;p.$s(e.$c$_this_child0_child1_child0_child2_child2$child0),delete e.$c$_this_child0_child1_child0_child2_child2$child0,p.anchors._replaceUpdater("verticalCenter",function(){p.anchors.verticalCenter=p.parent.verticalCenter},[p.parent,"verticalCenter"]),p.completed();var u=e._this_child0_child1_child0_child2_child2$child1;u.$s(e.$c$_this_child0_child1_child0_child2_child2$child1),delete e.$c$_this_child0_child1_child0_child2_child2$child1,u.anchors._replaceUpdater("verticalCenter",function(){u.anchors.verticalCenter=u.parent.verticalCenter},[u.parent,"verticalCenter"]),u.completed();var g=e._this_child0_child1_child0_child2_child2$child2;g.$s(e.$c$_this_child0_child1_child0_child2_child2$child2),delete e.$c$_this_child0_child1_child0_child2_child2$child2,g.anchors._replaceUpdater("verticalCenter",function(){g.anchors.verticalCenter=g.parent.verticalCenter},[g.parent,"verticalCenter"]),g.completed();var f=e._this_child0_child1_child0_child2_child2$child3;f.$s(e.$c$_this_child0_child1_child0_child2_child2$child3),delete e.$c$_this_child0_child1_child0_child2_child2$child3,f._replaceUpdater("height",function(){f.height=f.parent.height},[f.parent,"height"]);var _=e._this_child0_child1_child0_child2_child2_child3$child0;_.$s(e.$c$_this_child0_child1_child0_child2_child2_child3$child0),delete e.$c$_this_child0_child1_child0_child2_child2_child3$child0,_._replaceUpdater("width",function(){_.width=50*_._context.virtualScale},[_._context,"virtualScale"]),_._replaceUpdater("height",function(){_.height=_.parent.height},[_.parent,"height"]),_._removeUpdater("source"),_.source="res/imdb.png",_._removeUpdater("fillMode"),_.fillMode=k.core.Image.prototype.PreserveAspectFit,_.completed();var m=e._this_child0_child1_child0_child2_child2_child3$child1;m.$s(e.$c$_this_child0_child1_child0_child2_child2_child3$child1),delete e.$c$_this_child0_child1_child0_child2_child2_child3$child1,m.anchors._replaceUpdater("verticalCenter",function(){m.anchors.verticalCenter=m.parent.verticalCenter},[m.parent,"verticalCenter"]),m.completed(),f.completed(),d.completed(),c.completed();var v=e._this_child0_child1_child0$child3;v.$s(e.$c$_this_child0_child1_child0$child3),delete e.$c$_this_child0_child1_child0$child3,v._replaceUpdater("height",function(){v.height=105*v._context.virtualScale},[v._context,"virtualScale"]),v.anchors._replaceUpdater("top",function(){v.anchors.top=v._get("shortInfoLayout").bottom},[v._get("shortInfoLayout"),"bottom"]),v.anchors._replaceUpdater("left",function(){v.anchors.left=v.parent.left},[v.parent,"left"]),v.anchors._replaceUpdater("right",function(){v.anchors.right=v.parent.right},[v.parent,"right"]),v.anchors._replaceUpdater("topMargin",function(){v.anchors.topMargin=20*v._context.virtualScale},[v._context,"virtualScale"]),v.anchors._replaceUpdater("rightMargin",function(){v.anchors.rightMargin=15*v._context.virtualScale},[v._context,"virtualScale"]),v._replaceUpdater("color",function(){v.color=v._get("colorTheme").textColor},[v._get("colorTheme"),"textColor"]),v._removeUpdater("wrapMode"),v.wrapMode=k.core.Text.prototype.WordWrap,v._removeUpdater("clip"),v.clip=!0,v.__complete=function(){w.SmallText.prototype.__complete.call(this);this.style("display","block"),this.style("display","-webkit-box"),this.style("text-overflow","ellipsis"),this.style("box-orient","vertical"),this.style("-webkit-box-orient","vertical"),this.style("line-clamp",5),this.style("-webkit-line-clamp",5)}.bind(v),v.completed(),o.completed();var y=e._this_child0_child1$child1;y.$s(e.$c$_this_child0_child1$child1),delete e.$c$_this_child0_child1$child1,y.anchors._replaceUpdater("left",function(){y.anchors.left=y.parent.left},[y.parent,"left"]),y.anchors._replaceUpdater("right",function(){y.anchors.right=y.parent.right},[y.parent,"right"]),y.anchors._replaceUpdater("bottom",function(){y.anchors.bottom=y.parent.bottom},[y.parent,"bottom"]),y._removeUpdater("text"),y.text="Play",y.onPressed("Select",function(e,t){var i=this._get("panelProto",!0);i.play(i.item),i.visible=!1}.bind(y)),y.completed();var $,b={behavior__this_child0_child1_on_opacity:$=new A.Animation(n)};$.$c(b.$c$behavior__this_child0_child1_on_opacity={}),($=b.behavior__this_child0_child1_on_opacity).$s(b.$c$behavior__this_child0_child1_on_opacity),delete b.$c$behavior__this_child0_child1_on_opacity,$._replaceUpdater("duration",function(){$.duration=$._get("consts").animationDuration},[$._get("consts"),"animationDuration"]),$.completed(),n.setAnimation("opacity",$),n.completed(),i.completed(),t.completed()};var Ze=A.Item,Qe=Ze.prototype,et=A.VideoPlayer=function(e,t){Ze.apply(this,arguments),this.impl=null,this._createPlayer()},tt=et.prototype=Object.create(Qe);tt.constructor=et,tt.componentName="core.VideoPlayer",tt.finished=A.createSignal("finished"),tt.text=A.createSignal("text"),tt.error=A.createSignal("error"),s.addProperty(tt,"string","backend"),s.addProperty(tt,"string","source"),s.addProperty(tt,"string","backgroundImage"),s.addProperty(tt,"Color","backgroundColor","#000"),s.addProperty(tt,"float","volume",1),s.addProperty(tt,"bool","loop"),s.addProperty(tt,"bool","ready"),s.addProperty(tt,"bool","muted"),s.addProperty(tt,"bool","paused"),s.addProperty(tt,"bool","waiting"),s.addProperty(tt,"bool","seeking"),s.addProperty(tt,"bool","stalled"),s.addProperty(tt,"bool","autoPlay"),s.addProperty(tt,"real","duration"),s.addProperty(tt,"real","progress"),s.addProperty(tt,"real","buffered"),s.addProperty(tt,"real","startPosition"),tt._getPlayer=function(){return null===this.impl&&this._createPlayer(),this.impl},tt._createPlayer=function(){if(this.impl)return this.impl;var e=this.source,t=this.backend;log("preferred backend: "+t);var i=A.__videoBackends,r=[];if(t&&i[t]){var n=i[t]();return this.impl=n.createPlayer(this)}for(var o in i){var a=(n=i[o]()).probeUrl(e);0<a&&r.push({backend:n,score:a})}if(r.sort(function(e,t){return t.score-e.score}),0===r.length)throw new Error("no backends for source "+e);return this.impl=r[0].backend.createPlayer(this)},tt._scheduleLayout=function(){this._context.delayedAction("layout",this,this._doLayout)},tt.play=function(){var e=this._get("player",!0);this.source&&(log("play",this.source),(e=this._getPlayer())&&(this._scheduleLayout(),e.play()),this.applyVolume())},tt.pause=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.pause()},tt._doLayout=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.setRect.apply(e,this.toScreen())},tt.stop=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.stop()},tt.getAudioTracks=function(){var e=this._get("player",!0);return(e=this._getPlayer())?e.getAudioTracks():[]},tt.getSubtitles=function(){var e=this._get("player",!0);return(e=this._getPlayer())?e.getSubtitles():[]},tt.getVideoTracks=function(){var e=this._get("player",!0);return(e=this._getPlayer())?e.getVideoTracks():[]},tt.toggleMute=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.setMute(!this.muted)},tt.applyVolume=function(){var e=this._get("player",!0),t=this._get("volumeStorage",!0);1<this.volume?this.volume=1:this.volume<0&&(this.volume=0),t.value=this.volume,(e=this._getPlayer())&&e.setVolume(this.volume)},tt.__complete=function(){var e=this._get("player",!0),t=this._get("volumeStorage",!0);Qe.__complete.call(this),this.volume=+t.value,(e=this._getPlayer())&&e.setBackgroundColor(this.backgroundColor),this.autoPlay&&this.source&&this.play()},tt.volumeUp=function(){this.volume+=.1},tt.volumeDown=function(){this.volume-=.1},tt.setOption=function(e,t){var i=this._get("player",!0);(i=this._getPlayer())&&i.setOption(e,t)},tt.setAudioTrack=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setAudioTrack(e)},tt.setSubtitles=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setSubtitles(e)},tt.setVideoTrack=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setVideoTrack(e)},tt.setupDrm=function(e,t,i,r){var n=this._get("player",!0);(n=this._getPlayer())&&n.setupDrm(e,t,i,r)},tt.seek=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.seek(e)},tt.seekTo=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.seekTo(e)},A._protoOnChanged(tt,"backend",function(e){this.impl=null,this._createPlayer()}),A._protoOnChanged(tt,"backgroundColor",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setBackgroundColor(e)}),A._protoOnChanged(tt,"loop",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setLoop(e)}),A._protoOnChanged(tt,"source",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setSource(e)}),A._protoOnChanged(tt,"recursiveVisible",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setVisibility(e)}),A._protoOnChanged(tt,"ready",function(e){log("ReadyState: "+this.ready)}),A._protoOnChanged(tt,"volume",function(e){this.applyVolume()}),A._protoOnChanged(tt,"autoPlay",function(e){this.setOption("autoplay",e)}),A._protoOnChanged(tt,"backgroundImage",function(e){this.setOption("poster",e)}),A._protoOn(tt,"newBoundingBox",function(){this._scheduleLayout()}),A._protoOn(tt,"error",function(e){this.paused=!1,this.waiting=!1}),tt.$c=function(e){Qe.$c.call(this,e.$b={});var t=new A.PropertyStorage(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("volumeStorage"),this.addChild(t)},tt.$s=function(e){Qe.$s.call(this,e.$b),delete e.$b;var t=e._this$child0;t.$s(e.$c$_this$child0),delete e.$c$_this$child0,t._removeUpdater("name"),t.name="volume",t._removeUpdater("defaultValue"),t.defaultValue=1,t.completed(),this.completed()};var it=A.Item,rt=it.prototype,nt=w.PlayerOsd=function(e,t){it.apply(this,arguments)},ot=nt.prototype=Object.create(rt);ot.constructor=nt,ot.componentName="src.PlayerOsd",s.addProperty(ot,"bool","display"),s.addProperty(ot,"int","duration"),s.addProperty(ot,"real","progress"),ot.show=function(){var e=this._get("displayTimer",!0);this.display=!0,e.restart()},A._protoOnChanged(ot,"duration",function(e){var t=this._get("consts",!0);this._get("durationText",!0).text=t.intToTime(e)}),A._protoOnChanged(ot,"progress",function(e){var t=this._get("consts",!0);this._get("progressText",!0).text=t.intToTime(e)}),ot.$c=function(e){rt.$c.call(this,e.$b={});var t=new A.Rectangle(this);(e._this$child0=t).$c(e.$c$_this$child0={}),s.addProperty(t,"real","progress");var i=new A.Rectangle(t);(e._this_child0$child0=i).$c(e.$c$_this_child0$child0={}),t.addChild(i);var r=new A.Text(t);(e._this_child0$child1=r).$c(e.$c$_this_child0$child1={}),r._setId("progressText"),t.addChild(r);var n=new A.Text(t);(e._this_child0$child2=n).$c(e.$c$_this_child0$child2={}),n._setId("durationText"),t.addChild(n),this.addChild(t);var o=new A.Timer(this);(e._this$child1=o).$c(e.$c$_this$child1={}),o._setId("displayTimer"),this.addChild(o)},ot.$s=function(e){var t=this;rt.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t.parent.width},[t.parent,"width"]),t._replaceUpdater("height",function(){t.height=t.parent.height},[t.parent,"height"]),t._replaceUpdater("opacity",function(){t.opacity=t.display?1:0},[t,"display"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._replaceUpdater("progress",function(){i.progress=0<i.parent.duration?i.parent.progress/i.parent.duration:0},[i.parent,"progress",i.parent,"duration"]),i._replaceUpdater("width",function(){i.width=i.parent.width},[i.parent,"width"]),i._replaceUpdater("height",function(){i.height=50*i._context.virtualScale},[i._context,"virtualScale"]),i._replaceUpdater("color",function(){i.color=i._get("colorTheme").panelColor},[i._get("colorTheme"),"panelColor"]),i.anchors._replaceUpdater("bottom",function(){i.anchors.bottom=i.parent.bottom},[i.parent,"bottom"]);var r=e._this_child0$child0;r.$s(e.$c$_this_child0$child0),delete e.$c$_this_child0$child0,r._replaceUpdater("width",function(){r.width=r.parent.width*r.parent.progress},[r.parent,"progress",r.parent,"width"]),r._replaceUpdater("height",function(){r.height=r.parent.height},[r.parent,"height"]),r._replaceUpdater("color",function(){r.color=r._get("colorTheme").accentColor},[r._get("colorTheme"),"accentColor"]);var n,o={behavior__this_child0_child0_on_width:n=new A.Animation(r)};n.$c(o.$c$behavior__this_child0_child0_on_width={}),(n=o.behavior__this_child0_child0_on_width).$s(o.$c$behavior__this_child0_child0_on_width),delete o.$c$behavior__this_child0_child0_on_width,n._replaceUpdater("duration",function(){n.duration=n._get("consts").animationDuration},[n._get("consts"),"animationDuration"]),n.completed(),r.setAnimation("width",n),r.completed();var a=e._this_child0$child1;a.$s(e.$c$_this_child0$child1),delete e.$c$_this_child0$child1,a.anchors._replaceUpdater("left",function(){a.anchors.left=a.parent.left},[a.parent,"left"]),a.anchors._replaceUpdater("verticalCenter",function(){a.anchors.verticalCenter=a.parent.verticalCenter},[a.parent,"verticalCenter"]),a.anchors._replaceUpdater("leftMargin",function(){a.anchors.leftMargin=30*a._context.virtualScale},[a._context,"virtualScale"]),a.font._replaceUpdater("pixelSize",function(){a.font.pixelSize=32*a._context.virtualScale},[a._context,"virtualScale"]),a._removeUpdater("color"),a.color="#fff",a.completed();var s=e._this_child0$child2;s.$s(e.$c$_this_child0$child2),delete e.$c$_this_child0$child2,s.anchors._replaceUpdater("right",function(){s.anchors.right=s.parent.right},[s.parent,"right"]),s.anchors._replaceUpdater("verticalCenter",function(){s.anchors.verticalCenter=s.parent.verticalCenter},[s.parent,"verticalCenter"]),s.anchors._replaceUpdater("rightMargin",function(){s.anchors.rightMargin=30*s._context.virtualScale},[s._context,"virtualScale"]),s.font._replaceUpdater("pixelSize",function(){s.font.pixelSize=32*s._context.virtualScale},[s._context,"virtualScale"]),s._removeUpdater("color"),s.color="#fff",s.completed(),i.completed();var c=e._this$child1;c.$s(e.$c$_this$child1),delete e.$c$_this$child1,c._removeUpdater("interval"),c.interval=5e3,c.on("triggered",function(){this.parent.display=!1}.bind(c)),c.completed();var l,h={behavior__this_on_opacity:l=new A.Animation(t)};l.$c(h.$c$behavior__this_on_opacity={}),(l=h.behavior__this_on_opacity).$s(h.$c$behavior__this_on_opacity),delete h.$c$behavior__this_on_opacity,l._replaceUpdater("duration",function(){l.duration=l._get("consts").animationDuration},[l._get("consts"),"animationDuration"]),l.completed(),t.setAnimation("opacity",l),t.completed()};var at=A.Object,st=at.prototype,ct=A.Effects=function(e,t){at.apply(this,arguments)},lt=ct.prototype=Object.create(st);lt.constructor=ct,lt.componentName="core.Effects",s.addProperty(lt,"real","blur"),s.addProperty(lt,"real","grayscale"),s.addProperty(lt,"real","sepia"),s.addProperty(lt,"real","brightness"),s.addProperty(lt,"real","contrast"),s.addProperty(lt,"real","hueRotate"),s.addProperty(lt,"real","invert"),s.addProperty(lt,"real","saturate"),s.addLazyProperty(lt,"shadow",function(e,t){var i,r={lazy$shadow:i=new A.Shadow(e,t)};return i.$c(r.$c$lazy$shadow={}),(i=r.lazy$shadow).$s(r.$c$lazy$shadow),delete r.$c$lazy$shadow,i.completed(),i}),lt._getFilterStyle=function(){var e=[];return this._addStyle(e,"blur","blur","px"),this._addStyle(e,"grayscale"),this._addStyle(e,"sepia"),this._addStyle(e,"brightness"),this._addStyle(e,"contrast"),this._addStyle(e,"hueRotate","hue-rotate","deg"),this._addStyle(e,"invert"),this._addStyle(e,"saturate"),e},lt._addStyle=function(e,t,i,r){var n=this[t];n&&e.push((i||t)+"("+n+(r||"")+") ")},lt._updateStyle=function(e){var t=this._getFilterStyle().join(""),i=this.parent,r={};r["-webkit-filter"]=t,r.filter=t,!this.shadow||this.shadow._empty()&&!e||(r["box-shadow"]=this.shadow._getFilterStyle()),i.style(r)};_=function(e){this._updateStyle()};A._protoOnChanged(lt,"blur",_),A._protoOnChanged(lt,"grayscale",_),A._protoOnChanged(lt,"sepia",_),A._protoOnChanged(lt,"brightness",_),A._protoOnChanged(lt,"contrast",_),A._protoOnChanged(lt,"hueRotate",_),A._protoOnChanged(lt,"invert",_),A._protoOnChanged(lt,"saturate",_),lt.$c=function(e){st.$c.call(this,e.$b={})},lt.$s=function(e){st.$s.call(this,e.$b),delete e.$b,this.completed()};var ht=A.Object,dt=ht.prototype,pt=A.Radius=function(e,t){ht.apply(this,arguments)},ut=pt.prototype=Object.create(dt);ut.defaultProperty="radius",ut.constructor=pt,ut.componentName="core.Radius",s.addProperty(ut,"real","radius"),s.addProperty(ut,"real","topLeft"),s.addProperty(ut,"real","topRight"),s.addProperty(ut,"real","bottomLeft"),s.addProperty(ut,"real","bottomRight"),ut.__complete=function(){dt.__complete.call(this);var e=this.radius,t=this.topLeft||e,i=this.topRight||e,r=this.bottomLeft||e,n=this.bottomRight||e;t==i&&r==n&&t==r?this.parent.style("border-radius",t):this.parent.style("border-radius",t+"px "+i+"px "+n+"px "+r+"px")};_=function(){log("updating border")};A._protoOn(ut,"radiusUpdate",_),A._protoOn(ut,"topLeftUpdate",_),A._protoOn(ut,"topRightUpdate",_),A._protoOn(ut,"bottomLeftUpdate",_),A._protoOn(ut,"bottomRightUpdate",_),ut.$c=function(e){dt.$c.call(this,e.$b={})},ut.$s=function(e){dt.$s.call(this,e.$b),delete e.$b,this.completed()};var gt=A.Object,ft=gt.prototype,_t=A.Transform=function(e,t){gt.apply(this,arguments),this._transforms={}},mt=_t.prototype=Object.create(ft);mt.constructor=_t,mt.componentName="core.Transform",s.addProperty(mt,"int","perspective"),s.addProperty(mt,"int","translateX"),s.addProperty(mt,"int","translateY"),s.addProperty(mt,"int","translateZ"),s.addProperty(mt,"real","rotateX"),s.addProperty(mt,"real","rotateY"),s.addProperty(mt,"real","rotateZ"),s.addProperty(mt,"real","rotate"),s.addProperty(mt,"real","scaleX"),s.addProperty(mt,"real","scaleY"),s.addProperty(mt,"real","skewX"),s.addProperty(mt,"real","skewY"),mt._updateTransform=function(){var e="";for(var t in this._transforms)e+=t,e+="("+this._transforms[t]+") ";this.parent.style("transform",e)},A._protoOnChanged(mt,"perspective",function(e){this._transforms.perspective=e+"px",this._updateTransform()}),A._protoOnChanged(mt,"rotate",function(e){this._transforms.rotate=e+"deg",this._updateTransform()}),A._protoOnChanged(mt,"rotateX",function(e){this._transforms.rotateX=e+"deg",this._updateTransform()}),A._protoOnChanged(mt,"rotateY",function(e){this._transforms.rotateY=e+"deg",this._updateTransform()}),A._protoOnChanged(mt,"rotateZ",function(e){this._transforms.rotateZ=e+"deg",this._updateTransform()}),A._protoOnChanged(mt,"scaleX",function(e){this._transforms.scaleX=e,this._updateTransform()}),A._protoOnChanged(mt,"scaleY",function(e){this._transforms.scaleY=e,this._updateTransform()}),A._protoOnChanged(mt,"skewX",function(e){this._transforms.skewX=e+"deg",this._updateTransform()}),A._protoOnChanged(mt,"skewY",function(e){this._transforms.skewY=e+"deg",this._updateTransform()}),A._protoOnChanged(mt,"translateX",function(e){this._transforms.translateX=e+"px",this._updateTransform()}),A._protoOnChanged(mt,"translateY",function(e){this._transforms.translateY=e+"px",this._updateTransform()}),A._protoOnChanged(mt,"translateZ",function(e){this._transforms.translateZ=e+"px",this._updateTransform()}),mt.$c=function(e){ft.$c.call(this,e.$b={})},mt.$s=function(e){ft.$s.call(this,e.$b),delete e.$b,this.completed()};var vt=A.Object,yt=vt.prototype,$t=A.Anchors=function(e,t){vt.apply(this,arguments),this._items=[],this._grabX=!1,this._grabY=!1},bt=$t.prototype=Object.create(yt);bt.constructor=$t,bt.componentName="core.Anchors",s.addProperty(bt,"AnchorLine","bottom"),s.addProperty(bt,"AnchorLine","verticalCenter"),s.addProperty(bt,"AnchorLine","top"),s.addProperty(bt,"AnchorLine","left"),s.addProperty(bt,"AnchorLine","horizontalCenter"),s.addProperty(bt,"AnchorLine","right"),s.addProperty(bt,"Item","fill"),s.addProperty(bt,"Item","centerIn"),s.addProperty(bt,"int","margins"),s.addProperty(bt,"int","bottomMargin"),s.addProperty(bt,"int","topMargin"),s.addProperty(bt,"int","leftMargin"),s.addProperty(bt,"int","rightMargin"),bt._scheduleUpdate=function(){this._context.delayedAction("update-anchors",this,this._updateAll)},bt._updateAll=function(){var e=this,t=e.parent;if(null!==t){var i,r,n,o,a,s,c=t.parent.toScreen(),l=c[0],h=c[1],d=e.fill,p=e._getAnchor("left")||(d?d.left:null),u=e._getAnchor("right")||(d?d.right:null),g=e._getAnchor("top")||(d?d.top:null),f=e._getAnchor("bottom")||(d?d.bottom:null),_=e.centerIn,m=e._getAnchor("horizontalCenter")||(_?_.horizontalCenter:null),v=e._getAnchor("verticalCenter")||(_?_.verticalCenter:null),y=e.leftMargin||e.margins,$=e.rightMargin||e.margins,b=e.topMargin||e.margins,w=e.bottomMargin||e.margins,x=[],C=[],k=function(e){var t,i=e[0],r=e[1],n=x.indexOf(i);return n<0?(t=i.toScreen(),x.push(i),C.push(t)):t=C[n],t[r]};p&&u?(i=k(p),n=k(u),t.x=i+y-l-t.viewX,t.width=n-i-$-y):p&&m?(i=k(p),a=k(m),t.x=i+y-l-t.viewX,t.width=2*(a-i)-$-y):m&&u?(a=k(m),n=k(u),t.width=2*(n-a)-$-y,t.x=a-(t.width+y-$)/2-l-t.viewX):p?(i=k(p),t.x=i+y-l-t.viewX):u?(n=k(u),t.x=n-l-$-t.width-t.viewX):m?(a=k(m),t.x=a-(t.width+y-$)/2-l-t.viewX):this._grabX&&(t.x=y),g&&f?(r=k(g),o=k(f),t.y=r+b-h-t.viewY,t.height=o-r-w-b):g&&v?(r=k(g),s=k(v),t.y=r+b-h-t.viewY,t.height=2*(s-r)-w-b):v&&f?(s=k(v),o=k(f),t.height=2*(o-s)-w-b,t.y=s-(t.height+b-w)/2-h-t.viewY):g?(r=k(g),t.y=r+b-h-t.viewY):f?(o=k(f),t.y=o-h-w-t.height-t.viewY):v?(s=k(v),t.y=s-(t.height+b-w)/2-h-t.viewY):this._grabY&&(t.y=b)}},bt._grab=function(e,t){"x"===t&&(this._grabX=!0),"y"===t&&(this._grabY=!0),e._removeUpdater(t)},bt._getAnchor=function(e){var t=this[e];return t?Array.isArray(t)?t:t[e]:null},bt._subscribe=function(e){var t=this._items;t.indexOf(e)<0&&(t.push(e),this.connectOn(e,"newBoundingBox",this._scheduleUpdate.bind(this)))},A._protoOnChanged(bt,"fill",function(e){if(this._scheduleUpdate(),null!==e){var t=this.parent;this._grab(t,"x"),this._grab(t,"width"),this._grab(t,"y"),this._grab(t,"height"),this._subscribe(e)}}),A._protoOnChanged(bt,"centerIn",function(e){if(this._scheduleUpdate(),null!==e){var t=this.parent;this._grab(t,"x"),this._grab(t,"y"),this._subscribe(e),this._subscribe(t)}}),A._protoOnChanged(bt,"bottom",function(e){this._scheduleUpdate();var t=this._getAnchor("bottom");if(null!==t){var i=this.parent;this._grab(i,"y"),(this.top||this.verticalCenter)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(t[0])}}),A._protoOnChanged(bt,"horizontalCenter",function(e){this._scheduleUpdate();var t=this._getAnchor("horizontalCenter");if(null!==t){var i=this.parent;this._grab(i,"x"),(this.left||this.right)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(t[0])}}),A._protoOnChanged(bt,"left",function(e){this._scheduleUpdate();var t=this._getAnchor("left");if(null!==t){var i=this.parent;this._grab(i,"x"),(this.right||this.horizontalCenter)&&(this._grab(i,"width"),this._subscribe(i)),this._subscribe(t[0])}}),A._protoOnChanged(bt,"right",function(e){this._scheduleUpdate();var t=this._getAnchor("right");if(null!==t){var i=this.parent;this._grab(i,"x"),(this.left||this.horizontalCenter)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(t[0])}}),A._protoOnChanged(bt,"top",function(e){this._scheduleUpdate();var t=this._getAnchor("top");if(null!==t){var i=this.parent;this._grab(i,"y"),(this.bottom||this.verticalCenter)&&(this._grab(i,"height"),this._subscribe(i)),this._subscribe(t[0])}}),A._protoOnChanged(bt,"verticalCenter",function(e){this._scheduleUpdate();var t=this._getAnchor("verticalCenter");if(null!==t){var i=this.parent;this._grab(i,"y"),(this.top||this.bottom)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(t[0])}});_=function(e){this.parent.anchorsMarginsUpdated(),this._scheduleUpdate()};A._protoOnChanged(bt,"leftMargin",_),A._protoOnChanged(bt,"rightMargin",_),A._protoOnChanged(bt,"topMargin",_),A._protoOnChanged(bt,"bottomMargin",_),A._protoOnChanged(bt,"margin",_),bt.$c=function(e){yt.$c.call(this,e.$b={})},bt.$s=function(e){yt.$s.call(this,e.$b),delete e.$b,this.completed()};var wt=A.Object,xt=wt.prototype,Ct=A.Border=function(e,t){wt.apply(this,arguments)},kt=Ct.prototype=Object.create(xt);kt.constructor=Ct,kt.componentName="core.Border",s.addProperty(kt,"int","width"),s.addProperty(kt,"color","color","black"),s.addLazyProperty(kt,"left",function(e,t){var i,r={lazy$left:i=new A.BorderSide(e,t)};return i.$c(r.$c$lazy$left={}),(i=r.lazy$left).$s(r.$c$lazy$left),delete r.$c$lazy$left,i._removeUpdater("name"),i.name="left",i.completed(),i}),s.addLazyProperty(kt,"right",function(e,t){var i,r={lazy$right:i=new A.BorderSide(e,t)};return i.$c(r.$c$lazy$right={}),(i=r.lazy$right).$s(r.$c$lazy$right),delete r.$c$lazy$right,i._removeUpdater("name"),i.name="right",i.completed(),i}),s.addLazyProperty(kt,"top",function(e,t){var i,r={lazy$top:i=new A.BorderSide(e,t)};return i.$c(r.$c$lazy$top={}),(i=r.lazy$top).$s(r.$c$lazy$top),delete r.$c$lazy$top,i._removeUpdater("name"),i.name="top",i.completed(),i}),s.addLazyProperty(kt,"bottom",function(e,t){var i,r={lazy$bottom:i=new A.BorderSide(e,t)};return i.$c(r.$c$lazy$bottom={}),(i=r.lazy$bottom).$s(r.$c$lazy$bottom),delete r.$c$lazy$bottom,i._removeUpdater("name"),i.name="bottom",i.completed(),i}),kt.None=0,Ct.None=0,kt.Hidden=1,Ct.Hidden=1,kt.Dotted=2,Ct.Dotted=2,kt.Dashed=3,Ct.Dashed=3,kt.Solid=4,Ct.Solid=4,kt.Double=5,Ct.Double=5,kt.Groove=6,Ct.Groove=6,kt.Ridge=7,Ct.Ridge=7,kt.Inset=8,Ct.Inset=8,kt.Outset=9,Ct.Outset=9,s.addProperty(kt,"enum","style",Ct.Solid),kt.Inner=0,Ct.Inner=0,kt.Outer=1,Ct.Outer=1,kt.Center=2,Ct.Center=2,s.addProperty(kt,"enum","type"),A._protoOnChanged(kt,"color",function(e){var t=A.Color.normalize(this.color);this.parent.style("border-color",t)}),A._protoOnChanged(kt,"width",function(e){var t=this.parent;switch(t.style("border-width",e),this.type){case this.Inner:t._borderXAdjust=0,t._borderYAdjust=0,t._borderInnerWidthAdjust=-2*e,t._borderInnerHeightAdjust=-2*e,t._setSizeAdjust();break;case this.Outer:t._borderXAdjust=-e,t._borderYAdjust=-e,t._borderWidthAdjust=0,t._borderHeightAdjust=0,t._setSizeAdjust();break;case this.Center:t._borderXAdjust=-e/2,t._borderYAdjust=-e/2,t._borderWidthAdjust=-e,t._borderHeightAdjust=-e,t._setSizeAdjust()}}),A._protoOnChanged(kt,"type",function(e){var t;switch(e){case this.Inner:t="border-box";break;case this.Outer:case this.Center:t="content-box"}this.parent.style("box-sizing",t)}),A._protoOnChanged(kt,"style",function(e){var t;switch(e){case this.None:t="none";break;case this.Hidden:t="hidden";break;case this.Dotted:t="dotted";break;case this.Dashed:t="dashed";break;case this.Solid:t="solid";break;case this.Double:t="double";break;case this.Groove:t="groove";break;case this.Ridge:t="ridge";break;case this.Inset:t="inset";break;case this.Outset:t="outset"}this.parent.style("border-style",t)}),kt.$c=function(e){xt.$c.call(this,e.$b={})},kt.$s=function(e){xt.$s.call(this,e.$b),delete e.$b,this.completed()};var At=A.Object,Pt=At.prototype,St=A.Animation=function(e,t){At.apply(this,arguments),this._disabled=0,this._native=!1},It=St.prototype=Object.create(Pt);It.constructor=St,It.componentName="core.Animation",s.addProperty(It,"int","delay",0),s.addProperty(It,"int","duration",200),s.addProperty(It,"bool","cssTransition",!0),s.addProperty(It,"bool","running",!1),s.addProperty(It,"string","easing","ease"),s.addProperty(It,"Object","target"),s.addProperty(It,"string","property"),s.addProperty(It,"variant","from"),s.addProperty(It,"variant","to"),It._updateAnimation=function(){this.target&&this.target.updateAnimation(this.property,this)},It.active=function(){return this.enabled()&&0<this.duration},It.disable=function(){++this._disabled,this._updateAnimation()},It.enable=function(){--this._disabled,this._updateAnimation()},It.enabled=function(){return 0===this._disabled},It.complete=function(){},It.interpolate=function(e,t,i){return i*(e-t)+t};_=function(e){this._updateAnimation()};A._protoOnChanged(It,"delay",_),A._protoOnChanged(It,"duration",_),A._protoOnChanged(It,"cssTransition",_),A._protoOnChanged(It,"running",_),A._protoOnChanged(It,"easing",_),It.$c=function(e){Pt.$c.call(this,e.$b={})},It.$s=function(e){Pt.$s.call(this,e.$b),delete e.$b,this.completed()};var Tt=A.Object,Ot=Tt.prototype,Ut=A.Timer=function(e,t){Tt.apply(this,arguments),this._trigger=this._context.wrapNativeCallback(this.triggered.bind(this))},Mt=Ut.prototype=Object.create(Ot);Mt.constructor=Ut,Mt.componentName="core.Timer",Mt.triggered=A.createSignal("triggered"),s.addProperty(Mt,"int","interval",1e3),s.addProperty(Mt,"bool","repeat"),s.addProperty(Mt,"bool","running"),s.addProperty(Mt,"bool","triggeredOnStart"),Mt._restart=function(){if(this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._interval&&(clearTimeout(this._interval),this._interval=void 0),this.running){this._context;this.repeat?this._interval=setInterval(this._trigger,this.interval):this._timeout=setTimeout(this._trigger,this.interval)}},Mt.__complete=function(){Ot.__complete.call(this),this.running&&this.triggeredOnStart&&this.triggered()},Mt.stop=function(){this.running=!1},Mt.start=function(){this.running=!0},Mt.restart=function(){this.stop(),this.start()},A._protoOnChanged(Mt,"running",function(e){this._restart(),e&&this.triggeredOnStart&&(this._triggered=!1,this.triggered())});_=function(e){this._restart()};A._protoOnChanged(Mt,"interval",_),A._protoOnChanged(Mt,"repeat",_),A._protoOn(Mt,"triggered",function(){this.repeat||this.triggeredOnStart&&!this._triggered||(this.running=!1),this._triggered=!0}),Mt.$c=function(e){Ot.$c.call(this,e.$b={})},Mt.$s=function(e){Ot.$s.call(this,e.$b),delete e.$b,this.completed()};var Lt=A.Item,Dt=Lt.prototype,Et=A.BaseLayout=function(e,t){Lt.apply(this,arguments),this.count=0},zt=Et.prototype=Object.create(Dt);zt.constructor=Et,zt.componentName="core.BaseLayout",s.addProperty(zt,"int","count"),s.addProperty(zt,"bool","trace"),s.addProperty(zt,"int","spacing"),s.addProperty(zt,"int","currentIndex"),s.addProperty(zt,"int","contentWidth"),s.addProperty(zt,"int","contentHeight"),s.addProperty(zt,"bool","keyNavigationWraps"),s.addProperty(zt,"bool","handleNavigationKeys"),s.addProperty(zt,"int","layoutDelay"),s.addProperty(zt,"int","prerenderDelay"),s.addProperty(zt,"bool","offlineLayout"),zt._scheduleLayout=function(){(this.recursiveVisible||this.offlineLayout)&&(0<=this.prerenderDelay?(this._context.delayedAction("layout",this,this._doLayoutNP,this.layoutDelay),this._context.delayedAction("prerender",this,this._doLayout,this.prerenderDelay)):this._context.delayedAction("layout",this,this._doLayout,this.layoutDelay))},zt._doLayout=function(){this._attach(),this._processUpdates(),this._layout()},zt._doLayoutNP=function(){this._attach(),this._processUpdates(),this._layout(!0)},zt.__complete=function(){Dt.__complete.call(this),this._scheduleLayout()};_=function(){};zt._attach=_,zt._processUpdates=_;m=function(e){this._scheduleLayout()};A._protoOnChanged(zt,"spacing",m),A._protoOnChanged(zt,"recursiveVisible",m),zt.$c=function(e){Dt.$c.call(this,e.$b={})},zt.$s=function(e){var t=this;Dt.$s.call(this,e.$b),delete e.$b,t._removeUpdater("layoutDelay"),t.layoutDelay=-1,t._removeUpdater("prerenderDelay"),t.prerenderDelay=-1,t.completed()};var Bt=A.BaseLayout,Rt=Bt.prototype,Ft=A.BaseView=function(e,t){Bt.apply(this,arguments),this._items=[],this._modelUpdate=new A.model.ModelUpdate,this._attached=null,this._modelReset=this._onReset.bind(this),this._modelRowsInserted=this._onRowsInserted.bind(this),this._modelRowsChanged=this._onRowsChanged.bind(this),this._modelRowsRemoved=this._onRowsRemoved.bind(this)},Wt=Ft.prototype=Object.create(Rt);Wt.constructor=Ft,Wt.componentName="core.BaseView",Wt.scrollEvent=A.createSignal("scrollEvent"),Wt.layoutFinished=A.createSignal("layoutFinished"),s.addProperty(Wt,"Object","model"),s.addProperty(Wt,"Item","delegate"),s.addProperty(Wt,"int","contentX"),s.addProperty(Wt,"int","contentY"),s.addProperty(Wt,"int","scrollingStep",0),s.addProperty(Wt,"int","animationDuration",0),s.addProperty(Wt,"string","animationEasing","ease"),s.addProperty(Wt,"bool","contentFollowsCurrentItem",!0),s.addProperty(Wt,"bool","nativeScrolling"),s.addProperty(Wt,"real","prerender",.5),s.addProperty(Wt,"string","visibilityProperty"),s.addProperty(Wt,"BaseViewContent","content"),Wt.Contain=0,Ft.Contain=0,Wt.Beginning=1,Ft.Beginning=1,Wt.Center=2,Ft.Center=2,Wt.End=3,Ft.End=3,Wt.Visible=4,Ft.Visible=4,Wt.Page=5,Ft.Page=5,s.addProperty(Wt,"enum","positionMode"),Wt.discard=function(){this._detach(),A.BaseLayout.prototype.discard.apply(this)},Wt._processUpdates=function(){this._modelUpdate.apply(this),qml.core.BaseLayout.prototype._processUpdates.apply(this),this.count=this._items.length},Wt.focusCurrent=function(){var e=this.count;if(0!==e){var t=this.currentIndex;if(t<0||e<=t)this.keyNavigationWraps?this.currentIndex=(t+e)%e:this.currentIndex=t<0?0:e-1;else{var i=this._items[t];i&&this.focusChild(i),this.contentFollowsCurrentItem&&this.positionViewAtIndex(t)}}},Wt._attach=function(){var e=this._get("model",!0);if(!this._attached&&this.model&&this.delegate){this.trace&&log("attaching model...");var t=A.Model,i=typeof(e=this.model);if(!(void 0!==t&&e instanceof t))if(Array.isArray(e))e=new A.model.ArrayModelWrapper(e);else{if("number"!=i)throw new Error("unknown value of type '"+typeof e+"', attached to model property: "+e+("object"==i&&"componentName"in e?", component name: "+e.componentName:""));for(var r=[],n=0;n<e;++n)r.push({});e=new A.model.ArrayModelWrapper(r)}e.on("reset",this._modelReset),e.on("rowsInserted",this._modelRowsInserted),e.on("rowsChanged",this._modelRowsChanged),e.on("rowsRemoved",this._modelRowsRemoved),this._attached=e,this._onReset()}},Wt._detach=function(){var e=this._get("model",!0);(e=this._attached)&&(this.trace&&log("detaching model..."),this._attached=null,e.removeListener("reset",this._modelReset),e.removeListener("rowsInserted",this._modelRowsInserted),e.removeListener("rowsChanged",this._modelRowsChanged),e.removeListener("rowsRemoved",this._modelRowsRemoved))},Wt._onReset=function(){var e=this._get("model",!0);e=this._attached;this.trace&&log("reset",this._items.length,e.count),this._modelUpdate.reset(e),this._scheduleLayout()},Wt.__complete=function(){Rt.__complete.call(this);var i=this;this.element.on("scroll",function(){var e=i.element.getScrollX(),t=i.element.getScrollY();i._updateScrollPositions(e,t),i.scrollEvent(e,t)}.bind(this))},Wt._updateItems=function(e,t){for(var i=e;i<t;++i)this._updateDelegate(i)},Wt._onRowsChanged=function(e,t){this.trace&&log("rows changed",e,t),this._modelUpdate.update(this._attached,e,t),this._scheduleLayout()},Wt._onRowsInserted=function(e,t){this.trace&&log("rows inserted",e,t),this._modelUpdate.insert(this._attached,e,t),this._scheduleLayout()},Wt._onRowsRemoved=function(e,t){this.trace&&log("rows removed",e,t),this._modelUpdate.remove(this._attached,e,t),this._scheduleLayout()},Wt._removeItems=function(e,t){var i=this._items.splice(e,t-e),r=this;i.forEach(function(e){r._discardItem(e)})},Wt._insertItems=function(e,t){var i=t-e+2,r=new Array(i);r[0]=e,r[1]=0;for(var n=2;n<i;++n)r[n]=null;Array.prototype.splice.apply(this._items,r)},Wt._updateDelegateIndex=function(e){var t=this._items[e];t&&(t._local.model.index=e,t._createPropertyStorage("_rowIndex").callOnChanged(t,"_rowIndex"))},Wt._updateDelegate=function(e){var t=this._items[e];if(t){var i=this._attached.get(e);i.index=e,t._local.model=i,t._createPropertyStorage("_row").callOnChanged(t,"_row")}},Wt._createDelegate=function(e,t){var i=this._items,r=i[e];if(null!=r)return r;var n=this.visibilityProperty,o=this._attached.get(e);return this.trace&&log("createDelegate",e,o),n&&!o[n]?null:(o.index=e,r=this.delegate(this,o),(i[e]=r).view=this,r.element.remove(),void 0===t?this.content.element.append(r.element):t.call(this,r),r.recursiveVisible=this.recursiveVisible&&r.visible&&r.visibleInView,r)},Wt._discardItem=function(e){null!==e&&(this.focusedChild===e&&(this.focusedChild=null),e.discard())},Wt.positionViewAtItemHorizontally=function(e,t,i){var r=this.contentX,n=(this.contentY,e[0]),o=(e[1],e[2]),a=(e[3],this.width),s=(this.height,n-a/2+o/2);a<o?this.contentX=i?s:n:t&&this.contentWidth>a?this.contentX=s<0?0:n>this.contentWidth-a/2-o/2?this.contentWidth-a:s:n-r<=0?this.contentX=n:a<n-r+o&&(this.contentX=n+o-a)},Wt.positionViewAtItemVertically=function(e,t,i){this.contentX;var r=this.contentY,n=(e[0],e[1]),o=(e[2],e[3]),a=(this.width,this.height),s=n-a/2+o/2;a<o?this.contentY=i?s:n:t&&this.contentHeight>a?this.contentY=s<0?0:n>this.contentHeight-a/2-o/2?this.contentHeight-a:s:n-r<=0?this.contentY=n:a<n-r+o&&(this.contentY=n+o-a)},Wt.itemAt=function(e,t){var i=this.indexAt(e,t);return 0<=i?this._items[i]:null},Wt._updateScrollPositions=function(e,t,i){this._setProperty("contentX",e),this._setProperty("contentY",t),this.content._updateScrollPositions(e,t,i)},A._protoOnChanged(Wt,"model",function(e){this.trace&&log("model changed to ",e),this._detach(),this._modelUpdate.clear(),this._removeItems(0,this.count),this.count=0,this._scheduleLayout()}),A._protoOnChanged(Wt,"recursiveVisible",function(t){t&&this._scheduleLayout();var i=this;this._items.forEach(function(e){null!==e&&i._updateVisibilityForChild(e,t)}),this._updateVisibilityForChild(this.content,t)}),A._protoOnChanged(Wt,"delegate",function(e){e&&(e.visible=!1)}),A._protoOnChanged(Wt,"currentIndex",function(e){this.focusCurrent()}),A._protoOnChanged(Wt,"focusedChild",function(e){var t=this._items.indexOf(this.focusedChild);0<=t&&(this.currentIndex=t)});_=function(e){this._scheduleLayout()};A._protoOnChanged(Wt,"width",_),A._protoOnChanged(Wt,"height",_),A._protoOnChanged(Wt,"contentX",function(e){this.content.x=-e}),A._protoOnChanged(Wt,"contentY",function(e){this.content.y=-e}),Wt.$c=function(e){Rt.$c.call(this,e.$b={});var t=new A.BaseViewContent(this);(e._this$content=t).$c(e.$c$_this$content={}),this.content=t},Wt.$s=function(e){var t=this;Rt.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("nativeScrolling",function(){t.nativeScrolling=t._context.system.device===t._context.system.Mobile},[t._context.system,"Mobile",t._context.system,"device"]),t._removeUpdater("contentWidth"),t.contentWidth=1,t._removeUpdater("contentHeight"),t.contentHeight=1,t._removeUpdater("keyNavigationWraps"),t.keyNavigationWraps=!0,t._removeUpdater("handleNavigationKeys"),t.handleNavigationKeys=!0;var i=e._this$content;i.$s(e.$c$_this$content),delete e.$c$_this$content,i._replaceUpdater("cssTranslatePositioning",function(){i.cssTranslatePositioning=i.parent.cssTranslatePositioning},[i.parent,"cssTranslatePositioning"]);var r,n={behavior__this_content_on_x:r=new A.Animation(i)};r.$c(n.$c$behavior__this_content_on_x={}),(r=n.behavior__this_content_on_x).$s(n.$c$behavior__this_content_on_x),delete n.$c$behavior__this_content_on_x,r._replaceUpdater("duration",function(){r.duration=r.parent.parent.animationDuration},[r.parent.parent,"animationDuration"]),r._replaceUpdater("easing",function(){r.easing=r.parent.parent.animationEasing},[r.parent.parent,"animationEasing"]),r.completed(),i.setAnimation("x",r);var o,a={behavior__this_content_on_y:o=new A.Animation(i)};o.$c(a.$c$behavior__this_content_on_y={}),(o=a.behavior__this_content_on_y).$s(a.$c$behavior__this_content_on_y),delete a.$c$behavior__this_content_on_y,o._replaceUpdater("duration",function(){o.duration=o.parent.parent.animationDuration},[o.parent.parent,"animationDuration"]),o._replaceUpdater("easing",function(){o.easing=o.parent.parent.animationEasing},[o.parent.parent,"animationEasing"]),o.completed(),i.setAnimation("y",o);var s,c={behavior__this_content_on_transform:s=new A.Animation(i)};s.$c(c.$c$behavior__this_content_on_transform={}),(s=c.behavior__this_content_on_transform).$s(c.$c$behavior__this_content_on_transform),delete c.$c$behavior__this_content_on_transform,s._replaceUpdater("duration",function(){s.duration=s.parent.parent.animationDuration},[s.parent.parent,"animationDuration"]),s._replaceUpdater("easing",function(){s.easing=s.parent.parent.animationEasing},[s.parent.parent,"animationEasing"]),s.completed(),i.setAnimation("transform",s),i.completed(),t.completed()};var Ht=A.Item,Nt=Ht.prototype,jt=w.MenuDelegate=function(e,t){Ht.apply(this,arguments)},Vt=jt.prototype=Object.create(Nt);Vt.constructor=jt,Vt.componentName="src.MenuDelegate",Vt.itemFocused=A.createSignal("itemFocused"),Vt.itemSelected=A.createSignal("itemSelected"),s.addProperty(Vt,"bool","isCurrent"),s.addProperty(Vt,"Object","content"),s.addProperty(Vt,"int","selectedItemIndex"),A._protoOnChanged(Vt,"activeFocus",function(e){var t=this._get("innerList",!0);this.activeFocus&&t.choose()}),A._protoOnChanged(Vt,"content",function(e){var t=this._get("menuDelegateModel",!0);e&&(t.clear(),t.append(e))}),Vt.$c=function(e){var t=this;Nt.$c.call(this,e.$b={});var i=new A.ListModel(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("menuDelegateModel"),t.addChild(i);var r=new w.MainText(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("topLabel"),t.addChild(r);var n=new A.ListView(t);(e._this$child2=n).$c(e.$c$_this$child2={}),n._setId("innerList"),n.delegate=function(e,t){var i,r={delegate:i=new w.MediaDelegate(e,t)};return i.$c(r.$c$delegate={}),(i=r.delegate).$s(r.$c$delegate),delete r.$c$delegate,i.completed(),i},t.addChild(n),t._setId("menuDelegateProto")},Vt.$s=function(e){var t=this;Nt.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("isCurrent",function(){t.isCurrent=t.parent.currentIndex==t._get("model").index},[t._get("_delegate"),"_rowIndex",t.parent,"currentIndex"]),t._replaceUpdater("content",function(){t.content=t._get("model").content},[t._get("_delegate"),"_row"]),t._replaceUpdater("height",function(){t.height=320*t._context.virtualScale+t._get("topLabel").paintedHeight+30*t._context.virtualScale},[t._get("topLabel"),"paintedHeight",t._context,"virtualScale"]),t._replaceUpdater("width",function(){t.width=t.parent.width},[t.parent,"width"]),t._replaceUpdater("selectedItemIndex",function(){t.selectedItemIndex=t._get("model").selectedIndex},[t._get("_delegate"),"_row"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r.anchors._replaceUpdater("top",function(){r.anchors.top=r.parent.top},[r.parent,"top"]),r.anchors._replaceUpdater("left",function(){r.anchors.left=r.parent.left},[r.parent,"left"]),r.anchors._replaceUpdater("leftMargin",function(){r.anchors.leftMargin=10*r._context.virtualScale},[r._context,"virtualScale"]),r._replaceUpdater("color",function(){r.color=r._get("colorTheme").textColor},[r._get("colorTheme"),"textColor"]),r._replaceUpdater("text",function(){r.text=r._get("model").text},[r._get("_delegate"),"_row"]),r.font._removeUpdater("shadow"),r.font.shadow=!0,r.completed();var n=e._this$child2;n.$s(e.$c$_this$child2),delete e.$c$_this$child2,n.anchors._replaceUpdater("top",function(){n.anchors.top=n._get("topLabel").bottom},[n._get("topLabel"),"bottom"]),n.anchors._replaceUpdater("left",function(){n.anchors.left=n.parent.left},[n.parent,"left"]),n.anchors._replaceUpdater("right",function(){n.anchors.right=n.parent.right},[n.parent,"right"]),n.anchors._replaceUpdater("bottom",function(){n.anchors.bottom=n.parent.bottom},[n.parent,"bottom"]),n.anchors._replaceUpdater("topMargin",function(){n.anchors.topMargin=10*n._context.virtualScale},[n._context,"virtualScale"]),n._removeUpdater("orientation"),n.orientation=k.core.ListView.prototype.Horizontal,n._removeUpdater("positionMode"),n.positionMode=k.core.ListView.prototype.Center,n._removeUpdater("keyNavigationWraps"),n.keyNavigationWraps=!1,n.content._removeUpdater("cssTranslatePositioning"),n.content.cssTranslatePositioning=!0,n._removeUpdater("animationDuration"),n.animationDuration=300,n._replaceUpdater("spacing",function(){n.spacing=20*n._context.virtualScale},[n._context,"virtualScale"]),n._replaceUpdater("model",function(){n.model=n._get("menuDelegateModel")},[n,"menuDelegateModel"]),n._replaceUpdater("currentIndex",function(){n.currentIndex=n.parent.selectedItemIndex},[n.parent,"selectedItemIndex"]),n.choose=function(){var e=this._get("menuDelegateProto",!0);this.count&&(this.currentIndex>=this.count&&(this.currentIndex=0),e.itemFocused(this.model.get(this.currentIndex)))}.bind(n),n.onChanged("count",function(e){var t=this._get("menuDelegateProto",!0);e&&t.isCurrent&&this.choose()}.bind(n)),n.onChanged("currentIndex",function(e){this.choose()}.bind(n)),n.onPressed("Select",function(e,t){var i=this._get("menuDelegateProto",!0),r=this._get("innerList",!0),n=this.model.get(this.currentIndex),o=this.getItemPosition(this.currentIndex);n.x=r.x+o[0]-r.contentX,n.y=r.y+o[1],n.height=o[3],i.itemSelected(n)}.bind(n)),n.completed(),t.completed()};var Yt=A.BaseView,Gt=Yt.prototype,Kt=A.ListView=function(e,t){Yt.apply(this,arguments),this._sizes=[]},Xt=Kt.prototype=Object.create(Gt);Xt.constructor=Kt,Xt.componentName="core.ListView",Xt.Vertical=0,Kt.Vertical=0,Xt.Horizontal=1,Kt.Horizontal=1,s.addProperty(Xt,"enum","orientation"),Xt._updateOverflow=function(){if(this.nativeScrolling){var e={};this.orientation===this.Horizontal?(e["overflow-x"]="auto",e["overflow-y"]="hidden"):(e["overflow-x"]="hidden",e["overflow-y"]="auto"),this.style(e)}},Xt.__complete=function(){Gt.__complete.call(this),this._updateOverflow()},Xt.move=function(e,t){var i,r,n=this.orientation===this.Horizontal;n&&this.contentWidth>this.width?((i=this.contentX+e)<0?i=0:i>this.contentWidth-this.width&&(i=this.contentWidth-this.width),this.contentX=i):!n&&this.contentHeight>this.height&&((r=this.contentY+t)<0?r=0:r>this.contentHeight-this.height&&(r=this.contentHeight-this.height),this.contentY=r)},Xt.positionViewAtIndex=function(e){this.trace&&log("positionViewAtIndex "+e);var t=this.orientation===this.Horizontal,i=this.getItemPosition(e),r=this.positionMode===this.Center;t?this.positionViewAtItemHorizontally(i,r,!0):this.positionViewAtItemVertically(i,r,!0)},Xt._createDelegate=function(e){var t=A.BaseView.prototype._createDelegate.apply(this,arguments);return t.onChanged("width",this._scheduleLayout.bind(this)),t.onChanged("height",this._scheduleLayout.bind(this)),t},Xt.getItemPosition=function(e){var t=this._items,i=t[e];if(i)return[i.viewX+i.x,i.viewY+i.y,i.width,i.height];for(var r=0,n=0,o=0,a=0,s=e;0<=s;--s)if(t[s]){r=(i=t[s]).viewX+i.x,n=i.viewY+i.y,o=i.width,a=i.height;break}var c=e-s;return 0<c&&(r+=c*(o+this.spacing),n+=c*(a+this.spacing)),[r,n,o,a]},Xt._layout=function(e){var t=this._get("model",!0);if(t=this._attached)if(this.count=t.count,this.recursiveVisible||this.offlineLayout){var i=this.orientation===this.Horizontal,r=this._items,n=this._sizes,o=r.length,a=this.width,s=this.height,c=!1,l=0,h=i?this.content.x:this.content.y,d=i?a:s,p=0,u=0,g=this.currentIndex,f=!e,_=e?0:this.prerender*d,m=-_,v=d+_;this.trace&&log("layout "+o+" into "+a+"x"+s+" @ "+this.content.x+","+this.content.y+", prerender: "+_+", range: "+m+":"+v);for(var y,$=i?function(e){return e.width}:function(e){return e.height},b=0,w=0;w<o&&(void 0===y||l+h<v);++w,++b){var x=r[w],C=l+h,k=n[w]||y;void 0===y&&void 0!==k&&(y=k);var A=m<=C+(void 0!==k?k:0)&&C<v||g===w;if(x||!A&&void 0!==k||(x=this._createDelegate(w),c=!0),x&&(k=y=n[w]=$(x)),x){var P=0<=C+k&&C<d;x.x+x.width>p&&(p=x.width+x.x),x.y+x.height>u&&(u=x.height+x.y),i?x.viewX=l:x.viewY=l,g!==w||x.focused||(this.focusChild(x),this.contentFollowsCurrentItem&&this.size&&this.positionViewAtIndex(w)),x.visibleInView=P,!A&&f&&(this.trace&&log("discarding delegate",w),this._discardItem(x),c=!(r[w]=null))}else{var S=l+y;i?p<S&&(p=S):u<S&&(u=S)}l+=k+this.spacing}for(;w<o;++w){(x=r[w])&&(x.visibleInView=!1,f&&(this._discardItem(x),c=!(r[w]=null)))}0<l&&(l-=this.spacing),n.length>r.length&&(n=n.slice(0,r.length)),b&&(l*=r.length/b),this.trace&&log("result: "+l+", max: "+p+"x"+u),i?(this.content.width=l,this.content.height=u,this.contentWidth=l,this.contentHeight=u):(this.content.width=p,this.content.height=l,this.contentWidth=p,this.contentHeight=l),this.layoutFinished(),c&&this._context.scheduleComplete()}else this.layoutFinished();else this.layoutFinished()},Xt.indexAt=function(e,t){var i=this._items;if(e+=this.contentX,t+=this.contentY,this.orientation===k.core.ListView.prototype.Horizontal)for(var r=0;r<i.length;++r){if(o=i[r]){var n=o.viewX;if(n<=e&&e<n+o.width)return r}}else for(r=0;r<i.length;++r){var o;if(o=i[r]){var a=o.viewY;if(a<=t&&t<a+o.height)return r}}return-1},A._protoOnChanged(Xt,"orientation",function(e){this._updateOverflow(),this._scheduleLayout(),this._sizes=[]}),A._protoOnKey(Xt,"Key",function(e,t){if(!this.handleNavigationKeys)return t.accepted=!1;if(this.orientation===this.Horizontal){if("Left"===e)return 0!==this.currentIndex||this.keyNavigationWraps?(0===this.currentIndex&&this.keyNavigationWraps?this.currentIndex=this.count-1:--this.currentIndex,t.accepted=!0):t.accepted=!1;if("Right"===e)return this.currentIndex!==this.count-1||this.keyNavigationWraps?(this.currentIndex===this.count-1&&this.keyNavigationWraps?this.currentIndex=0:++this.currentIndex,t.accepted=!0):t.accepted=!1}else{if("Up"===e)return 0!==this.currentIndex||this.keyNavigationWraps?(0===this.currentIndex&&this.keyNavigationWraps?this.currentIndex=this.count-1:--this.currentIndex,!0):t.accepted=!1;if("Down"===e)return this.currentIndex!==this.count-1||this.keyNavigationWraps?(this.currentIndex===this.count-1&&this.keyNavigationWraps?this.currentIndex=0:++this.currentIndex,t.accepted=!0):t.accepted=!1}}),Xt.$c=function(e){Gt.$c.call(this,e.$b={})},Xt.$s=function(e){Gt.$s.call(this,e.$b),delete e.$b,this.completed()};var Jt=A.Object,qt=Jt.prototype,Zt=A.Model=function(e,t){Jt.apply(this,arguments)},Qt=Zt.prototype=Object.create(qt);Qt.constructor=Zt,Qt.componentName="core.Model",Qt.rowsInserted=A.createSignal("rowsInserted"),Qt.reset=A.createSignal("reset"),Qt.rowsRemoved=A.createSignal("rowsRemoved"),Qt.rowsChanged=A.createSignal("rowsChanged"),s.addProperty(Qt,"int","count"),Qt.$c=function(e){qt.$c.call(this,e.$b={})},Qt.$s=function(e){qt.$s.call(this,e.$b),delete e.$b,this.completed()};var ei=A.Model,ti=ei.prototype,ii=A.ListModel=function(e,t){ei.apply(this,arguments),this._rows=[]},ri=ii.prototype=Object.create(ti);ri.constructor=ii,ri.componentName="core.ListModel",s.addProperty(ri,"array","data"),ri.clear=function(){this.assign([])},ri.forEach=function(e){return this._rows.forEach(e)},ri.addChild=function(e){this.append(e)},ri.get=function(e){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");var t=this._rows[e];if(!(t instanceof Object))throw new Error("row is non-object");return t.index=e,t},ri.remove=function(e,t){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds");void 0===t&&(t=1),this._rows.splice(e,t),this.count=this._rows.length,this.rowsRemoved(e,e+t)},ri.setProperty=function(e,t,i){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");var r=this._rows[e];if(!(r instanceof Object))throw new Error("row is non-object, invalid index? ("+e+")");r[t]!==i&&(r[t]=i,this.rowsChanged(e,e+1))},ri.insert=function(e,t){if(e<0||e>this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");this._rows.splice(e,0,t),this.count=this._rows.length,this.rowsInserted(e,e+1)},ri.set=function(e,t){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");if(!(t instanceof Object))throw new Error("row is non-object");this._rows[e]=t,this.rowsChanged(e,e+1)},ri.append=function(e){var t=this._rows.length;Array.isArray(e)?(Array.prototype.push.apply(this._rows,e),this.count=this._rows.length,this.rowsInserted(t,t+e.length)):(this._rows.push(e),this.count=this._rows.length,this.rowsInserted(t,t+1))},ri.assign=function(e){this._rows=e,this.count=this._rows.length,this.reset()},A._protoOnChanged(ri,"data",function(e){this.assign(e)}),ri.$c=function(e){ti.$c.call(this,e.$b={})},ri.$s=function(e){ti.$s.call(this,e.$b),delete e.$b,this.completed()};var ni=A.Item,oi=ni.prototype,ai=A.Text=function(e,t){ni.apply(this,arguments),this._context.backend.initText(this),0<this.text.length&&this._setText(this.text)},si=ai.prototype=Object.create(oi);si.constructor=ai,si.componentName="core.Text",s.addProperty(si,"string","text"),s.addProperty(si,"color","color"),s.addLazyProperty(si,"shadow",function(e,t){var i,r={lazy$shadow:i=new A.Shadow(e,t)};return i.$c(r.$c$lazy$shadow={}),(i=r.lazy$shadow).$s(r.$c$lazy$shadow),delete r.$c$lazy$shadow,i.completed(),i}),s.addLazyProperty(si,"font",function(e,t){var i,r={lazy$font:i=new A.Font(e,t)};return i.$c(r.$c$lazy$font={}),(i=r.lazy$font).$s(r.$c$lazy$font),delete r.$c$lazy$font,i.completed(),i}),s.addProperty(si,"int","paintedWidth"),s.addProperty(si,"int","paintedHeight"),si.AlignLeft=0,ai.AlignLeft=0,si.AlignRight=1,ai.AlignRight=1,si.AlignHCenter=2,ai.AlignHCenter=2,si.AlignJustify=3,ai.AlignJustify=3,s.addProperty(si,"enum","horizontalAlignment"),si.AlignTop=0,ai.AlignTop=0,si.AlignBottom=1,ai.AlignBottom=1,si.AlignVCenter=2,ai.AlignVCenter=2,s.addProperty(si,"enum","verticalAlignment"),si.NoWrap=0,ai.NoWrap=0,si.WordWrap=1,ai.WordWrap=1,si.WrapAnywhere=2,ai.WrapAnywhere=2,si.Wrap=3,ai.Wrap=3,s.addProperty(si,"enum","wrapMode"),si.Html=0,ai.Html=0,si.Text=1,ai.Text=1,s.addProperty(si,"enum","textFormat"),si._updateSize=function(){this.recursiveVisible&&(this._updateSizeNeeded||this.clip)&&this._scheduleUpdateSize()},si._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow",""),A.Item.prototype._updateStyle.apply(this,arguments)},si._updateSizeImpl=function(){if(0===this.text.length)return this.paintedWidth=0,void(this.paintedHeight=0);this._context.backend.layoutText(this)},si._scheduleUpdateSize=function(){this._context.delayedAction("text:update-size",this,this._updateSizeImpl)},si._enableSizeUpdate=function(){this._updateSizeNeeded=!0,this._updateSize()},si._updateWSHandling=function(){var e=this.textFormat===this.Text;switch(this.wrapMode){case this.NoWrap:this.style({"white-space":e?"pre":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":e?"pre-wrap":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":e?"pre-wrap":"normal","word-break":"break-all"})}this._updateSize()},si.getClass=function(){return"core-text"},si._setText=function(e){this._context.backend.setText(this,e)},si.on=function(e,t){this._updateSizeNeeded||"newBoundingBox"===e&&this._enableSizeUpdate(),A.Item.prototype.on.apply(this,arguments)},si.onChanged=function(e,t){if(!this._updateSizeNeeded)switch(e){case"right":case"width":case"bottom":case"height":case"verticalCenter":case"horizontalCenter":this._enableSizeUpdate()}A.Item.prototype.onChanged.apply(this,arguments)},si.registerStyle=function(e,t){e.addRule(t,"width: auto; height: auto;")},A._protoOnChanged(si,"recursiveVisible",function(e){e&&this._updateSize()}),A._protoOnChanged(si,"horizontalAlignment",function(e){switch(e){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}}),A._protoOnChanged(si,"verticalAlignment",function(e){if(this._enableSizeUpdate(),$manifest$requireVerticalTextAlignmentStyle)switch(e){case this.AlignTop:this.style("-pure-text-vertical-align","top");break;case this.AlignVCenter:this.style("-pure-text-vertical-align","middle");break;case this.AlignBottom:this.style("-pure-text-vertical-align","bottom")}});_=function(e){this._updateWSHandling()};A._protoOnChanged(si,"textFormat",_),A._protoOnChanged(si,"wrapMode",_),A._protoOnChanged(si,"text",function(e){this._setText(e),this._updateSize()});m=function(e){this._updateSize()};A._protoOnChanged(si,"width",m),A._protoOnChanged(si,"height",m),A._protoOnChanged(si,"color",function(e){this.style("color",A.Color.normalize(e))}),si.$c=function(e){oi.$c.call(this,e.$b={})},si.$s=function(e){var t=this;oi.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t.paintedWidth},[t,"paintedWidth"]),t._replaceUpdater("height",function(){t.height=t.paintedHeight},[t,"paintedHeight"]),t.completed()};var ci=A.Text,li=ci.prototype,hi=w.TinyText=function(e,t){ci.apply(this,arguments)},di=hi.prototype=Object.create(li);di.constructor=hi,di.componentName="src.TinyText",di.$c=function(e){li.$c.call(this,e.$b={})},di.$s=function(e){var t=this;li.$s.call(this,e.$b),delete e.$b,t.font._replaceUpdater("pixelSize",function(){t.font.pixelSize=14*t._context.virtualScale},[t._context,"virtualScale"]),t._replaceUpdater("color",function(){t.color=t._get("colorTheme").subTextColor},[t._get("colorTheme"),"subTextColor"]),t.completed()};var pi=A.BaseLayout,ui=pi.prototype,gi=A.Layout=function(e,t){pi.apply(this,arguments)},fi=gi.prototype=Object.create(ui);fi.constructor=gi,fi.componentName="core.Layout",fi.focusNextChild=function(){var e=0,t=this.children;this.focusedChild&&(e=t.indexOf(this.focusedChild));for(var i=e+1;i<t.length;++i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;if(!this.keyNavigationWraps)return!1;for(i=0;i<=e;++i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;return!1},fi.focusPrevChild=function(){var e=0,t=this.children;this.focusedChild&&(e=t.indexOf(this.focusedChild));for(var i=e-1;0<=i;--i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;if(!this.keyNavigationWraps)return!1;for(i=t.length-1;e<=i;--i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;return!1},A._protoOnChanged(fi,"currentIndex",function(e){0<=e&&e<this.children.length&&this.focusChild(this.children[e])}),fi.$c=function(e){ui.$c.call(this,e.$b={})},fi.$s=function(e){var t=this;ui.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t.contentWidth},[t,"contentWidth"]),t._replaceUpdater("height",function(){t.height=t.contentHeight},[t,"contentHeight"]),t._removeUpdater("handleNavigationKeys"),t.handleNavigationKeys=!0,t._removeUpdater("keyNavigationWraps"),t.keyNavigationWraps=!0,t.completed()};var _i=A.Layout,mi=_i.prototype,vi=A.Row=function(e,t){_i.apply(this,arguments)},yi=vi.prototype=Object.create(mi);yi.constructor=vi,yi.componentName="core.Row",yi._layout=function(){if(this.recursiveVisible||this.offlineLayout){var e=this.children,t=0,i=0;this.count=e.length;for(var r=0;r<e.length;++r){var n=e[r];if("height"in n){var o=n.anchors.rightMargin||n.anchors.margins,a=n.anchors.leftMargin||n.anchors.margins,s=n.y+n.height;i<s&&(i=s),n.viewX=t+o,n.recursiveVisible&&(t+=n.width+this.spacing+o+a)}}0<t&&(t-=this.spacing),this.contentWidth=t,this.contentHeight=i}},yi.addChild=function(e){A.Item.prototype.addChild.apply(this,arguments),"width"in e&&(e.onChanged("recursiveVisible",this._scheduleLayout.bind(this)),e.onChanged("width",this._scheduleLayout.bind(this)),e.on("anchorsMarginsUpdated",this._scheduleLayout.bind(this)),this._scheduleLayout())},A._protoOnKey(yi,"Key",function(e,t){if(!this.handleNavigationKeys)return!1;switch(e){case"Left":return this.focusPrevChild();case"Right":return this.focusNextChild()}}),yi.$c=function(e){mi.$c.call(this,e.$b={})},yi.$s=function(e){mi.$s.call(this,e.$b),delete e.$b,this.completed()};var $i=A.Layout,bi=$i.prototype,wi=A.Column=function(e,t){$i.apply(this,arguments)},xi=wi.prototype=Object.create(bi);xi.constructor=wi,xi.componentName="core.Column",xi._layout=function(){if(this.recursiveVisible||this.offlineLayout){var e=this.children,t=0,i=0;this.count=e.length;for(var r=0;r<e.length;++r){var n=e[r];if("height"in n){var o=n.anchors.topMargin||n.anchors.margins,a=n.anchors.bottomMargin||n.anchors.margins,s=n.x+n.width;i<s&&(i=s),n.viewY=t+o,n.recursiveVisible&&(t+=n.height+o+a+this.spacing)}}0<t&&(t-=this.spacing),this.contentWidth=i,this.contentHeight=t}},xi.addChild=function(e){A.Item.prototype.addChild.apply(this,arguments),"height"in e&&(e.onChanged("height",this._scheduleLayout.bind(this)),e.onChanged("recursiveVisible",this._scheduleLayout.bind(this)),e.on("anchorsMarginsUpdated",this._scheduleLayout.bind(this)),this._scheduleLayout())},A._protoOnKey(xi,"Key",function(e,t){if(!this.handleNavigationKeys)return!1;switch(e){case"Up":return this.focusPrevChild();case"Down":return this.focusNextChild()}}),xi.$c=function(e){bi.$c.call(this,e.$b={})},xi.$s=function(e){bi.$s.call(this,e.$b),delete e.$b,this.completed()};var Ci=A.Text,ki=Ci.prototype,Ai=w.SmallText=function(e,t){Ci.apply(this,arguments)},Pi=Ai.prototype=Object.create(ki);Pi.constructor=Ai,Pi.componentName="src.SmallText",Pi.$c=function(e){ki.$c.call(this,e.$b={})},Pi.$s=function(e){var t=this;ki.$s.call(this,e.$b),delete e.$b,t.font._replaceUpdater("pixelSize",function(){t.font.pixelSize=18*t._context.virtualScale},[t._context,"virtualScale"]),t.completed()};var Si=A.Rectangle,Ii=Si.prototype,Ti=w.TextButton=function(e,t){Si.apply(this,arguments)},Oi=Ti.prototype=Object.create(Ii);Oi.constructor=Ti,Oi.componentName="src.TextButton",s.addProperty(Oi,"string","text",""),Oi.$c=function(e){Ii.$c.call(this,e.$b={});var t=new w.MainText(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("buttonInnerText"),this.addChild(t),this._setId("buttonProto")},Oi.$s=function(e){var t=this;Ii.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("color",function(){t.color=t.activeFocus?t._get("colorTheme").accentColor:t._get("colorTheme").focusablePanelColor},[t._get("colorTheme"),"focusablePanelColor",t._get("colorTheme"),"accentColor",t,"activeFocus"]),t._replaceUpdater("height",function(){t.height=t._get("buttonInnerText").paintedHeight+20},[t._get("buttonInnerText"),"paintedHeight"]),t._replaceUpdater("width",function(){t.width=t._get("buttonInnerText").paintedWidth+20},[t._get("buttonInnerText"),"paintedWidth"]),t._removeUpdater("radius"),t.radius=4,t._removeUpdater("focus"),t.focus=!0;var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.anchors._removeUpdater("centerIn"),i.anchors.centerIn=i.parent,i._replaceUpdater("color",function(){i.color=i._get("colorTheme").textColor},[i._get("colorTheme"),"textColor"]),i._replaceUpdater("text",function(){i.text=i._get("buttonProto").text},[i._get("buttonProto"),"text"]),i.completed();var r,n={behavior__this_on_color:r=new A.ColorAnimation(t)};r.$c(n.$c$behavior__this_on_color={}),(r=n.behavior__this_on_color).$s(n.$c$behavior__this_on_color),delete n.$c$behavior__this_on_color,r._replaceUpdater("duration",function(){r.duration=r._get("consts").animationDuration},[r._get("consts"),"animationDuration"]),r.completed(),t.setAnimation("color",r),t.completed()};var Ui=A.Text,Mi=Ui.prototype,Li=w.BigText=function(e,t){Ui.apply(this,arguments)},Di=Li.prototype=Object.create(Mi);Di.constructor=Li,Di.componentName="src.BigText",Di.$c=function(e){Mi.$c.call(this,e.$b={})},Di.$s=function(e){Mi.$s.call(this,e.$b),delete e.$b,this.font._removeUpdater("pixelSize"),this.font.pixelSize=40,this.completed()};var Ei=A.Row,zi=Ei.prototype,Bi=w.KeyValueText=function(e,t){Ei.apply(this,arguments)},Ri=Bi.prototype=Object.create(zi);Ri.constructor=Bi,Ri.componentName="src.KeyValueText",s.addProperty(Ri,"string","key"),s.addProperty(Ri,"string","value"),Ri.$c=function(e){zi.$c.call(this,e.$b={});var t=new w.SmallText(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("keyText"),this.addChild(t);var i=new w.SmallText(this);(e._this$child1=i).$c(e.$c$_this$child1={}),this.addChild(i)},Ri.$s=function(e){var t=this;zi.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("spacing",function(){t.spacing=10*t._context.virtualScale},[t._context,"virtualScale"]),t._replaceUpdater("height",function(){t.height=t._get("keyText").height},[t._get("keyText"),"height"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._replaceUpdater("color",function(){i.color=i._get("colorTheme").textColor},[i._get("colorTheme"),"textColor"]),i._replaceUpdater("text",function(){i.text=i.parent.key},[i.parent,"key"]),i.font._replaceUpdater("pixelSize",function(){i.font.pixelSize=14*i._context.virtualScale},[i._context,"virtualScale"]),i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r._replaceUpdater("color",function(){r.color=r._get("colorTheme").subTextColor},[r._get("colorTheme"),"subTextColor"]),r._replaceUpdater("text",function(){r.text=r.parent.value},[r.parent,"value"]),r.font._replaceUpdater("pixelSize",function(){r.font.pixelSize=14*r._context.virtualScale},[r._context,"virtualScale"]),r.completed(),t.completed()};var Fi=A.Object,Wi=Fi.prototype,Hi=A.LocalStorage=function(e,t){Fi.apply(this,arguments);var i=A.__localStorageBackend;this.impl=i().createLocalStorage(this)},Ni=Hi.prototype=Object.create(Wi);Ni.constructor=Hi,Ni.componentName="core.LocalStorage",Ni._ensureErrCallback=function(e){return e||function(e){log(e.message)}},Ni._ensureCallback=function(e,t){return e||function(e){log("ignore value of",t,"gotten from storage:",e)}},Ni._checkNameValid=function(e){if(!e)throw new Error("empty name")},Ni.getOrDefault=function(e,t,i){this._checkNameValid(e),t=this._ensureCallback(t,e),this.impl.get(e,t,function(){t(i)},this)},Ni.get=function(e,t,i){this._checkNameValid(e),this.impl.get(e,this._ensureCallback(t,e),this._ensureErrCallback(i),this)},Ni.erase=function(e,t){this._checkNameValid(e),this.impl.erase(e,this._ensureErrCallback(t),this)},Ni.set=function(e,t,i){this._checkNameValid(e),this.impl.set(e,t,this._ensureErrCallback(i),this)},Ni.$c=function(e){Wi.$c.call(this,e.$b={})},Ni.$s=function(e){Wi.$s.call(this,e.$b),delete e.$b,this.completed()};var ji=A.LocalStorage,Vi=ji.prototype,Yi=A.PropertyStorage=function(e,t){ji.apply(this,arguments)},Gi=Yi.prototype=Object.create(Vi);Gi.constructor=Yi,Gi.componentName="core.PropertyStorage",Gi.ready=A.createSignal("ready"),s.addProperty(Gi,"string","name"),s.addProperty(Gi,"string","value"),s.addProperty(Gi,"string","defaultValue"),Gi._checkNameValid=function(){if(!this.name)throw new Error("empty property name")},Gi._write=function(){this._checkNameValid(),this.value?this.set(this.name,this.value):this.erase(this.name)},Gi._read=function(){this._checkNameValid(),this.getOrDefault(this.name,function(e){this._setProperty("value",e),this.ready()}.bind(this),this.defaultValue)},Gi.__complete=function(){Vi.__complete.call(this),this.value&&(this._setProperty("value",this.value),this.ready())},A._protoOnChanged(Gi,"name",function(e){this._setProperty("value",""),this._read()}),A._protoOnChanged(Gi,"value",function(e){this._write()}),Gi.$c=function(e){Vi.$c.call(this,e.$b={})},Gi.$s=function(e){Vi.$s.call(this,e.$b),delete e.$b,this.completed()};var Ki=A.Object,Xi=Ki.prototype,Ji=A.Shadow=function(e,t){Ki.apply(this,arguments)},qi=Ji.prototype=Object.create(Xi);qi.constructor=Ji,qi.componentName="core.Shadow",s.addProperty(qi,"real","x"),s.addProperty(qi,"real","y"),s.addProperty(qi,"Color","color","black"),s.addProperty(qi,"real","blur"),s.addProperty(qi,"real","spread"),qi._empty=function(){return!(this.x||this.y||this.blur||this.spread)},qi._getFilterStyle=function(){var e=this.x+"px "+this.y+"px "+this.blur+"px ";return 0<this.spread&&(e+=this.spread+"px "),e+=A.Color.normalize(this.color)};_=function(e){this.parent._updateStyle(!0)};A._protoOnChanged(qi,"x",_),A._protoOnChanged(qi,"y",_),A._protoOnChanged(qi,"color",_),A._protoOnChanged(qi,"blur",_),A._protoOnChanged(qi,"spread",_),qi.$c=function(e){Xi.$c.call(this,e.$b={})},qi.$s=function(e){Xi.$s.call(this,e.$b),delete e.$b,this.completed()};var Zi=A.Object,Qi=Zi.prototype,er=A.BorderSide=function(e,t){Zi.apply(this,arguments)},tr=er.prototype=Object.create(Qi);tr.constructor=er,tr.componentName="core.BorderSide",s.addProperty(tr,"string","name"),s.addProperty(tr,"int","width"),s.addProperty(tr,"color","color"),s.addProperty(tr,"int","style"),tr._updateStyle=function(){if(this.parent&&this.parent.parent&&this.name){var e;A.Border;switch(this.style){case k.core.Border.prototype.None:e="none";break;case k.core.Border.prototype.Hidden:e="hidden";break;case k.core.Border.prototype.Dotted:e="dotted";break;case k.core.Border.prototype.Dashed:e="dashed";break;case k.core.Border.prototype.Solid:e="solid";break;case k.core.Border.prototype.Double:e="double";break;case k.core.Border.prototype.Groove:e="groove";break;case k.core.Border.prototype.Ridge:e="ridge";break;case k.core.Border.prototype.Inset:e="inset";break;case k.core.Border.prototype.Outset:e="outset"}var t=this.width+"px "+e+" "+A.Color.normalize(this.color);this.parent.parent.style("border-"+this.name,t)}};_=function(e){this._updateStyle()};A._protoOnChanged(tr,"width",_),A._protoOnChanged(tr,"color",_),A._protoOnChanged(tr,"style",_),tr.$c=function(e){Qi.$c.call(this,e.$b={})},tr.$s=function(e){var t=this;Qi.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t.parent.width},[t.parent,"width"]),t._replaceUpdater("color",function(){t.color=t.parent.color},[t.parent,"color"]),t._replaceUpdater("style",function(){t.style=t.parent.style},[t.parent,"style"]),t.completed()};var ir=A.Item,rr=ir.prototype,nr=A.BaseViewContent=function(e,t){ir.apply(this,arguments),this.style("will-change","scroll-position, transform, left, top")},or=nr.prototype=Object.create(rr);or.constructor=nr,or.componentName="core.BaseViewContent",or._updateScrollPositions=function(e,t,i){this._setProperty("x",-e),this._setProperty("y",-t),void 0!==i&&!i||this.parent._scheduleLayout()};_=function(e){this.parent._scheduleLayout()};A._protoOnChanged(or,"x",_),A._protoOnChanged(or,"y",_),or.$c=function(e){rr.$c.call(this,e.$b={})},or.$s=function(e){rr.$s.call(this,e.$b),delete e.$b,this.completed()};var ar=A.Item,sr=ar.prototype,cr=w.MediaDelegate=function(e,t){ar.apply(this,arguments)},lr=cr.prototype=Object.create(sr);lr.constructor=cr,lr.componentName="src.MediaDelegate",lr.$c=function(e){var t=this;sr.$c.call(this,e.$b={});var i=new A.Rectangle(t);(e._this$child0=i).$c(e.$c$_this$child0={}),t.addChild(i);var r=new A.Image(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("iconImage"),t.addChild(r);var n=new A.Rectangle(t);(e._this$child2=n).$c(e.$c$_this$child2={}),t.addChild(n);var o=new A.Rectangle(t);(e._this$child3=o).$c(e.$c$_this$child3={});var a=new w.TinyText(o);(e._this_child3$child0=a).$c(e.$c$_this_child3$child0={}),s.addProperty(a,"bool","overriden"),a._setId("mediTitle"),o.addChild(a),t.addChild(o),t._setId("mediaDelegateProto")},lr.$s=function(e){var t=this;sr.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=200*t._context.virtualScale},[t._context,"virtualScale"]),t._replaceUpdater("height",function(){t.height=t._get("iconImage").height},[t._get("iconImage"),"height"]),t.transform._replaceUpdater("scaleX",function(){t.transform.scaleX=t.activeFocus?1.075:1},[t,"activeFocus"]),t.transform._replaceUpdater("scaleY",function(){t.transform.scaleY=t.activeFocus?1.075:1},[t,"activeFocus"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.anchors._replaceUpdater("fill",function(){i.anchors.fill=i._get("iconImage")},[i,"iconImage"]),i._replaceUpdater("color",function(){i.color=i._get("model").color?i._get("model").color:"#0000"},[i._get("_delegate"),"_row"]),i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r.anchors._removeUpdater("centerIn"),r.anchors.centerIn=r.parent,r._replaceUpdater("width",function(){r.width=200*r._context.virtualScale},[r._context,"virtualScale"]),r._replaceUpdater("height",function(){r.height=300*r._context.virtualScale},[r._context,"virtualScale"]),r._removeUpdater("fillMode"),r.fillMode=k.core.Image.prototype.Stretch,r._replaceUpdater("source",function(){r.source=r._get("model").icon},[r._get("_delegate"),"_row"]),r.completed();var n=e._this$child2;n.$s(e.$c$_this$child2),delete e.$c$_this$child2,n.anchors._replaceUpdater("fill",function(){n.anchors.fill=n._get("iconImage")},[n,"iconImage"]),n._removeUpdater("color"),n.color="#0000",n.border._replaceUpdater("color",function(){n.border.color=n._get("colorTheme").accentColor},[n._get("colorTheme"),"accentColor"]),n.border._removeUpdater("width"),n.border.width=5,n._replaceUpdater("opacity",function(){n.opacity=n.parent.activeFocus?1:0},[n.parent,"activeFocus"]);var o,a={behavior__this_child2_on_opacity:o=new A.Animation(n)};o.$c(a.$c$behavior__this_child2_on_opacity={}),(o=a.behavior__this_child2_on_opacity).$s(a.$c$behavior__this_child2_on_opacity),delete a.$c$behavior__this_child2_on_opacity,o._replaceUpdater("duration",function(){o.duration=o._get("consts").delegateAnimationDuration},[o._get("consts"),"delegateAnimationDuration"]),o.completed(),n.setAnimation("opacity",o),n.completed();var s=e._this$child3;s.$s(e.$c$_this$child3),delete e.$c$_this$child3,s._replaceUpdater("height",function(){s.height=s._get("mediTitle").paintedHeight+15},[s._get("mediTitle"),"paintedHeight"]),s.anchors._replaceUpdater("left",function(){s.anchors.left=s._get("iconImage").left},[s._get("iconImage"),"left"]),s.anchors._replaceUpdater("right",function(){s.anchors.right=s._get("iconImage").right},[s._get("iconImage"),"right"]),s.anchors._replaceUpdater("bottom",function(){s.anchors.bottom=s._get("iconImage").bottom},[s._get("iconImage"),"bottom"]),s._removeUpdater("clip"),s.clip=!0,s._replaceUpdater("color",function(){s.color=s._get("colorTheme").accentColor},[s._get("colorTheme"),"accentColor"]),s._replaceUpdater("opacity",function(){s.opacity=s._get("mediaDelegateProto").activeFocus?1:0},[s._get("mediaDelegateProto"),"activeFocus"]);var c=e._this_child3$child0;c.$s(e.$c$_this_child3$child0),delete e.$c$_this_child3$child0,c._replaceUpdater("overriden",function(){c.overriden=c.paintedWidth>c.width},[c,"width",c,"paintedWidth"]),c.anchors._replaceUpdater("left",function(){c.anchors.left=c.parent.left},[c.parent,"left"]),c.anchors._replaceUpdater("right",function(){c.anchors.right=c.parent.right},[c.parent,"right"]),c.anchors._replaceUpdater("bottom",function(){c.anchors.bottom=c.parent.bottom},[c.parent,"bottom"]),c.anchors._replaceUpdater("leftMargin",function(){c.anchors.leftMargin=c.overriden?5:0},[c,"overriden"]),c.anchors._replaceUpdater("rightMargin",function(){c.anchors.rightMargin=c.overriden?5:0},[c,"overriden"]),c.anchors._removeUpdater("bottomMargin"),c.anchors.bottomMargin=8,c._replaceUpdater("horizontalAlignment",function(){c.horizontalAlignment=c.overriden?k.core.Text.prototype.AlignLeft:k.core.Text.prototype.AlignHCenter},[c,"overriden"]),c._replaceUpdater("color",function(){c.color=c._get("colorTheme").textColor},[c._get("colorTheme"),"textColor"]),c._replaceUpdater("text",function(){c.text=c._get("model").text},[c._get("_delegate"),"_row"]),c._removeUpdater("clip"),c.clip=!0,c.completed();var l,h={behavior__this_child3_on_opacity:l=new A.Animation(s)};l.$c(h.$c$behavior__this_child3_on_opacity={}),(l=h.behavior__this_child3_on_opacity).$s(h.$c$behavior__this_child3_on_opacity),delete h.$c$behavior__this_child3_on_opacity,l._replaceUpdater("duration",function(){l.duration=l._get("consts").delegateAnimationDuration},[l._get("consts"),"delegateAnimationDuration"]),l.completed(),s.setAnimation("opacity",l),s.completed();var d,p={behavior__this_on_transform:d=new A.Animation(t)};d.$c(p.$c$behavior__this_on_transform={}),(d=p.behavior__this_on_transform).$s(p.$c$behavior__this_on_transform),delete p.$c$behavior__this_on_transform,d._replaceUpdater("duration",function(){d.duration=d._get("consts").delegateAnimationDuration},[d._get("consts"),"delegateAnimationDuration"]),d.completed(),t.setAnimation("transform",d),t.completed()};var hr=A.Text,dr=hr.prototype,pr=w.MainText=function(e,t){hr.apply(this,arguments)},ur=pr.prototype=Object.create(dr);ur.constructor=pr,ur.componentName="src.MainText",ur.$c=function(e){dr.$c.call(this,e.$b={})},ur.$s=function(e){dr.$s.call(this,e.$b),delete e.$b,this.font._removeUpdater("pixelSize"),this.font.pixelSize=28,this.completed()};var gr=A.Object,fr=gr.prototype,_r=A.Font=function(e,t){gr.apply(this,arguments)},mr=_r.prototype=Object.create(fr);mr.constructor=_r,mr.componentName="core.Font",s.addProperty(mr,"string","family",$manifest$style$font$family),s.addProperty(mr,"bool","italic"),s.addProperty(mr,"bool","bold"),s.addProperty(mr,"bool","underline"),s.addProperty(mr,"bool","overline"),s.addProperty(mr,"bool","strike"),s.addProperty(mr,"bool","strikeout"),s.addProperty(mr,"real","letterSpacing"),s.addProperty(mr,"real","wordSpacing"),s.addProperty(mr,"int","pixelSize",$manifest$style$font$pixelSize),s.addProperty(mr,"int","pointSize"),s.addProperty(mr,"real","lineHeight",$manifest$style$font$lineHeight),s.addProperty(mr,"int","weight"),mr.MixedCase=0,_r.MixedCase=0,mr.AllUppercase=1,_r.AllUppercase=1,mr.AllLowercase=2,_r.AllLowercase=2,mr.SmallCaps=3,_r.SmallCaps=3,mr.Capitalize=4,_r.Capitalize=4,s.addProperty(mr,"enum","capitalization"),mr._updateTextDecoration=function(){var e=(this.underline?" underline":"")+(this.overline?" overline":"")+(this.strike||this.strikeout?" line-through":"");this.parent.style("text-decoration",e),this.parent._updateSize()},A._protoOnChanged(mr,"capitalization",function(e){switch(this.parent.style("text-transform","none"),this.parent.style("font-variant","normal"),e){case this.AllUppercase:this.parent.style("text-transform","uppercase");break;case this.AllLowercase:this.parent.style("text-transform","lowercase");break;case this.SmallCaps:this.parent.style("font-variant","small-caps");break;case this.Capitalize:this.parent.style("text-transform","capitalize")}}),A._protoOnChanged(mr,"pointSize",function(e){0<e&&(this.pixelSize=0),this.parent.style("font-size",0<e?e+"pt":""),this.parent._updateSize()}),A._protoOnChanged(mr,"pixelSize",function(e){0<e&&(this.pointSize=0),this.parent.style("font-size",0<e?e+"px":""),this.parent._updateSize()});_=function(e){this._updateTextDecoration()};A._protoOnChanged(mr,"underline",_),A._protoOnChanged(mr,"overline",_),A._protoOnChanged(mr,"strike",_),A._protoOnChanged(mr,"strikeout",_),A._protoOnChanged(mr,"family",function(e){this.parent.style("font-family",e),this.parent._updateSize()}),A._protoOnChanged(mr,"italic",function(e){this.parent.style("font-style",e?"italic":"normal"),this.parent._updateSize()}),A._protoOnChanged(mr,"weight",function(e){this.parent.style("font-weight",e),this.parent._updateSize()}),A._protoOnChanged(mr,"bold",function(e){this.parent.style("font-weight",e?"bold":"normal"),this.parent._updateSize()}),A._protoOnChanged(mr,"letterSpacing",function(e){this.parent.style("letter-spacing",e+"px"),this.parent._updateSize()}),A._protoOnChanged(mr,"lineHeight",function(e){this.parent.style("line-height",e),this.parent._updateSize()}),A._protoOnChanged(mr,"wordSpacing",function(e){this.parent.style("word-spacing",e+"px"),this.parent._updateSize()}),mr.$c=function(e){fr.$c.call(this,e.$b={})},mr.$s=function(e){fr.$s.call(this,e.$b),delete e.$b,this.completed()};var vr,yr,$r,br,wr,xr=A.Animation,Cr=xr.prototype,kr=A.ColorAnimation=function(e,t){xr.apply(this,arguments)},Ar=kr.prototype=Object.create(Cr);function Pr(e){this._ui=e;var t=window.location;this.updateActualValues();var i=this,r=e._context;r.window.on("hashchange",function(){i._ui.hash=t.hash}.bind(this)),r.window.on("popstate",function(){i.updateActualValues()}.bind(this))}function Sr(e){if(e&&e.name,this._storage=window.localStorage,!this._storage)throw new Error("no local storage support")}function Ir(e){var t=e._context.createElement("video");t.dom.preload="metadata",this.element=t,this.ui=e,this.setEventListeners(),e.element.remove(),e.element=t,e.parent.element.append(e.element),this._xhr=new XMLHttpRequest,this._xhr.addEventListener("load",this.parseManifest.bind(this))}function Tr(e){var t=e._context;if($manifest$system$fingerprint){var i=new o.fingerprint.fingerprint.Fingerprint;t.backend.fingerprint(t,i),e.deviceId=i.finalize(),log("deviceId",e.deviceId)}else{var r=t.system.os+"_"+t.system.browser;r=r.replace(/\s/g,""),e.deviceId=r+"_"+Math.random().toString(36).substr(2,9)}}return Ar.constructor=kr,Ar.componentName="core.ColorAnimation",Ar.interpolate=function(e,t,i){var r=A.Animation.prototype.interpolate,n=new A.Color(e),o=new A.Color(t);return"rgba("+Math.floor(r(n.r,o.r,i))+","+Math.floor(r(n.g,o.g,i))+","+Math.floor(r(n.b,o.b,i))+","+Math.floor(r(n.a,o.a,i))+")"},Ar.$c=function(e){Cr.$c.call(this,e.$b={})},Ar.$s=function(e){Cr.$s.call(this,e.$b),delete e.$b,this.completed()},k.core.model=function(){function l(e,t){this.type=e,this.length=t}var e={};e.ModelUpdate=function(){this.count=0,this._reset()},e.ModelUpdate.prototype.constructor=e.ModelUpdate,e.ModelUpdate.prototype._reset=function(){this._ranges=[new l(0,this.count)],this._updateIndex=this.count},e.ModelUpdate.prototype._setUpdateIndex=function(e){e<this._updateIndex&&(this._updateIndex=e)},e.ModelUpdate.prototype._find=function(e){var t,i=this._ranges;for(t=0;t<i.length;++t){var r=i[t];if(e<r.length)return{index:t,offset:e};0<r.length&&(e-=r.length)}if(0!=e)throw new Error("invalid index "+e);return{index:t-1,offset:r.length}},e.ModelUpdate.prototype.reset=function(e){this.update(e,0,Math.min(e.count,this.count)),this.count<e.count?this.insert(e,this.count,e.count):this.remove(e,e.count,this.count)},e.ModelUpdate.prototype._merge=function(){for(var e=this._ranges,t=1;t<e.length;){var i=e[t-1],r=e[t];if(i.type===r.type)if(1===i.type&&i.length<0&&0<r.length){var n=Math.min(-i.length,r.length);i.type=2,r.length+=i.length,i.length=n,1<t&&--t}else i.length+=r.length,e.splice(t,1);else 1===i.type&&0===i.length?e.splice(t,1):++t}},e.ModelUpdate.prototype._split=function(e,t,i,r){var n=this._ranges;if(0===t)return n.splice(e,0,new l(i,r)),e+1;var o=n[e],a=o.length-t;return o.length=t,0!=a?n.splice(e+1,0,new l(i,r),new l(o.type,a)):n.splice(e+1,0,new l(i,r)),e+2},e.ModelUpdate.prototype.insert=function(e,t,i){if(!(i<=t)){this._setUpdateIndex(t);var r=this._ranges,n=i-t;if(this.count+=n,this.count!=e.count)throw new Error("unbalanced insert "+this.count+" + ["+t+"-"+i+"], model reported "+e.count);var o=this._find(t),a=r[o.index];0===a.length?(a.type=1,a.length+=n):0<=o.offset?this._split(o.index,o.offset,1,n):this._split(o.index+1,0,1,n),this._merge()}},e.ModelUpdate.prototype.remove=function(e,t,i){if(!(i<=t)){this._setUpdateIndex(t);var r=this._ranges,n=i-t;if(this.count-=n,this.count!=e.count)throw new Error("unbalanced remove "+this.count+" + ["+t+"-"+i+"], model reported "+e.count);var o=this._find(t);if(1===(s=r[o.index]).type)s.length-=n;else for(var a=this._split(o.index,o.offset,1,-n);0<n;){var s;(s=r[a]).length<=n?(r.splice(a,1),n-=s.length):(s.length-=n,n=0)}this._merge()}},e.ModelUpdate.prototype.update=function(e,t,i){if(!(i<=t)){var r=this._ranges,n=i-t,o=this._find(t),a=o.index,s=r[a];if(0<o.offset&&(r.splice(a+1,0,new l(s.type,s.length-o.offset)),s.length=o.offset,++a,0===s.length))throw new Error("invalid offset");for(;0<n;){var c=(s=r[a]).length;switch(s.type){case 0:n<c?(s.length-=n,r.splice(a,0,new l(2,n))):s.type=2,n-=c;break;case 1:0<c&&(n-=c),++a;break;case 2:n-=c,++a}}this._merge()}},e.ModelUpdate.prototype.clear=function(){this.count=0,this._reset()},e.ModelUpdate.prototype.apply=function(i,e){var r=0;if(this._ranges.forEach(function(e){var t=e.length;switch(e.type){case 1:0<t?(i._insertItems(r,r+t),r+=t):t<0&&i._removeItems(r,r-t);break;case 2:i._updateItems(r,r+t),r+=t;break;default:r+=e.length}}),!e&&i._items.length!=this.count)throw new Error("unbalanced items update, view: "+i._items.length+", update:"+this.count);for(var t=this._updateIndex;t<this.count;++t)i._updateDelegateIndex(t);this._reset()};var t=e.ArrayModelWrapper=function(e){this.data=e,this.count=e.length};return t.prototype.get=function(e){return{value:this.data[e]}},t.prototype.on=function(){},t.prototype.removeListener=function(){},e}(),k.html5.location=(vr={},Pr.prototype.updateActualValues=function(){var e=this._ui,t=e._context.window.dom;e.hash=t.location.hash,e.href=t.location.href,e.port=t.location.port,e.host=t.location.host,e.origin=t.location.origin,e.hostname=t.location.hostname,e.pathname=t.location.pathname,e.protocol=t.location.protocol,e.search=t.location.search,e.state=t.history.state},Pr.prototype.changeHref=function(e){this._ui._context.window.dom.location.href=e,this.updateActualValues()},Pr.prototype.pushState=function(e,t,i){var r=this._ui,n=r._context.window.dom;n.location.hostname?(n.history.pushState(e,t,i),this.updateActualValues()):(r._context.document.title=t,this._ui.state=e)},vr.createLocation=function(e){return new Pr(e)},vr.Location=Pr,vr),k.html5.html=function(){var f={},p=window.Modernizr;f.capabilities={csstransforms3d:p.csstransforms3d,csstransforms:p.csstransforms,csstransitions:p.csstransitions,mouseEnterLeaveSupported:"netcast"!=k.core.os};var u=null;f.createAddRule=function(e){if((e.sheet||{}).insertRule){r=e.sheet;return function(t,i){try{r.insertRule(t+"{"+i+"}",r.cssRules.length)}catch(e){log("InsertRule failed:",e,", sheet:",r,", name:",t,", rules:",i)}}}var r=e.styleSheet||e.sheet;return function(t,i){try{r.addRule(t,i)}catch(e){log("AddRule failed:",e,", sheet:",r,", name:",t,", rules:",i)}}};function g(){this._cache={}}var e=g.prototype;e.constructor=g,e.update=function(e,t,i){var r=this._cache,n=e._uniqueId,o=r[n];if(void 0!==o)o.data[t]=i,++o.size;else{var a={};a[t]=i,r[n]={data:a,element:e,size:1}}},e.pop=function(e){var t=e._uniqueId,i=this._cache[t];if(void 0!==i)return delete this._cache[t],i},e.apply=function(){var e=this._cache;for(var t in this._cache={},e){var i=e[t];i.element.updateStyle(i)}};function _(e){var t=document.createElement("style");t.type="text/css",document.head.appendChild(t),this.prefix=e+"C-",this.style=t,this.total=0,this.stats={},this.classes={},this.classes_total=0,this._addRule=f.createAddRule(t)}var t=_.prototype;t.constructor=_,t.add=function(e){this.stats[e]=(this.stats[e]||0)+1,++this.total},t.register=function(e){var t=e.join(";"),i=this.classes,r=i[t];return void 0!==r||(r=i[t]=this.prefix+this.classes_total++,this._addRule("."+r,t)),r},t.classify=function(i){var r=this.total;if(r<10)return"";i.sort();var n=[],o=[],a=this.stats;return i.forEach(function(e,t){.05<a[e]/r&&(n.push(e),o.push(t))}),o.length<2?"":(o.forEach(function(e,t){i.splice(e-t,1)}),this.register(n))};var i={};0<=k.core.userAgent.toLowerCase().indexOf("webkit")&&(i.appearance="-webkit-appearance");function l(e){var t=i[e];return void 0===t&&(i[e]=t=window.Modernizr.prefixedCSS(e)),t}f.getPrefixedName=l;function o(r){var n=r.__domEventListeners;void 0===n&&(n=r.__domEventListeners={}),r.onListener("",function(e){var t=n[e]=r._context.wrapNativeCallback(function(){r.emitWithArgs(e,arguments)}),i=[e,t];0<=a.indexOf(e)&&i.push(s),0<=c.indexOf(e)&&(1===(r.__mouseHandlerCount=1+~~r.__mouseHandlerCount)&&r.style("pointer-events","auto"));0<=h.indexOf(e)&&1===(r.__touchHandlerCount=1+~~r.__touchHandlerCount)&&r.style("touch-action","auto");r.dom.addEventListener.apply(r.dom,i)},function(e){0<=c.indexOf(e)&&(r.__mouseHandlerCount=~~r.__mouseHandlerCount-1)<=0&&r.style("pointer-events","none");0<=h.indexOf(e)&&(r.__touchHandlerCount=~~r.__touchHandlerCount-1)<=0&&r.style("touch-action","none");r.dom.removeEventListener(e,n[e])})}var a=["touchstart","touchmove","touchend","wheel","mousewheel","scroll"],s=!!p.passiveeventlisteners&&{passive:!0},c=["mousedown","mouseup","click","dblclick","mousemove","mouseover","mousewheel","mouseout","contextmenu"],h=["touchstart","touchmove","touchend","touchcancel"],r={};f.loadExternalStylesheet=function(e){if(!r[e]){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t),r[e]=!0}};var d=0,m={};function v(e){return $manifest$html5$prefix+e}f.Element=function(e,t,i){if("string"==typeof t){void 0===i&&(i="");var r=t+"."+i;if(!m[r]){var n=document.createElement(t);($manifest$html5$prefix||i)&&n.classList.add(v(i)),$manifest$html5$prefix&&i&&n.classList.add(v("")),m[r]=n}this.dom=m[r].cloneNode(!1)}else this.dom=t;k.core.RAIIEventEmitter.apply(this),this._context=e,this._transitions={},this._class="",this._uniqueId=(++d).toString(36),this._firstChildIndex=0,o(this)};var n=f.Element.prototype=Object.create(k.core.RAIIEventEmitter.prototype);n.constructor=f.Element,n.addClass=function(e){this.dom.classList.add(e)},n.appendChildren=function(e){if(0<e.length){var t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(e)}),this.dom.appendChild(t)}},n.removeChildren=function(e){var r=[],n=this.dom;return e.children.forEach(function(e){var t=e.element;if(void 0!==t){var i=t.dom;i.parentNode===n&&(n.removeChild(i),r.push(i))}}),r},n.setHtml=function(e,t){var i,r=this.dom;i=void 0!==t?this.removeChildren(t):[],r.innerHTML=e,this.appendChildren(i)},n.width=function(){return this.updateStyle(),this.dom.clientWidth},n.height=function(){return this.updateStyle(),this.dom.clientHeight},n.fullWidth=function(){return this.updateStyle(),this.dom.scrollWidth},n.fullHeight=function(){return this.updateStyle(),this.dom.scrollHeight};var y=["overflow","overflow-x","overflow-y"];n.style=function(e,t){var i=this._context._styleCache;if(void 0!==t)i.update(this,e,t),0<=y.indexOf(e)&&(i.update(this,"pointer-events","auto"),i.update(this,"touch-action","auto"));else{if("object"!=typeof e)throw new Error("cache is write-only");for(var r in e)0<=y.indexOf(e)&&(i.update(this,"pointer-events","auto"),i.update(this,"touch-action","auto")),i.update(this,r,e[r])}},n.setAttribute=function(e,t){return this.dom.setAttribute(e,t)},n.getAttribute=function(e){return this.dom.getAttribute(e)},n.setProperty=function(e,t){return this.dom[e]=t},n.getProperty=function(e){return this.dom[e]};var $={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px",padding:"px"};n.forceLayout=function(){return this.updateStyle(),this.dom.offsetWidth|this.dom.offsetHeight},n.updateStyle=function(e){var t=this.dom;if(t&&(void 0!==e||void 0!==(e=this._context._styleCache.pop(this)))){var i=e.data,r=t.style;for(var n in i){var o=i[n],a=l(n),s=!1!==a?a:n;if(o instanceof k.core.Color?o=o.rgba():Array.isArray(o)&&(o=o.join(",")),"number"==typeof o){var c=$[n];void 0!==c&&(o+=c)}r[s]=o}}},n.append=function(e){this.dom.appendChild(e instanceof f.Element?e.dom:e)},n.discard=function(){k.core.RAIIEventEmitter.prototype.discard.apply(this),this.remove()},n.remove=function(){var e=this.dom;e.parentNode&&e.parentNode.removeChild(e)},n.focus=function(){var e=this.dom;e.focus(),e.select()},n.blur=function(){this.dom.blur()},n.getScrollX=function(){return this.dom.scrollLeft},n.getScrollY=function(){return this.dom.scrollTop},f.Document=function(e,t){k.core.RAIIEventEmitter.apply(this),this._context=e,this.dom=t,o(this)},(f.Document.prototype=Object.create(k.core.RAIIEventEmitter.prototype)).constructor=f.Document,f.Window=function(e,t){k.core.RAIIEventEmitter.apply(this),this._context=e,this.dom=t,o(this)};var b=f.Window.prototype=Object.create(k.core.RAIIEventEmitter.prototype);b.constructor=f.Window,b.width=function(){return this.dom.innerWidth},b.height=function(){return this.dom.innerHeight},b.scrollY=function(){return this.dom.scrollY},b.style=function(){},f.getElement=function(e,t){var i=document.getElementsByTagName(t);if(1!=i.length)throw new Error("no tag "+t+"/multiple tags");return new f.Element(e,i[0])},f.init=function(r){u=new k.html5.cache.Cache(w),r._styleCache=new g;var e=r.options,t=r._prefix,i=e.id,n=e.tag||"div";t&&log("Context: using prefix",t+="-");var o=new k.html5.html.Document(r,document);r.document=o;var a,s,c=new k.html5.html.Window(r,window);r.window=c;var l=f,h=document.getElementById(i);null===h?(a=c.width(),s=c.height(),log("Context: window size: "+a+"x"+s),(h=l.createElement(r,n)).dom.id=i,c.on("resize",function(){r.width=c.width(),r.height=c.height()}),l.getElement(r,"body").append(h)):(a=(h=new l.Element(r,h)).width(),s=h.height(),log("Context: found element by id, size: "+a+"x"+s),c.on("resize",function(){r.width=h.width(),r.height=h.height()}));p.canvastext?(r._textCanvas=l.createElement(r,"canvas"),r._textCanvas.style("width",0),r._textCanvas.style("height",0),h.append(r._textCanvas),r._textCanvasContext="getContext"in r._textCanvas.dom?r._textCanvas.dom.getContext("2d"):null):r._textCanvasContext=null,r.element=h,r.width=a,r.height=s,c.on("scroll",function(e){r.scrollY=c.scrollY()});function d(e){var t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;log("fullscreen change event:",t),r.fullscreen=t}new Array("webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange").forEach(function(e){h.on(e,d,!0)}),c.on("keydown",r.wrapNativeCallback(function(e){var t=e.which||e.keyCode,i=A.keyCodes[t];void 0!==i?r.processKey(i,e)&&e.preventDefault():log("unhandled keycode "+t+": ["+e.charCode+" "+e.keyCode+" "+e.which+" "+e.key+" "+e.code+" "+e.location+"]")})),c.on("orientationchange",function(e){log("orientation changed event"),r.system.screenWidth=window.screen.width,r.system.screenHeight=window.screen.height}),r._styleClassifier=$manifest$cssAutoClassificator?new _(r._prefix):null},f.initSystem=function(e){var t=e._context.window;t.on("focus",function(){e.pageActive=!0}),t.on("blur",function(){e.pageActive=!1}),e.screenWidth=window.screen.width,e.screenHeight=window.screen.height},f.createElement=function(e,t,i){return new f.Element(e,t,i)},f.initRectangle=function(e){};var w=function(e,t){var i=new Image;i.onerror=function(){i.onload=null,i.onerror=null,t(null)},i.onload=function(){i.onload=null,i.onerror=null,t({width:i.naturalWidth,height:i.naturalHeight})},i.src=e};f.initImage=function(e){},f.loadImage=function(e,t){e.source.indexOf("?")<0?u.get(e.source,t):w(e.source,t)},f.initText=function(e){};function x(e,t){switch(e.verticalAlignment){case e.AlignTop:e._topPadding=0;break;case e.AlignBottom:e._topPadding=e.height-e.paintedHeight;break;case e.AlignVCenter:e._topPadding=(e.height-e.paintedHeight)/2}t["padding-top"]=e._topPadding,t.height=e.height-e._topPadding,e.style(t)}f.setText=function(e,t){e.element.setHtml(t,e)},f.layoutText=function(e){var t=e._context._textCanvasContext,i=e.wrapMode!==k.core.Text.NoWrap,r=e.element,n=(r.dom,e.textFormat===e.Html||0<=e.text.search(/[\<\&]/));if(!i&&null!==t&&!n){var o,a=e.font;o=a.pointSize?Math.round(96*a.pointSize/72):a.pixelSize,t.font=o+"px "+a.family;var s=t.measureText(e.text);return e.paintedWidth=s.width,e.paintedHeight=o*a.lineHeight,void x(e,{})}var c=r.removeChildren(e);i?e.style({height:"auto","padding-top":0}):e.style({width:"auto",height:"auto","padding-top":0});var l,h=r.fullWidth()+1,d=r.fullHeight()+1;h+1!==e.paintedWidth&&(e.paintedWidth=h),d+1!==e.paintedHeight&&(e.paintedHeight=d),l=i?{}:{width:e.width},x(e,l),r.appendChildren(c)},f.run=function(t,e){t.window.on("message",function(e){log("Context: received message from "+e.origin,e),t.message(e)}),t.window.on($manifest$expectRunContextEvent?"runContext":"load",function(){e()})},f.tick=function(e){e._styleCache.apply()};var C={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};return f.setAnimation=function(e,t,i){if(!f.capabilities.csstransitions||$manifest$cssDisableTransitions||i&&!i.cssTransition)return!1;var r=C[t];return void 0!==r&&function(e,t,i){var r=f,n=r.getPrefixedName("transition-property"),o=r.getPrefixedName("transition-delay"),a=r.getPrefixedName("transition-duration"),s=r.getPrefixedName("transition-timing-function"),c=e.element;c.forceLayout(),t=r.getPrefixedName(t)||t;var l=c._transitions,h=l[n]||[],d=l[a]||[],p=l[s]||[],u=l[o]||[],g=h.indexOf(t);return-1===g?i&&(h.push(t),d.push(i.duration+"ms"),p.push(i.easing),u.push(i.delay+"ms")):i&&i.active()?(d[g]=i.duration+"ms",p[g]=i.easing,u[g]=i.delay+"ms"):(h.splice(g,1),d.splice(g,1),p.splice(g,1),u.splice(g,1)),l[n]=h,l[a]=d,l[s]=p,l[o]=u,"orsay"!==e._context.system.os&&"netcast"!==e._context.system.os||(l["transition-property"]=h,l["transition-duration"]=d,l["transition-delay"]=u,l["transition-timing-function"]=p),e.style(l),!0}(e,r,i)},f.requestAnimationFrame=p.prefixed("requestAnimationFrame",window)||function(e){return setTimeout(e,0)},f.cancelAnimationFrame=p.prefixed("cancelAnimationFrame",window)||function(e){return clearTimeout(e)},f.enterFullscreenMode=function(e){return p.prefixed("requestFullscreen",e.dom)()},f.exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()},f.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},f.ajax=function(e,t){var i=t.url,r=t.error,n=t.headers,o=t.done,a=t.settings,s=new XMLHttpRequest;for(var c in r&&s.addEventListener("error",r),o&&s.addEventListener("load",o),s.open(t.method||"GET",i),a)s[c]=a[c];for(var c in n)s.setRequestHeader(c,n[c]);t.data?s.send(t.data):s.send()},f.fingerprint=function(e,t){var i=f;try{var r=i.createElement(e,"canvas");r.dom.width=2e3,r.dom.height=32;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ /0123456789 abcdefghijklmnopqrstuvwxyz Â£Â©ÂµÃ€Ã†Ã–ÃžÃŸÃ©Ã¶Ã¿ â€“â€”â€˜â€œâ€â€žâ€ â€¢â€¦â€°â„¢Å“Å Å¸Å¾â‚¬ Î‘Î’Î“Î”Î©Î±Î²Î³Î´Ï‰ ÐÐ‘Ð’Ð“Ð”Ð°Ð±Ð²Ð³Ð´ âˆ€âˆ‚âˆˆâ„âˆ§âˆªâ‰¡âˆž â†‘â†—â†¨â†»â‡£ â”â”¼â•”â•˜â–‘â–ºâ˜ºâ™€ ï¬ï¿½â‘€â‚‚á¼ á¸‚Ó¥áº„ÉËâŽ×Ô±áƒ",o=r.dom.getContext("2d");o.textBaseline="top",o.font="20px 'Arial'",o.textBaseline="alphabetic",o.fillStyle="#fedcba",o.fillRect(0,0,2e3,32),o.fillStyle="#12345678",o.fillText(n,1.5,23.5,2e3),o.font="19.5px 'Arial'",o.fillStyle="#789abcde",o.fillText(n,1,22,2e3),t.update(r.dom.toDataURL())}catch(e){log("canvas test failed: "+e)}try{t.update(window.navigator.userAgent)}catch(e){log(e)}try{t.update(window.navigator.plugins)}catch(e){log(e)}try{t.update(window.navigator.mimeTypes)}catch(e){log(e)}try{t.update(window.navigator.language)}catch(e){log(e)}try{t.update(window.navigator.platform)}catch(e){log(e)}try{t.update(window.navigator.product)}catch(e){log(e)}try{t.update(window.navigator.productSub)}catch(e){log(e)}try{t.update(window.navigator.vendorSub)}catch(e){log(e)}try{t.update(window.navigator.hardwareConcurrency)}catch(e){log(e)}try{t.update(window.screen.availWidth)}catch(e){log(e)}try{t.update(window.screen.availHeight)}catch(e){log(e)}try{t.update(window.screen.colorDepth)}catch(e){log(e)}},f}(),k.html5.cache=function(){function r(){return Math.floor((new Date).getTime()/1e3)}function n(){this.created=r(),this.waiters=[],this.invoker=null}var e={};n.prototype.expired=function(e){return r()-this.created>=e},n.prototype.set=function(e){this.created=r();for(var t=this.invoker=k.core.safeCall(null,[e],function(e){log("cache entry callback failed: ",e,e.stack)});this.waiters.length;){var i=this.waiters;this.waiters=[],i.forEach(t)}this.waiters=null},n.prototype.wait=function(e){null!==this.invoker?this.invoker(e):this.waiters.push(e)};function t(e,t){if(!e)throw new Error("create callback is required");this._create=e,this._ttl=t||3600,this._cache={},setInterval(this.cleanup.bind(this),this._ttl/2*1e3)}return t.prototype.get=function(e,t){var i=this._cache[e];void 0!==i&&!i.expired(this._ttl)||(this._cache[e]=i=new n,this._create(e,function(e){i.set(e)})),i.wait(t)},t.prototype.cleanup=function(){for(var e in this._cache){this._cache[e].expired(this._ttl)&&delete this._cache[e]}},e.Cache=t,e}(),k.html5.localstorage=(yr={},Sr.prototype.get=function(e,t,i){var r=this._storage.getItem(e);null!==r?t(r):i(new Error("no item with name "+e))},Sr.prototype.set=function(e,t){this._storage.setItem(e,t)},Sr.prototype.erase=function(e,t){this._storage.removeItem(e)},yr.createLocalStorage=function(e){return new Sr(e)},yr.LocalStorage=Sr,yr),k.video.html5.backend=($r={},Ir.prototype.setEventListeners=function(){var e=this.element,t=e.dom,i=this.ui;e.on("play",function(){i.waiting=!1,i.paused=t.paused}.bind(i)),e.on("pause",function(){i.paused=t.paused}.bind(i)),e.on("ended",function(){i.finished()}.bind(i)),e.on("seeked",function(){log("seeked"),i.seeking=!1,i.waiting=!1}.bind(i)),e.on("canplay",function(){log("canplay",t.readyState),i.ready=t.readyState}.bind(i)),e.on("seeking",function(){log("seeking"),i.seeking=!0,i.waiting=!0}.bind(i)),e.on("waiting",function(){log("waiting"),i.waiting=!0}.bind(i)),e.on("stalled",function(){log("Was stalled",t.networkState),i.stalled=!0}.bind(i)),e.on("emptied",function(){log("Was emptied",t.networkState)}.bind(i)),e.on("volumechange",function(){i.muted=t.muted}.bind(i)),e.on("canplaythrough",function(){log("ready to play"),i.paused=t.paused}.bind(i)),e.on("error",function(){if(log("Player error occurred",t.error,"src",i.source),t.error&&i.source)switch(i.error(t.error),log("player.error",t.error),t.error.code){case 1:log("MEDIA_ERR_ABORTED error occurred");break;case 2:log("MEDIA_ERR_NETWORK error occurred");break;case 3:log("MEDIA_ERR_DECODE error occurred");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occurred");break;default:log("UNDEFINED error occurred")}}.bind(i)),e.on("timeupdate",function(){i.waiting=!1,i.stalled=!1,i.seeking||(i.progress=t.currentTime)}.bind(i)),e.on("durationchange",function(){var e=t.duration;log("Duration",e),i.duration=isFinite(e)?e:0}.bind(i)),e.on("progress",function(){var e=t.buffered.length-1;i.waiting=!1,0<=e&&(i.buffered=t.buffered.end(e)-t.buffered.start(e))}.bind(i)),this.setOption("autoplay",i.autoPlay)},Ir.prototype.parseManifest=function(e){var t=e.target.responseText.split("\n"),i=this.ui.source,r=i.substring(0,i.lastIndexOf("/")+1),n=0;this._videoTracks=[{name:"auto",url:this.ui.source,id:n}],this._totalTracks={},this._audioTracksInfo=[];for(var o=0;o<t.length-1;++o){var a=t[o],s=t[o+1];if(0==a.indexOf("#EXT-X-STREAM-INF")){for(var c=a.split(","),l={url:0===s.indexOf("http")?s:r+s},h=0;h<c.length;++h)if(1<(g=c[h].split("=")).length)switch(g[0].trim().toLowerCase()){case"bandwidth":l.bandwidth=g[1].trim();break;case"audio":l.audio=g[1].trim().replace(/"/g,"");break;case"resolution":var d=g[1].split("x");l.width=d[0],l.height=d[1]}var p=l.width+"x"+l.height;this._totalTracks[p]||(this._totalTracks[p]=[]),this._totalTracks[p].push(l)}else if(0==a.indexOf("#EXT-X-MEDIA:TYPE=AUDIO")){c=a.split(",");var u={};for(h=0;h<c.length;++h){var g;if(1<(g=c[h].split("=")).length)switch(g[0].trim().toLowerCase()){case"group-id":u.id=g[1].trim().replace(/"/g,"");break;case"name":u.label=g[1].trim().replace(/"/g,"");break;case"language":u.language=g[1].trim().replace(/"/g,"");break;case"uri":u.url=g[1].trim()}}this._audioTracksInfo.push(u)}}for(var o in this._totalTracks){var f=this._totalTracks[o][0];f.id=++n,this._videoTracks.push(f)}},Ir.prototype.getFileExtension=function(e){if(!e)return"";var t=e.toLowerCase(),i=e.indexOf("?");0<=i&&(t=t.substring(0,i));var r=t.lastIndexOf(".");return t.substring(r,t.length)},Ir.prototype.setSource=function(e){this.ui.ready=!1,this._extension=this.getFileExtension(e),e&&this._xhr&&(".m3u8"===this._extension||".m3u"===this._extension)&&(this._xhr.open("GET",e),this._xhr.send());var t=e;this.ui.startPosition&&(t+="#t="+this.ui.startPosition),this.element.dom.src=t},Ir.prototype.play=function(){this.element.dom.play()},Ir.prototype.pause=function(){this.element.dom.pause()},Ir.prototype.stop=function(){this.pause()},Ir.prototype.seek=function(e){this.element.dom.currentTime+=e},Ir.prototype.seekTo=function(e){this.element.dom.currentTime=e},Ir.prototype.setVolume=function(e){this.element.dom.volume=e},Ir.prototype.setMute=function(e){this.element.dom.muted=e},Ir.prototype.setLoop=function(e){this.element.dom.loop=e},Ir.prototype.setOption=function(e,t){"autoplay"===e?t?this.element.dom.setAttribute("autoplay",""):this.element.dom.removeAttribute("autoplay"):this.element.dom.setAttribute(e,t)},Ir.prototype.setRect=function(e,t,i,r){},Ir.prototype.setVisibility=function(e){log("VISIBILITY LOGIC MISSING HERE, visible:",e)},Ir.prototype.setupDrm=function(e,t,i,r){log("Not implemented")},Ir.prototype.getAudioTracks=function(){return log("Not implemented"),[]},Ir.prototype.getVideoTracks=function(){return this._videoTracks||[]},Ir.prototype.getAudioTracks=function(){for(var e=this.element.dom.audioTracks,t=[],i=0;i<e.length;++i){var r=e[i],n=this._audioTracksInfo[i];t.push({id:i,name:r.label?r.label:n.name,language:r.language?r.language:n.language})}return log("getAudioTracks",t),t},Ir.prototype.setAudioTrack=function(e){var t=this.element.dom.audioTracks;if(e<0||e>=t.length)log("Where is no track",e);else{log("Set audio track",t[e]);for(var i=0;i<t.length;++i)t[i].enabled=i===e}},Ir.prototype.setVideoTrack=function(e){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(e<0||e>=this._videoTracks.length)log("Track with id",e,"not found");else{this.ui.waiting=!0;var t=this.ui.progress;log("Set video",this._videoTracks[e]),this.element.dom.src=this._videoTracks[e].url,this.seekTo(t)}},Ir.prototype.setVideoTrack=function(e){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(e<0||e>=this._videoTracks.length)log("Track with id",e,"not found");else{this.ui.waiting=!0;var t=this.ui.progress;log("Set video",this._videoTracks[e]),this.element.dom.src=this._videoTracks[e].url,this.seekTo(t)}},Ir.prototype.setBackgroundColor=function(e){var t=k.core.Color;this.element.dom.style.backgroundColor=new t(e).rgba()},$r.createPlayer=function(e){return new Ir(e)},$r.probeUrl=function(e){return 50},$r.Player=Ir,$r),k.web.device=((br={}).createDevice=function(e){return new Tr(e)},br.Device=Tr,br),k.controls.pure.format=((wr={currency:function(e,t,i){var r="\\d(?=(\\d{"+(i||3)+"})+"+(0<t?"\\.":"$")+")";return e.toFixed(Math.max(0,~~t)).replace(new RegExp(r,"g"),"$&,")}}).format=function(){var e=[].slice.call(arguments),t=e.shift();return e.reduce(function(e,t){return e.replace("%s",t)},t)},wr),e}(),l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-app",l10n:l10n,nativeContext:null});context.init(),context.start(new qml.src.UiApp(context)),context.run();
