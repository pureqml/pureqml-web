"use strict";var log=null,$manifest$author$email="poberyaa@gmail.com",$manifest$author$name="Alexey Pobery",$manifest$author$organization="pureqml",$manifest$author$site="https://pureqml.com/",$manifest$cssAutoClassificator=!1,$manifest$cssDisableTransformations=!1,$manifest$cssDisableTransitions=!1,$manifest$disableAnimations=!1,$manifest$expectRunContextEvent=!1,$manifest$html5$prefix="",$manifest$log$disable=!1,$manifest$style$font$family="Arial",$manifest$style$font$lineHeight=1.2,$manifest$style$font$pixelSize=16,$manifest$style$font$pointSize=0,$manifest$title="pureosd",$manifest$trace$focus=!1,$manifest$trace$keys=!1,$manifest$trace$listeners=!1,qml=function(){var e={},x=e;x.core||(x.core={});var b=x.core;x.web||(x.web={});x.web;x.controls||(x.controls={});x.controls;x.controls.core||(x.controls.core={});var n=x.controls.core;x.controls.pure||(x.controls.pure={});x.controls.pure;x.video||(x.video={});x.video;x.video.html5||(x.video.html5={});x.video.html5;x.html5||(x.html5={});var a=x.html5;x.src||(x.src={});var $=x.src;x.core.core=function(){var i=x;b.device=0,b.vendor="",b.__videoBackends={},"undefined"!=typeof navigator?(i.core.os=navigator.platform,i.core.userAgent=navigator.userAgent,i.core.language=navigator.language):(i.core.os="unknown",i.core.userAgent="Unknown");function e(e,t){i.core.userAgent.indexOf(e)<0||(i.core.vendor=t.vendor,i.core.device=t.device,i.core.os=t.os)}i.core.vendor||(e("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),e("Android",{vendor:"google",device:2,os:"android"}),e("iPhone",{vendor:"apple",device:2,os:"iOS"}),e("iPad",{vendor:"apple",device:2,os:"iOS"}),e("iPod",{vendor:"apple",device:2,os:"iOS"})),0<=i.core.userAgent.indexOf("Chromium")?i.core.browser="Chromium":0<=i.core.userAgent.indexOf("Chrome")?i.core.browser="Chrome":0<=i.core.userAgent.indexOf("Opera")?i.core.browser="Opera":0<=i.core.userAgent.indexOf("Firefox")?i.core.browser="Firefox":0<=i.core.userAgent.indexOf("Safari")?i.core.browser="Safari":0<=i.core.userAgent.indexOf("MSIE")?i.core.browser="IE":0<=i.core.userAgent.indexOf("YaBrowser")?i.core.browser="Yandex":i.core.browser="",x._backend=function(){return x.html5.html},x.core.__locationBackend=function(){return x.html5.location},x.core.__localStorageBackend=function(){return x.html5.localstorage},x.core.__videoBackends.html5=function(){return x.video.html5.backend},x.core.__deviceBackend=function(){return x.web.device},i.core.keyCodes={13:"Select",16:"Shift",17:"Ctrl",18:"LeftAlt",27:"Back",37:"Left",32:"Space",33:"PageUp",34:"PageDown",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"Red",113:"Green",114:"Yellow",115:"Blue",219:"Red",221:"Green",186:"Yellow",222:"Blue",230:"RightAlt",187:"VolumeUp",189:"VolumeDown",191:"Mute",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",107:"VolumeUp",109:"VolumeDown",111:"Mute"},i.closeApp=function(){window.close()},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function i(){return o.apply(this instanceof t&&e?this:e,r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),o=this;return t.prototype=this.prototype,i.prototype=new t,i},null===log&&(log=function(){for(var e="",t=0;t<arguments.length;++t)e+=arguments[t]+" ";console.log(e)})),null===log&&(log=console.log.bind(console));var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32","":"",transparent:"0000"};i.core.safeCall=function(t,i,r){return function(e){return function(e,t,i,r){try{return e.apply(t,i)}catch(e){r(e)}}(e,t,i,r)}},b.getKeyCodeByName=function(e){var t=b.keyCodes;for(var i in t)if(t[i]===e)return~~i};var t=b.CoreObject=function(e){this._local=Object.create(e?e._local:null)},r=t.prototype;r.componentName="core.CoreObject",r.constructor=t,r.$c=function(){},r.$s=function(){},r.__init=function(){var e={};this.$c(e),this.$s(e),this.completed()},r.__complete=function(){},r._get=function(e,t){if(e in this)return this[e];if(e in this._local)return this._local[e];if(t)return null;throw new Error("invalid property requested: '"+e+"'")};var l=b.Color=function(e){if(Array.isArray(e))return this.r=e[0],this.g=e[1],this.b=e[2],void(this.a=void 0!==e[3]?e[3]:255);if("string"!=typeof e)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+e,(new Error).stack);var t;if("#"===e[0])t=e.substring(1);else{if("rgba"===e.substring(0,4)){var i=e.indexOf("("),r=e.lastIndexOf(")");return e=e.substring(i+1,r).split(","),this.r=parseInt(e[0],10),this.g=parseInt(e[1],10),this.b=parseInt(e[2],10),void(this.a=Math.floor(255*parseFloat(e[3])))}t=c[e]}if(!t)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+e,(new Error).stack);var o=t.length;if(3===o||4===o){var n=parseInt(t[0],16),a=parseInt(t[1],16),s=(i=parseInt(t[2],16),4===o?parseInt(t[3],16):15);this.r=n<<4|n,this.g=a<<4|a,this.b=i<<4|i,this.a=s<<4|s}else{if(6!==o&&8!==o)throw new Error("invalid color specification: "+e);this.r=parseInt(t.substring(0,2),16),this.g=parseInt(t.substring(2,4),16),this.b=parseInt(t.substring(4,6),16),this.a=8===o?parseInt(t.substring(6,8),16):255}};l.interpolate=function(e,t,i){e instanceof l||(e=new l(e)),t instanceof l||(t=new l(t));function r(e,t,i){return Math.floor(i*(e-t)+t)}var o=r(e.r,t.r,i),n=r(e.g,t.g,i),a=r(e.b,t.b,i),s=r(e.a,t.a,i);return new l([o,n,a,s])},l.normalize=function(e){return e instanceof l?e.rgba():new l(e).rgba()};var o=l.prototype;o.constructor=b.Color,o.rgba=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"};function n(e){var t=e>>4&15,i=15&e;return t+=9<t?87:48,i+=9<i?87:48,String.fromCharCode(t,i)}o.hex=function(){return"#"+n(this.r)+n(this.g)+n(this.b)+n(this.a)},o.ahex=function(){return"#"+n(this.a)+n(this.r)+n(this.g)+n(this.b)},i.addLazyProperty=function(t,r,o){function i(e){var t=e.__properties,i=t[r];return void 0!==i?(void 0===i.value&&(i.value=o(e)),i):t[r]=new a(o(e))}Object.defineProperty(t,r,{get:function(){return i(this).value},set:function(e){if(!i(this).forwardSet(this,r,e,null))throw new Error("could not set lazy property "+r+" in "+t.componentName)},enumerable:!0})},i.addConstProperty=function(e,t,i){Object.defineProperty(e,t,{get:function(){return i.call(this)},set:function(e){throw new Error("could not set const property")},enumerable:!0})};var a=function(e){this.value=e,this.onChanged=[]},s=(i.PropertyStorage=a).prototype;s.getAnimation=function(e,t){var i=this.animation;return i&&i.enabled()&&!i._native&&i._context._completed?i:null},s.__removeUpdater=function(e){for(var t=this.deps,i=0,r=t.length;i<r;i+=2){var o=t[i],n=t[i+1];o.removeOnChanged(n,e)}},s.removeUpdater=function(){var e=this.callback;void 0!==e&&(this.__removeUpdater(e),this.deps=this.callback=void 0)},s.replaceUpdater=function(e,t,i){var r=this.callback;void 0!==r&&this.__removeUpdater(r),this.callback=t,this.deps=i;for(var o=e.connectOnChanged,n=0,a=i.length;n<a;n+=2){var s=i[n],c=i[n+1];o.call(e,s,c,t)}t()},s.forwardSet=function(r,o,e,t){var i=this.getCurrentValue(t);if(null!==i&&i instanceof Object){var n;if(void 0===(n=i.defaultProperty))return!1;var a=i[n];return e!==a&&(i[n]=e,this.callOnChanged(r,o,e,a)),!0}if(e instanceof Object)return void 0===(n=e.defaultProperty)||r.connectOnChanged(e,n,function(e,t){var i=r.__properties[o];void 0!==i&&i.callOnChanged(r,o,e,t)}),!1},s.discard=function(){},s.getSimpleValue=function(e){var t=this.value;return void 0!==t?t:e},s.getCurrentValue=function(e){var t=this.interpolatedValue;return void 0!==t?t:this.getSimpleValue(e)},s.setCurrentValue=function(e,t,i,r,o){var n=this.value;this.interpolatedValue=void 0,this.value=i,o&&this.callOnChanged(e,t,i,n)},s.set=function(e,t,i,r,o){var n=this.value;void 0===n&&(n=r),n!==i&&(this.forwardSet(e,t,i,r)||(this.value=i,o&&this.callOnChanged(e,t,i,n)))},s.callOnChanged=function(e,t,i){var r=e["__changed__"+t],o=this.onChanged,n=void 0!==r,a=void 0!==o;if(n||a){var s=b.safeCall(e,[i],function(e){log("on "+t+" changed callback failed: ",e,e.stack)});n&&r.forEach(s),a&&o.forEach(s)}},s.removeOnChanged=function(e){var t=this.onChanged,i=t.indexOf(e);if(0<=i)return t.splice(i,1)},i.addProperty=function(e,t,d,p){var u,i=!1;switch(t){case"enum":case"int":u=function(e){return~~e},i=!0;break;case"bool":u=function(e){return!!e};break;case"real":u=function(e){return+e},i=!0;break;case"string":u=function(e){return String(e)};break;case"Color":i=!0;default:u=function(e){return e}}if(void 0!==p)p=u(p);else switch(t){case"enum":case"int":p=0;break;case"bool":p=!1;break;case"real":p=0;break;case"string":p="";break;case"array":p=[];break;case"Color":p="#0000";break;default:p=t[0].toUpperCase()===t[0]?null:void 0}function g(e){var t=this.__properties,i=t[d];if(void 0===i){if(e===p)return;i=t[d]=new a(p)}return i}Object.defineProperty(e,d,{get:i?function(){var e=this.__properties[d];return void 0!==e?e.getCurrentValue(p):p}:function(){var e=this.__properties[d];return void 0!==e?e.getSimpleValue(p):p},set:i?function(e){e=u(e);var t=g.call(this,e);if(void 0!==t){var i=t.getAnimation();if(i&&t.value!==e){var r=this._context,o=r.backend;t.frameRequest&&o.cancelAnimationFrame(t.frameRequest),t.started=Date.now();var n=t.getCurrentValue(p),a=e,s=this,c=function(){o.cancelAnimationFrame(t.frameRequest),t.frameRequest=void 0,i.complete=function(){},t.interpolatedValue=void 0,t.started=void 0,i.running=!1,t.callOnChanged(s,d,a,n)},l=i.duration,h=r.wrapNativeCallback(function(){var e=1*(Date.now()-t.started)/l;1<=e||!i.active()?c():(t.interpolatedValue=u(i.interpolate(a,n,e)),t.callOnChanged(s,d,t.getCurrentValue(p),n),t.frameRequest=o.requestAnimationFrame(h))});t.frameRequest=o.requestAnimationFrame(h),i.running=!0,i.complete=c}t.set(this,d,e,p,!i)}}:function(e){e=u(e);var t=g.call(this,e);void 0!==t&&t.set(this,d,e,p,!0)},enumerable:!0})},i.addAliasProperty=function(i,r,e,t){var o=e();i.connectOnChanged(o,t,function(e){var t=i.__properties[r];void 0!==t&&t.callOnChanged(i,r,e)}),Object.defineProperty(i,r,{get:function(){return o[t]},set:function(e){o[t]=e},enumerable:!0})},b.createSignal=function(e){return function(){this.emitWithArgs(e,arguments)}},b.createSignalForwarder=function(e,t){return function(){e.emitWithArgs(t,arguments)}},b.EventBinder=function(e){this.target=e,this.callbacks={},this.enabled=!1},b.EventBinder.prototype.on=function(e,t){if(e in this.callbacks)throw new Error("double adding of event ("+e+")");this.callbacks[e]=t,this.enabled&&this.target.on(e,t)},b.EventBinder.prototype.constructor=b.EventBinder,b.EventBinder.prototype.enable=function(e){if(e!=this.enabled){var t=this.target;if(this.enabled=e)for(var i in this.callbacks)t.on(i,this.callbacks[i]);else for(var i in this.callbacks)t.removeListener(i,this.callbacks[i])}};function h(e,t,i,r){var o=e+"__"+i,n=t[o];if(void 0!==n)if(t.hasOwnProperty(o))n.push(r);else{var a=n.slice();a.push(r),t[o]=a}else t[o]=[r]}b._protoOn=function(e,t,i){h("__on",e,t,i)},b._protoOnChanged=function(e,t,i){h("__changed",e,t,i)},b._protoOnKey=function(e,t,i){h("__key",e,t,i)};function d(e){this._callback=e,this._queue=[],this.history=[]}var p=d.prototype;return p.constructor=d,p.unshift=function(){var e=this._queue;e.unshift.apply(e,arguments)},p.push=function(){var e=this._queue;e.push.apply(e,arguments)},p.enumerate=function(e,t){var i=[this,t],r=this._queue;for(r.unshift(e);r.length;){var o=r.shift();if(this.history.push(o),this._callback.apply(o,i))break}},i.forEach=function(e,t,i){return new d(t).enumerate(e,i),i},i}();var s=x.core.core,i=b.CoreObject,t=i.prototype,r=b.EventEmitter=function(e,t){i.apply(this,arguments),this._eventHandlers={},this._onConnections=[]},o=r.prototype=Object.create(t);o.constructor=r,o.componentName="core.EventEmitter",o.discard=function(){for(var e in this._eventHandlers)this.removeAllListeners(e);for(var t=this._onConnections,i=0,r=t.length;i<r;i+=3)t[i].removeListener(t[i+1],t[i+2]);this._onConnections=[]},o.removeAllListeners=function(e){delete this._eventHandlers[e]},o.emit=function(t){if(""===t)throw new Error("empty listener name");var e=this["__on__"+t],i=this._eventHandlers[t];if(void 0!==e||void 0!==i){for(var r=arguments.length,o=new Array(r-1),n=0,a=1;a<r;)o[n++]=arguments[a++];var s=b.safeCall(this,o,function(e){log("event/signal "+t+" handler failed:",e,e.stack)});void 0!==e&&e.forEach(s),void 0!==i&&i.forEach(s)}},o.emitWithArgs=function(t,e){if(""===t)throw new Error("empty listener name");var i=this["__on__"+t],r=this._eventHandlers[t];if(void 0!==i||void 0!==r){var o=b.safeCall(this,e,function(e){log("event/signal "+t+" handler failed:",e,e.stack)});void 0!==i&&i.forEach(o),void 0!==r&&r.forEach(o)}},o.removeListener=function(e,t){if(e in this._eventHandlers&&null!=t&&""!==e){var i=this._eventHandlers[e],r=i.indexOf(t);0<=r?i.splice(r,1):$manifest$trace$listeners&&log("failed to remove listener for",e,"from",this),i.length||this.removeAllListeners(e)}else $manifest$trace$listeners&&log("invalid removeListener("+e+", "+t+") invocation",(new Error).stack)},o.on=function(e,t){if(""===e)throw new Error("empty listener name");var i=this._eventHandlers,r=i[e];void 0!==r?r.push(t):i[e]=[t]},o.connectOn=function(e,t,i){e.on(t,i),this._onConnections.push(e,t,i)},o.$c=function(e){t.$c.call(this,e.$b={})},o.$s=function(e){t.$s.call(this,e.$b),delete e.$b,this.completed()};var c=b.EventEmitter,l=c.prototype,h=b.Object=function(e,t){c.apply(this,arguments),this.parent=e,this.children=[],this.__properties={},this.__attachedObjects=[],e&&e.__attachedObjects.push(this);this._context=e?e._context:null;if(t){var i=this._local;i.model=t,i._delegate=this}this._changedConnections=[],this._properties={}},d=h.prototype=Object.create(l);d._propertyToStyle={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"},d.constructor=h,d.componentName="core.Object",d.completed=function(){this.__complete!==b.CoreObject.prototype.__complete&&this._registerDelayedAction("complete")&&this._context.__onCompleted(this)},d.discard=function(){for(var e=this._changedConnections,t=0,i=e.length;t<i;t+=3)e[t].removeOnChanged(e[t+1],e[t+2]);this._changedConnections=[];var r=this.__attachedObjects;this.__attachedObjects=[],r.forEach(function(e){e.discard()});var o=this.parent;if(o){var n=o.__attachedObjects.indexOf(this);0<=n&&o.__attachedObjects.splice(n,1)}this.children=[],this.parent=null,this._local={};var a=this.__properties;for(var s in a)a[s].discard();this._properties={},b.EventEmitter.prototype.discard.apply(this)},d.getComponentPath=function(){for(var e=[],t=this;t;){var i=t.componentName;if(t.parent){var r=t.parent.children.indexOf(t);0<=r&&(i+="@"+r)}e.unshift(i),t=t.parent}return e.join(" → ")},d._tryFocus=function(){return!1},d.addChild=function(e){this.children.push(e)},d._cancelDelayedAction=function(e){this._registeredDelayedActions[e]=!1},d._setId=function(e){for(var t=this;t;)t._local[e]=this,t=t.parent},d._registerDelayedAction=function(e){var t=this._registeredDelayedActions;return void 0===t&&(t=this._registeredDelayedActions={}),!0!==t[e]&&(t[e]=!0)},d.resetAnimation=function(e){var t=this.__properties[e];if(void 0!==t&&t.animation){var i=t.animation;i.disable();var r=i.target;i.target=r,t.animation=null,i.enable(),i.target=r}},d._removeUpdater=function(e){var t=this.__properties[e];void 0!==t&&t.removeUpdater()},d.updateAnimation=function(e,t){this._context.backend.setAnimation(this,e,t)},d.setAnimation=function(e,t){this._get("context",!0);if(!$manifest$disableAnimations){if(null===t)return this.resetAnimation(e);var i=this._context.backend;"contentX"!==e&&"contentY"!==e||log("WARNING: you're trying to animate contentX/contentY property, this will always use animation frames, ignoring CSS transitions, please use content.x/content.y instead"),t.target=this,t.property=e,this._createPropertyStorage(e).animation=t,i.setAnimation(this,e,t)&&(t._native=!0)}},d.removeOnChanged=function(e,t){var i,r=this.__properties[e];void 0!==r&&(i=r.removeOnChanged(t)),$manifest$trace$listeners&&!i&&log("failed to remove changed listener for",e,"from",this)},d.onChanged=function(e,t){this._createPropertyStorage(e).onChanged.push(t)},d._replaceUpdater=function(e,t,i){this._createPropertyStorage(e).replaceUpdater(this,t,i)},d._setProperty=function(e,t){var i=this._createPropertyStorage(e,t),r=i.animation;void 0!==r&&r.disable(),i.setCurrentValue(this,null,t),void 0!==r&&r.enable()},d._createPropertyStorage=function(e,t){var i=this.__properties[e];return void 0!==i?i:this.__properties[e]=new b.core.PropertyStorage(t)},d.connectOnChanged=function(e,t,i){e.onChanged(t,i),this._changedConnections.push(e,t,i)},d.$c=function(e){l.$c.call(this,e.$b={})},d.$s=function(e){l.$s.call(this,e.$b),delete e.$b,this.completed()};var p=b.Object,u=p.prototype,g=b.System=function(e,t){p.apply(this,arguments),this.vendor=b.vendor,this.device=b.device,this.os=b.os,this.browser=b.browser,this.userAgent=b.userAgent,this.language=b.language;var i=this._context;i.language=this.language.replace("-","_"),this.webkit=0<=this.userAgent.toLowerCase().indexOf("webkit"),this.support3dTransforms=i.backend.capabilities.csstransforms3d||!1,this.supportTransforms=i.backend.capabilities.csstransforms||!1,this.supportTransitions=i.backend.capabilities.csstransitions||!1},f=g.prototype=Object.create(u);f.constructor=g,f.componentName="core.System",s.addProperty(f,"string","userAgent"),s.addProperty(f,"string","language"),s.addProperty(f,"string","browser"),s.addProperty(f,"string","vendor"),s.addProperty(f,"string","os"),s.addProperty(f,"bool","webkit"),s.addProperty(f,"bool","support3dTransforms"),s.addProperty(f,"bool","supportTransforms"),s.addProperty(f,"bool","supportTransitions"),s.addProperty(f,"bool","portrait"),s.addProperty(f,"bool","landscape"),s.addProperty(f,"bool","pageActive",!0),s.addProperty(f,"int","screenWidth"),s.addProperty(f,"int","screenHeight"),s.addProperty(f,"int","contextWidth"),s.addProperty(f,"int","contextHeight"),f.Desktop=0,g.Desktop=0,f.Tv=1,g.Tv=1,f.Mobile=2,g.Mobile=2,s.addProperty(f,"enum","device"),f.MobileS=0,g.MobileS=0,f.MobileM=1,g.MobileM=1,f.MobileL=2,g.MobileL=2,f.Tablet=3,g.Tablet=3,f.Laptop=4,g.Laptop=4,f.LaptopL=5,g.LaptopL=5,f.Laptop4K=6,g.Laptop4K=6,s.addProperty(f,"enum","layoutType"),f._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var e=this.contextWidth;e<=320?this.layoutType=this.MobileS:e<=375?this.layoutType=this.MobileM:e<=425?this.layoutType=this.MobileL:e<=768?this.layoutType=this.Tablet:this.contextWidth<=1024?this.layoutType=this.Laptop:this.contextWidth<=1440?this.layoutType=this.LaptopL:this.layoutType=this.Laptop4K}};var _=function(e){this._updateLayoutType()};b._protoOnChanged(f,"contextHeight",_),b._protoOnChanged(f,"contextWidth",_),f.$c=function(e){u.$c.call(this,e.$b={})},f.$s=function(e){var t=this;u.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("portrait",function(){t.portrait=t.parent.width<t.parent.height},[t.parent,"height",t.parent,"width"]),t._replaceUpdater("contextWidth",function(){t.contextWidth=t._context.width},[t._context,"width"]),t._replaceUpdater("landscape",function(){t.landscape=!t.portrait},[t,"portrait"]),t._replaceUpdater("contextHeight",function(){t.contextHeight=t._context.height},[t._context,"height"]),t.completed()};var m=b.Object,v=m.prototype,y=b.Item=function(e,t){if(m.apply(this,arguments),this._pressedHandlers={},this._topPadding=0,this._borderXAdjust=0,this._borderYAdjust=0,this._borderWidthAdjust=0,this._borderHeightAdjust=0,e){if(this.element)throw new Error("double ctor call");this._createElement(this.getTag(),this.getClass())}},w=y.prototype=Object.create(v);w.constructor=y,w.componentName="core.Item",w.anchorsMarginsUpdated=b.createSignal("anchorsMarginsUpdated"),w.newBoundingBox=b.createSignal("newBoundingBox"),s.addProperty(w,"int","x"),s.addProperty(w,"int","y"),s.addProperty(w,"int","z"),s.addProperty(w,"int","width"),s.addProperty(w,"int","height"),s.addProperty(w,"bool","clip"),s.addLazyProperty(w,"radius",function(e,t){var i,r={lazy$radius:i=new b.Radius(e,t)};return i.$c(r.$c$lazy$radius={}),(i=r.lazy$radius).$s(r.$c$lazy$radius),delete r.$c$lazy$radius,i.completed(),i}),s.addProperty(w,"bool","focus"),s.addProperty(w,"bool","focused"),s.addProperty(w,"bool","activeFocus"),s.addProperty(w,"Item","focusedChild"),s.addProperty(w,"bool","visible",!0),s.addProperty(w,"bool","visibleInView",!0),s.addProperty(w,"bool","recursiveVisible",!1),s.addProperty(w,"real","opacity",1),s.addLazyProperty(w,"anchors",function(e,t){var i,r={lazy$anchors:i=new b.Anchors(e,t)};return i.$c(r.$c$lazy$anchors={}),(i=r.lazy$anchors).$s(r.$c$lazy$anchors),delete r.$c$lazy$anchors,i.completed(),i}),s.addLazyProperty(w,"effects",function(e,t){var i,r={lazy$effects:i=new b.Effects(e,t)};return i.$c(r.$c$lazy$effects={}),(i=r.lazy$effects).$s(r.$c$lazy$effects),delete r.$c$lazy$effects,i.completed(),i}),s.addLazyProperty(w,"transform",function(e,t){var i,r={lazy$transform:i=new b.Transform(e,t)};return i.$c(r.$c$lazy$transform={}),(i=r.lazy$transform).$s(r.$c$lazy$transform),delete r.$c$lazy$transform,i.completed(),i}),s.addProperty(w,"bool","cssTranslatePositioning"),s.addProperty(w,"bool","cssNullTranslate3D"),s.addProperty(w,"bool","cssDelegateAlwaysVisibleOnAcceleratedSurfaces",!0),s.addConstProperty(w,"left",function(){return[this,0]}),s.addConstProperty(w,"top",function(){return[this,1]}),s.addConstProperty(w,"right",function(){return[this,2]}),s.addConstProperty(w,"bottom",function(){return[this,3]}),s.addConstProperty(w,"horizontalCenter",function(){return[this,4]}),s.addConstProperty(w,"verticalCenter",function(){return[this,5]}),s.addProperty(w,"int","viewX"),s.addProperty(w,"int","viewY"),s.addProperty(w,"int","keyProcessDelay"),w.discard=function(){b.Object.prototype.discard.apply(this),this.focusedChild=null,this._pressedHandlers={},this.element&&this.element.discard()},w._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var e=this.children,t=0;t<e.length;++t){var i=e[t];if(i._tryFocus())return this._focusChild(i),!0}return this.focus},w.setFocus=function(){this.forceActiveFocus()},w._updateStyle=function(){var e=this.element;e&&e.updateStyle()},w.toScreen=function(){for(var e=this,t=0,i=0,r=this.width,o=this.height;e;){if(t+=e.x+e.viewX,i+=e.y+e.viewY,e.hasOwnProperty("view")){var n=e.view.content;t+=n.x,i+=n.y}e=e.parent}return[t,i,t+r,i+o,t+r/2,i+o/2]},w.hasActiveFocus=function(){for(var e=this;e.parent;){if(e.parent.focusedChild!=e)return!1;e=e.parent}return!0},w.forceActiveFocus=function(){for(var e=this;e.parent;)e.parent._focusChild(e),e=e.parent;this._tryFocus()&&this._propagateFocusToParents()},w._propagateFocusToParents=function(){for(var e=this;e.parent&&(!e.parent.focusedChild||!e.parent.focusedChild.visible);)e.parent._focusChild(e),e=e.parent},w._updateVisibility=function(){var e=this.visible&&this.visibleInView,t=!0,i=this.view;if(void 0!==i){var r=i.content;r.cssDelegateAlwaysVisibleOnAcceleratedSurfaces&&(r.cssTranslatePositioning||r.cssNullTranslate3D)&&!$manifest$cssDisableTransformations&&(t=!1)}t&&this.style("visibility",e?"inherit":"hidden"),this.recursiveVisible=e&&(null===this.parent||this.parent.recursiveVisible)},w._setSizeAdjust=function(){var e=this.x+this.viewX+this._borderXAdjust,t=this.y+this.viewY+this._borderYAdjust;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?(this.transform.translateX=e,this.transform.translateY=t):(this.style("left",e),this.style("top",t))},w.getClass=function(){return""},w.getTag=function(){return"div"},w._focusTree=function(e){this.activeFocus=e,this.focusedChild&&this.focusedChild._focusTree(e)},w.addChild=function(e){b.Object.prototype.addChild.apply(this,arguments),e._tryFocus()&&e._propagateFocusToParents()},w._focusChild=function(e){if(e.parent!==this)throw new Error("invalid object passed as child");this.focusedChild!==e&&(this.focusedChild&&(this.focusedChild._focusTree(!1),this.focusedChild.focused=!1),this.focusedChild=e,this.focusedChild&&(this.focusedChild._focusTree(this.hasActiveFocus()),this.focusedChild.focused=!0))},w.focusChild=function(e){this._propagateFocusToParents(),this._focusChild(e)},w._updateVisibilityForChild=function(e,t){e.recursiveVisible=t&&e.visible&&e.visibleInView},w._attachElement=function(e){this.element&&this.element.discard(),(e._item=this).element=e;var t=this.parent;t&&t.element.append(e)},w._processKey=function(e){var t=this._get("key",!0),i=e.which||e.keyCode,r=(t=b.keyCodes[i],e.timeStamp);if(void 0!==t){if(this.keyProcessDelay){if(this._lastEvent&&r>this._lastEvent&&r-this._lastEvent<this.keyProcessDelay)return!0;this._lastEvent=r}var o=b.safeCall(this,[t,e],function(e){log("on "+t+" handler failed:",e,e.stack)}),n=this["__key__"+t];if(t in this._pressedHandlers)return this.invokeKeyHandlers(t,e,this._pressedHandlers[t],o);if(n)return this.invokeKeyHandlers(t,e,n,o);n=this.__key__Key;if("Key"in this._pressedHandlers)return this.invokeKeyHandlers(t,e,this._pressedHandlers.Key,o);if(n)return this.invokeKeyHandlers(t,e,n,o)}else log("unknown keycode "+i+": ["+e.charCode+" "+e.keyCode+" "+e.which+" "+e.key+" "+e.code+" "+e.location+"]");return!1},w.invokeKeyHandlers=function(e,t,i,r){for(var o=i.length-1;0<=o;--o){if(r(i[o]))return $manifest$trace$keys&&log("key "+e+" handled in "+(performance.now()-t.timeStamp).toFixed(3)+" ms by",this,(new Error).stack),!0}return!1},w.onPressed=function(e,i){var t;this._get("key",!0);t="Key"!=e?function(e,t){return t.accepted=!0,i(e,t),t.accepted}:i,e in this._pressedHandlers?this._pressedHandlers[e].push(t):this._pressedHandlers[e]=[t]},w.style=function(e,t){var i=this.element;if(i)return i.style(e,t);log("WARNING: style skipped:",e,t)},w._enqueueNextChildInFocusChain=function(e,t){this._tryFocus();var i=this.focusedChild;i&&i.visible&&(e.unshift(i),t.unshift(i))},w.registerStyle=function(e,t){var i="position: absolute; visibility: inherit; opacity: 1.0;";i+="border-style: solid; border-width: 0px; border-radius: 0px; box-sizing: border-box; border-color: rgba(0,0,0,1);",i+="white-space: nowrap; transform: none;",i+="left: 0px; top: 0px; width: 0px; height: 0px;",i+="font-family: "+$manifest$style$font$family+"; line-height: "+$manifest$style$font$lineHeight+"; ",$manifest$style$font$pixelSize?i+="font-size: "+$manifest$style$font$pixelSize+"px; ":$manifest$style$font$pointSize&&(i+="font-size: "+$manifest$style$font$pointSize+"pt; "),e.addRule(t,i)},w._createElement=function(e,t){var i=this._get("context",!0);null===(i=this._context)&&(i=this),i.registerStyle(this,e,t),this._attachElement(i.createElement(e,t))},b._protoOnChanged(w,"cssNullTranslate3D",function(e){$manifest$cssDisableTransformations||this.style("transform",e?"translateZ(0)":"")}),b._protoOnChanged(w,"focus",function(e){this.parent&&this.parent._tryFocus()}),b._protoOnChanged(w,"recursiveVisible",function(e){for(var t=this.children,i=0,r=t.length;i<r;++i){var o=t[i];this._updateVisibilityForChild(o,e)}!e&&this.parent&&this.parent._tryFocus()});_=function(e){var t=this.x+this.viewX;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateX=t:this.style("left",t),this.newBoundingBox()};b._protoOnChanged(w,"x",_),b._protoOnChanged(w,"viewX",_);var C=function(e){var t=this.y+this.viewY;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateY=t:this.style("top",t),this.newBoundingBox()};b._protoOnChanged(w,"viewY",C),b._protoOnChanged(w,"y",C),b._protoOnChanged(w,"opacity",function(e){this.element&&this.style("opacity",e)});function k(e){this._updateVisibility()}b._protoOnChanged(w,"visible",k),b._protoOnChanged(w,"visibleInView",k),b._protoOnChanged(w,"height",function(e){this.style("height",e-this._topPadding+this._borderHeightAdjust),this.newBoundingBox()}),b._protoOnChanged(w,"clip",function(e){this.style("overflow",e?"hidden":"visible")}),b._protoOnChanged(w,"width",function(e){this.style("width",e+this._borderWidthAdjust),this.newBoundingBox()}),b._protoOnChanged(w,"z",function(e){this.style("z-index",e)}),w.$c=function(e){v.$c.call(this,e.$b={})},w.$s=function(e){v.$s.call(this,e.$b),delete e.$b,this.completed()};var A=b.Item,P=A.prototype,I=b.BaseLayout=function(e,t){A.apply(this,arguments),this.count=0},T=I.prototype=Object.create(P);T.constructor=I,T.componentName="core.BaseLayout",s.addProperty(T,"int","count"),s.addProperty(T,"bool","trace"),s.addProperty(T,"int","spacing"),s.addProperty(T,"int","currentIndex"),s.addProperty(T,"int","contentWidth"),s.addProperty(T,"int","contentHeight"),s.addProperty(T,"bool","keyNavigationWraps"),s.addProperty(T,"bool","handleNavigationKeys"),s.addProperty(T,"int","layoutDelay"),s.addProperty(T,"int","prerenderDelay"),s.addProperty(T,"bool","offlineLayout"),T._scheduleLayout=function(){(this.recursiveVisible||this.offlineLayout)&&(0<=this.prerenderDelay?(this._context.delayedAction("layout",this,this._doLayoutNP,this.layoutDelay),this._context.delayedAction("prerender",this,this._doLayout,this.prerenderDelay)):this._context.delayedAction("layout",this,this._doLayout,this.layoutDelay))},T._doLayout=function(){this._attach(),this._processUpdates(),this._layout()},T._doLayoutNP=function(){this._attach(),this._processUpdates(),this._layout(!0)},T.__complete=function(){P.__complete.call(this),this._scheduleLayout()};_=function(){};T._attach=_,T._processUpdates=_;C=function(e){this._scheduleLayout()};b._protoOnChanged(T,"recursiveVisible",C),b._protoOnChanged(T,"spacing",C),T.$c=function(e){P.$c.call(this,e.$b={})},T.$s=function(e){var t=this;P.$s.call(this,e.$b),delete e.$b,t._removeUpdater("layoutDelay"),t.layoutDelay=-1,t._removeUpdater("prerenderDelay"),t.prerenderDelay=-1,t.completed()};var S=b.BaseLayout,O=S.prototype,U=b.Layout=function(e,t){S.apply(this,arguments)},M=U.prototype=Object.create(O);M.constructor=U,M.componentName="core.Layout",M.focusNextChild=function(){var e=0,t=this.children;this.focusedChild&&(e=t.indexOf(this.focusedChild));for(var i=e+1;i<t.length;++i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;if(!this.keyNavigationWraps)return!1;for(i=0;i<=e;++i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;return!1},M.focusPrevChild=function(){var e=0,t=this.children;this.focusedChild&&(e=t.indexOf(this.focusedChild));for(var i=e-1;0<=i;--i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;if(!this.keyNavigationWraps)return!1;for(i=t.length-1;e<=i;--i)if(t[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;return!1},b._protoOnChanged(M,"currentIndex",function(e){0<=e&&e<this.children.length&&this.focusChild(this.children[e])}),M.$c=function(e){O.$c.call(this,e.$b={})},M.$s=function(e){var t=this;O.$s.call(this,e.$b),delete e.$b,t._removeUpdater("keyNavigationWraps"),t.keyNavigationWraps=!0,t._replaceUpdater("width",function(){t.width=t.contentWidth},[t,"contentWidth"]),t._removeUpdater("handleNavigationKeys"),t.handleNavigationKeys=!0,t._replaceUpdater("height",function(){t.height=t.contentHeight},[t,"contentHeight"]),t.completed()};var L=b.Layout,E=L.prototype,z=b.Column=function(e,t){L.apply(this,arguments)},D=z.prototype=Object.create(E);D.constructor=z,D.componentName="core.Column",D._layout=function(){if(this.recursiveVisible||this.offlineLayout){var e=this.children,t=0,i=0;this.count=e.length;for(var r=0;r<e.length;++r){var o=e[r];if("height"in o){var n=o.anchors.topMargin||o.anchors.margins,a=o.anchors.bottomMargin||o.anchors.margins,s=o.x+o.width;i<s&&(i=s),o.viewY=t+n,o.recursiveVisible&&(t+=o.height+n+a+this.spacing)}}0<t&&(t-=this.spacing),this.contentWidth=i,this.contentHeight=t}},D.addChild=function(e){b.Item.prototype.addChild.apply(this,arguments),"height"in e&&(e.onChanged("height",this._scheduleLayout.bind(this)),e.onChanged("recursiveVisible",this._scheduleLayout.bind(this)),e.on("anchorsMarginsUpdated",this._scheduleLayout.bind(this)))},b._protoOnKey(D,"Key",function(e,t){if(!this.handleNavigationKeys)return!1;switch(e){case"Up":return this.focusPrevChild();case"Down":return this.focusNextChild()}}),D.$c=function(e){E.$c.call(this,e.$b={})},D.$s=function(e){E.$s.call(this,e.$b),delete e.$b,this.completed()};var R=b.Object,B=R.prototype,F=b.Shadow=function(e,t){R.apply(this,arguments)},W=F.prototype=Object.create(B);W.constructor=F,W.componentName="core.Shadow",s.addProperty(W,"real","x"),s.addProperty(W,"real","y"),s.addProperty(W,"Color","color","black"),s.addProperty(W,"real","blur"),s.addProperty(W,"real","spread"),W._empty=function(){return!(this.x||this.y||this.blur||this.spread)},W._getFilterStyle=function(){var e=this.x+"px "+this.y+"px "+this.blur+"px ";return 0<this.spread&&(e+=this.spread+"px "),e+=b.Color.normalize(this.color)};_=function(e){this.parent._updateStyle(!0)};b._protoOnChanged(W,"x",_),b._protoOnChanged(W,"spread",_),b._protoOnChanged(W,"y",_),b._protoOnChanged(W,"blur",_),b._protoOnChanged(W,"color",_),W.$c=function(e){B.$c.call(this,e.$b={})},W.$s=function(e){B.$s.call(this,e.$b),delete e.$b,this.completed()};var N=b.Layout,H=N.prototype,j=b.Row=function(e,t){N.apply(this,arguments)},V=j.prototype=Object.create(H);V.constructor=j,V.componentName="core.Row",V._layout=function(){if(this.recursiveVisible||this.offlineLayout){var e=this.children,t=0,i=0;this.count=e.length;for(var r=0;r<e.length;++r){var o=e[r];if("height"in o){var n=o.anchors.rightMargin||o.anchors.margins,a=o.anchors.leftMargin||o.anchors.margins,s=o.y+o.height;i<s&&(i=s),o.viewX=t+n,o.recursiveVisible&&(t+=o.width+this.spacing+n+a)}}0<t&&(t-=this.spacing),this.contentWidth=t,this.contentHeight=i}},V.addChild=function(e){b.Item.prototype.addChild.apply(this,arguments),"width"in e&&(e.onChanged("recursiveVisible",this._scheduleLayout.bind(this)),e.onChanged("width",this._scheduleLayout.bind(this)),e.on("anchorsMarginsUpdated",this._scheduleLayout.bind(this)))},b._protoOnKey(V,"Key",function(e,t){if(!this.handleNavigationKeys)return!1;switch(e){case"Left":return this.focusPrevChild();case"Right":return this.focusNextChild()}}),V.$c=function(e){H.$c.call(this,e.$b={})},V.$s=function(e){H.$s.call(this,e.$b),delete e.$b,this.completed()};var Y=b.Item,X=Y.prototype,G=b.BaseViewContent=function(e,t){Y.apply(this,arguments),this.style("will-change","scroll-position, transform, left, top")},q=G.prototype=Object.create(X);q.constructor=G,q.componentName="core.BaseViewContent",q._updateScrollPositions=function(e,t,i){this._setProperty("x",-e),this._setProperty("y",-t),void 0!==i&&!i||this.parent._scheduleLayout()};_=function(e){this.parent._scheduleLayout()};b._protoOnChanged(q,"x",_),b._protoOnChanged(q,"y",_),q.$c=function(e){X.$c.call(this,e.$b={})},q.$s=function(e){X.$s.call(this,e.$b),delete e.$b,this.completed()};var K=b.Item,J=K.prototype,Z=b.Image=function(e,t){K.apply(this,arguments),this._context.backend.initImage(this),this._scheduleLoad()},Q=Z.prototype=Object.create(J);Q.constructor=Z,Q.componentName="core.Image",s.addProperty(Q,"int","paintedWidth"),s.addProperty(Q,"int","paintedHeight"),s.addProperty(Q,"int","sourceWidth"),s.addProperty(Q,"int","sourceHeight"),s.addProperty(Q,"string","source"),s.addProperty(Q,"bool","smooth",!0),s.addProperty(Q,"bool","preload",!1),Q.Null=0,Z.Null=0,Q.Ready=1,Z.Ready=1,Q.Loading=2,Z.Loading=2,Q.Error=3,Z.Error=3,s.addProperty(Q,"enum","status"),Q.AlignHCenter=0,Z.AlignHCenter=0,Q.AlignLeft=1,Z.AlignLeft=1,Q.AlignRight=2,Z.AlignRight=2,s.addProperty(Q,"enum","horizontalAlignment"),Q.Stretch=0,Z.Stretch=0,Q.PreserveAspectFit=1,Z.PreserveAspectFit=1,Q.PreserveAspectCrop=2,Z.PreserveAspectCrop=2,Q.Tile=3,Z.Tile=3,Q.TileVertically=4,Z.TileVertically=4,Q.TileHorizontally=5,Z.TileHorizontally=5,Q.Pad=6,Z.Pad=6,s.addProperty(Q,"enum","fillMode"),Q.AlignVCenter=0,Z.AlignVCenter=0,Q.AlignTop=1,Z.AlignTop=1,Q.AlignBottom=2,Z.AlignBottom=2,s.addProperty(Q,"enum","verticalAlignment"),Q._scheduleLoad=function(){(this.preload||this.recursiveVisible)&&this._context.delayedAction("image.load",this,this._load)},Q._load=function(){this.status!==this.Ready&&(this.preload||this.recursiveVisible)&&this.source&&(this.status=this.Loading,this._context.backend.loadImage(this))},Q._onError=function(){this.status=this.Error},Q.getClass=function(){return"core-image"};_=function(e){this._scheduleLoad()};b._protoOnChanged(Q,"width",_),b._protoOnChanged(Q,"preload",_),b._protoOnChanged(Q,"height",_),b._protoOnChanged(Q,"recursiveVisible",_),b._protoOnChanged(Q,"fillMode",_),b._protoOnChanged(Q,"source",function(e){this.status=this.Null,this._scheduleLoad()}),Q.$c=function(e){J.$c.call(this,e.$b={})},Q.$s=function(e){var t=this;J.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t.sourceWidth},[t,"sourceWidth"]),t._replaceUpdater("height",function(){t.height=t.sourceHeight},[t,"sourceHeight"]),t.completed()};var ee=b.Image,te=ee.prototype,ie=$.BackgroundPreview=function(e,t){ee.apply(this,arguments)},re=ie.prototype=Object.create(te);re.constructor=ie,re.componentName="src.BackgroundPreview",s.addProperty(re,"string","preview",""),re.setPreview=function(e){var t=this._get("updatePreviewTimer",!0);this.preview=e,t.restart()},re.$c=function(e){var t=this;te.$c.call(this,e.$b={});var i=new b.Rectangle(t);(e._this$child0=i).$c(e.$c$_this$child0={}),t.addChild(i);var r=new b.Timer(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("updatePreviewTimer"),t.addChild(r),t._setId("backgroundPreviewProto")},re.$s=function(e){var t=this;te.$s.call(this,e.$b),delete e.$b,t._removeUpdater("fillMode"),t.fillMode=x.core.Image.prototype.PreserveAspectCrop,t._removeUpdater("focus"),t.focus=!1,t.anchors._removeUpdater("fill"),t.anchors.fill=t.parent;var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._removeUpdater("color"),i.color="#0009",i.anchors._removeUpdater("fill"),i.anchors.fill=i.parent,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r._removeUpdater("interval"),r.interval=1e3,r.on("triggered",function(){var e=this._get("backgroundPreviewProto",!0);e.source=e.preview}.bind(r)),r.completed();var o,n={behavior__this_on_backgroundImage:o=new b.Animation(t)};o.$c(n.$c$behavior__this_on_backgroundImage={}),(o=n.behavior__this_on_backgroundImage).$s(n.$c$behavior__this_on_backgroundImage),delete n.$c$behavior__this_on_backgroundImage,o._removeUpdater("duration"),o.duration=300,o.completed(),t.setAnimation("backgroundImage",o),t.completed()};var oe=b.Item,ne=oe.prototype,ae=$.MediaDelegate=function(e,t){oe.apply(this,arguments)},se=ae.prototype=Object.create(ne);se.constructor=ae,se.componentName="src.MediaDelegate",se.$c=function(e){var t=this;ne.$c.call(this,e.$b={});var i=new b.Rectangle(t);(e._this$child0=i).$c(e.$c$_this$child0={}),t.addChild(i);var r=new b.Image(t);(e._this$child1=r).$c(e.$c$_this$child1={}),s.addProperty(r,"int","defaultWidth"),s.addProperty(r,"int","defaultHeight"),r._setId("iconImage"),t.addChild(r);var o=new b.Rectangle(t);(e._this$child2=o).$c(e.$c$_this$child2={}),t.addChild(o);var n=new b.Rectangle(t);(e._this$child3=n).$c(e.$c$_this$child3={});var a=new $.TinyText(n);(e._this_child3$child0=a).$c(e.$c$_this_child3$child0={}),s.addProperty(a,"bool","overriden"),a._setId("mediTitle"),n.addChild(a),t.addChild(n),t._setId("mediaDelegateProto")},se.$s=function(e){var t=this;ne.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t._get("iconImage").defaultWidth+20},[t._get("iconImage"),"defaultWidth"]),t.transform._replaceUpdater("scaleY",function(){t.transform.scaleY=t.activeFocus?1.075:1},[t,"activeFocus"]),t.transform._replaceUpdater("scaleX",function(){t.transform.scaleX=t.activeFocus?1.075:1},[t,"activeFocus"]),t._replaceUpdater("height",function(){t.height=t._get("iconImage").defaultHeight},[t._get("iconImage"),"defaultHeight"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._replaceUpdater("color",function(){i.color=i._get("model").color?i._get("model").color:"#0000"},[i._get("_delegate"),"_row"]),i.anchors._replaceUpdater("fill",function(){i.anchors.fill=i._get("iconImage")},[i,"iconImage"]),i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r._replaceUpdater("width",function(){r.width=r.height-100},[r,"height"]),r._replaceUpdater("height",function(){r.height=r.defaultHeight},[r,"defaultHeight"]),r._replaceUpdater("defaultWidth",function(){r.defaultWidth=2*r.defaultHeight/3},[r,"defaultHeight"]),r._removeUpdater("fillMode"),r.fillMode=x.core.Image.prototype.Stretch,r._replaceUpdater("defaultHeight",function(){r.defaultHeight=2.3*r._context.height/7},[r._context,"height"]),r._replaceUpdater("source",function(){r.source=r._get("model").icon},[r._get("_delegate"),"_row"]),r.anchors._removeUpdater("centerIn"),r.anchors.centerIn=r.parent,r.completed();var o=e._this$child2;o.$s(e.$c$_this$child2),delete e.$c$_this$child2,o._removeUpdater("color"),o.color="#0000",o.border._replaceUpdater("color",function(){o.border.color=o._get("colorTheme").accentColor},[o._get("colorTheme"),"accentColor"]),o.border._removeUpdater("width"),o.border.width=5,o._replaceUpdater("opacity",function(){o.opacity=o.parent.activeFocus?1:0},[o.parent,"activeFocus"]),o.anchors._replaceUpdater("fill",function(){o.anchors.fill=o._get("iconImage")},[o,"iconImage"]);var n,a={behavior__this_child2_on_opacity:n=new b.Animation(o)};n.$c(a.$c$behavior__this_child2_on_opacity={}),(n=a.behavior__this_child2_on_opacity).$s(a.$c$behavior__this_child2_on_opacity),delete a.$c$behavior__this_child2_on_opacity,n._removeUpdater("duration"),n.duration=200,n.completed(),o.setAnimation("opacity",n),o.completed();var s=e._this$child3;s.$s(e.$c$_this$child3),delete e.$c$_this$child3,s._replaceUpdater("opacity",function(){s.opacity=s._get("mediaDelegateProto").activeFocus?1:0},[s._get("mediaDelegateProto"),"activeFocus"]),s._removeUpdater("clip"),s.clip=!0,s._replaceUpdater("color",function(){s.color=s._get("colorTheme").accentColor},[s._get("colorTheme"),"accentColor"]),s._replaceUpdater("height",function(){s.height=s._get("mediTitle").paintedHeight+15},[s._get("mediTitle"),"paintedHeight"]),s.anchors._replaceUpdater("right",function(){s.anchors.right=s._get("iconImage").right},[s._get("iconImage"),"right"]),s.anchors._replaceUpdater("bottom",function(){s.anchors.bottom=s._get("iconImage").bottom},[s._get("iconImage"),"bottom"]),s.anchors._replaceUpdater("left",function(){s.anchors.left=s._get("iconImage").left},[s._get("iconImage"),"left"]);var c=e._this_child3$child0;c.$s(e.$c$_this_child3$child0),delete e.$c$_this_child3$child0,c.anchors._removeUpdater("bottomMargin"),c.anchors.bottomMargin=8,c._removeUpdater("clip"),c.clip=!0,c.anchors._replaceUpdater("rightMargin",function(){c.anchors.rightMargin=c.overriden?5:0},[c,"overriden"]),c._replaceUpdater("color",function(){c.color=c._get("colorTheme").textColor},[c._get("colorTheme"),"textColor"]),c._replaceUpdater("text",function(){c.text=c._get("model").text},[c._get("_delegate"),"_row"]),c._replaceUpdater("overriden",function(){c.overriden=c.paintedWidth>c.width},[c,"width",c,"paintedWidth"]),c.anchors._replaceUpdater("leftMargin",function(){c.anchors.leftMargin=c.overriden?5:0},[c,"overriden"]),c.anchors._replaceUpdater("right",function(){c.anchors.right=c.parent.right},[c.parent,"right"]),c._replaceUpdater("horizontalAlignment",function(){c.horizontalAlignment=c.overriden?x.core.Text.prototype.AlignLeft:x.core.Text.prototype.AlignHCenter},[c,"overriden"]),c.anchors._replaceUpdater("bottom",function(){c.anchors.bottom=c.parent.bottom},[c.parent,"bottom"]),c.anchors._replaceUpdater("left",function(){c.anchors.left=c.parent.left},[c.parent,"left"]),c.completed();var l,h={behavior__this_child3_on_opacity:l=new b.Animation(s)};l.$c(h.$c$behavior__this_child3_on_opacity={}),(l=h.behavior__this_child3_on_opacity).$s(h.$c$behavior__this_child3_on_opacity),delete h.$c$behavior__this_child3_on_opacity,l._removeUpdater("duration"),l.duration=200,l.completed(),s.setAnimation("opacity",l),s.completed();var d,p={behavior__this_on_transform:d=new b.Animation(t)};d.$c(p.$c$behavior__this_on_transform={}),(d=p.behavior__this_on_transform).$s(p.$c$behavior__this_on_transform),delete p.$c$behavior__this_on_transform,d._removeUpdater("duration"),d.duration=200,d.completed(),t.setAnimation("transform",d),t.completed()};var ce=b.Object,le=ce.prototype,he=b.Animation=function(e,t){ce.apply(this,arguments),this._disabled=0,this._native=!1},de=he.prototype=Object.create(le);de.constructor=he,de.componentName="core.Animation",s.addProperty(de,"int","delay",0),s.addProperty(de,"int","duration",200),s.addProperty(de,"bool","cssTransition",!0),s.addProperty(de,"bool","running",!1),s.addProperty(de,"string","easing","ease"),s.addProperty(de,"Object","target"),s.addProperty(de,"string","property"),s.addProperty(de,"variant","from"),s.addProperty(de,"variant","to"),de._updateAnimation=function(){this.target&&this.target.updateAnimation(this.property,this)},de.active=function(){return this.enabled()&&0<this.duration},de.disable=function(){++this._disabled,this._updateAnimation()},de.enable=function(){--this._disabled,this._updateAnimation()},de.enabled=function(){return 0===this._disabled},de.complete=function(){},de.interpolate=function(e,t,i){return i*(e-t)+t};_=function(e){this._updateAnimation()};b._protoOnChanged(de,"easing",_),b._protoOnChanged(de,"duration",_),b._protoOnChanged(de,"delay",_),b._protoOnChanged(de,"cssTransition",_),b._protoOnChanged(de,"running",_),de.$c=function(e){le.$c.call(this,e.$b={})},de.$s=function(e){le.$s.call(this,e.$b),delete e.$b,this.completed()};var pe=b.Item,ue=pe.prototype,ge=$.MenuDelegate=function(e,t){pe.apply(this,arguments)},fe=ge.prototype=Object.create(ue);fe.constructor=ge,fe.componentName="src.MenuDelegate",fe.itemFocused=b.createSignal("itemFocused"),fe.itemSelected=b.createSignal("itemSelected"),s.addProperty(fe,"bool","isCurrent"),s.addProperty(fe,"Object","content"),b._protoOnChanged(fe,"activeFocus",function(e){var t=this._get("innerList",!0);this.activeFocus&&t.choose()}),b._protoOnChanged(fe,"content",function(e){var t=this._get("menuDelegateModel",!0);e&&(t.clear(),t.append(e))}),fe.$c=function(e){var t=this;ue.$c.call(this,e.$b={});var i=new b.ListModel(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("menuDelegateModel"),t.addChild(i);var r=new $.MainText(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("topLabel"),t.addChild(r);var o=new b.ListView(t);(e._this$child2=o).$c(e.$c$_this$child2={}),o.delegate=function(e,t){var i,r={delegate:i=new $.MediaDelegate(e,t)};return i.$c(r.$c$delegate={}),(i=r.delegate).$s(r.$c$delegate),delete r.$c$delegate,i.completed(),i},o._setId("innerList"),t.addChild(o),t._setId("menuDelegateProto")},fe.$s=function(e){var t=this;ue.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("content",function(){t.content=t._get("model").content},[t._get("_delegate"),"_row"]),t._replaceUpdater("width",function(){t.width=t.parent.width},[t.parent,"width"]),t._replaceUpdater("isCurrent",function(){t.isCurrent=t.parent.currentIndex==t._get("model").index},[t.parent,"currentIndex",t._get("_delegate"),"_rowIndex"]),t._replaceUpdater("height",function(){t.height=320+t._get("topLabel").paintedHeight+30},[t._get("topLabel"),"paintedHeight"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r.font._removeUpdater("shadow"),r.font.shadow=!0,r._replaceUpdater("color",function(){r.color=r._get("colorTheme").textColor},[r._get("colorTheme"),"textColor"]),r._replaceUpdater("text",function(){r.text=r._get("model").text},[r._get("_delegate"),"_row"]),r.anchors._removeUpdater("leftMargin"),r.anchors.leftMargin=10,r.anchors._replaceUpdater("top",function(){r.anchors.top=r.parent.top},[r.parent,"top"]),r.anchors._replaceUpdater("left",function(){r.anchors.left=r.parent.left},[r.parent,"left"]),r.completed();var o=e._this$child2;o.$s(e.$c$_this$child2),delete e.$c$_this$child2,o._replaceUpdater("model",function(){o.model=o._get("menuDelegateModel")},[o,"menuDelegateModel"]),o._removeUpdater("orientation"),o.orientation=x.core.ListView.prototype.Horizontal,o._removeUpdater("keyNavigationWraps"),o.keyNavigationWraps=!1,o._removeUpdater("animationDuration"),o.animationDuration=300,o._removeUpdater("spacing"),o.spacing=10,o.content._removeUpdater("cssTranslatePositioning"),o.content.cssTranslatePositioning=!0,o.anchors._replaceUpdater("right",function(){o.anchors.right=o.parent.right},[o.parent,"right"]),o.anchors._removeUpdater("topMargin"),o.anchors.topMargin=10,o.anchors._replaceUpdater("bottom",function(){o.anchors.bottom=o.parent.bottom},[o.parent,"bottom"]),o._removeUpdater("positionMode"),o.positionMode=x.core.ListView.prototype.Center,o.anchors._replaceUpdater("top",function(){o.anchors.top=o._get("topLabel").bottom},[o._get("topLabel"),"bottom"]),o.anchors._replaceUpdater("left",function(){o.anchors.left=o.parent.left},[o.parent,"left"]),o.choose=function(){var e=this._get("menuDelegateProto",!0);this.count&&(this.currentIndex>=this.count&&(this.currentIndex=0),e.itemFocused(this.model.get(this.currentIndex)))}.bind(o),o.onChanged("count",function(e){var t=this._get("menuDelegateProto",!0);e&&t.isCurrent&&this.choose()}.bind(o)),o.onChanged("currentIndex",function(e){this.choose()}.bind(o)),o.onPressed("Select",function(e,t){var i=this._get("innerList",!0),r=this._get("menuDelegateProto",!0),o=this.model.get(this.currentIndex),n=this.getItemPosition(this.currentIndex);o.x=i.x+n[0]-i.contentX,o.y=i.y+n[1],o.height=n[3],r.itemSelected(o)}.bind(o)),o.completed(),t.completed()};var _e=b.Item,me=_e.prototype,ve=b.Rectangle=function(e,t){_e.apply(this,arguments),this._context.backend.initRectangle(this)},ye=ve.prototype=Object.create(me);(ye._propertyToStyle=Object.create(me._propertyToStyle)).color="background-color",ye.constructor=ve,ye.componentName="core.Rectangle",s.addProperty(ye,"color","color","#0000"),s.addLazyProperty(ye,"border",function(e,t){var i,r={lazy$border:i=new b.Border(e,t)};return i.$c(r.$c$lazy$border={}),(i=r.lazy$border).$s(r.$c$lazy$border),delete r.$c$lazy$border,i.completed(),i}),s.addProperty(ye,"Gradient","gradient"),b._protoOnChanged(ye,"color",function(e){this.style("background-color",b.Color.normalize(e))}),ye.$c=function(e){me.$c.call(this,e.$b={})},ye.$s=function(e){me.$s.call(this,e.$b),delete e.$b,this.completed()};var be=b.Rectangle,$e=be.prototype,we=$.DescriptionPanel=function(e,t){be.apply(this,arguments)},xe=we.prototype=Object.create($e);xe.constructor=we,xe.componentName="src.DescriptionPanel",xe.play=b.createSignal("play"),s.addProperty(xe,"variant","item"),xe.show=function(e){var t=this._get("descriptionYear",!0),i=this._get("playButton",!0),r=this._get("descriptionDuration",!0),o=this._get("descriptionRating",!0),n=this._get("descriptionSlogan",!0),a=this._get("descriptionGenres",!0),s=this._get("descriptionTitle",!0),c=this._get("descriptionPoster",!0),l=this._get("descriptionText",!0),h=this._get("descriptionDirector",!0);this.visible=!0,this.item=e,i.setFocus(),c.source=e.icon;var d=e.movieInfo;s.text=d.title,n.text=d.slogan?d.slogan:"",l.text=d.description,t.text=d.year.toString(),h.value=d.director,r.text=d.duration.toString()+" min",o.text=d.rating.imdb.toString(),a.value=d.genre[0];for(var p=1;p<d.genre.length;++p)a.text+=", "+d.genre[p]},xe.$c=function(e){$e.$c.call(this,e.$b={});var t=new b.Rectangle(this);(e._this$child0=t).$c(e.$c$_this$child0={});var i=new b.Image(t);(e._this_child0$child0=i).$c(e.$c$_this_child0$child0={}),i._setId("descriptionPoster"),t.addChild(i);var r=new b.Item(t);(e._this_child0$child1=r).$c(e.$c$_this_child0$child1={});var o=new b.Item(r);(e._this_child0_child1$child0=o).$c(e.$c$_this_child0_child1$child0={});var n=new $.BigText(o);(e._this_child0_child1_child0$child0=n).$c(e.$c$_this_child0_child1_child0$child0={}),n._setId("descriptionTitle"),o.addChild(n);var a=new $.MainText(o);(e._this_child0_child1_child0$child1=a).$c(e.$c$_this_child0_child1_child0$child1={}),a._setId("descriptionYear"),o.addChild(a);var s=new $.SmallText(o);(e._this_child0_child1_child0$child2=s).$c(e.$c$_this_child0_child1_child0$child2={}),s._setId("descriptionSlogan"),o.addChild(s);var c=new b.Column(o);(e._this_child0_child1_child0$child3=c).$c(e.$c$_this_child0_child1_child0$child3={});var l=new $.KeyValueText(c);(e._this_child0_child1_child0_child3$child0=l).$c(e.$c$_this_child0_child1_child0_child3$child0={}),l._setId("descriptionGenres"),c.addChild(l);var h=new $.KeyValueText(c);(e._this_child0_child1_child0_child3$child1=h).$c(e.$c$_this_child0_child1_child0_child3$child1={}),h._setId("descriptionDirector"),c.addChild(h);var d=new $.SmallText(c);(e._this_child0_child1_child0_child3$child2=d).$c(e.$c$_this_child0_child1_child0_child3$child2={}),d._setId("descriptionDuration"),c.addChild(d);var p=new b.Item(c);(e._this_child0_child1_child0_child3$child3=p).$c(e.$c$_this_child0_child1_child0_child3$child3={});var u=new b.Image(p);(e._this_child0_child1_child0_child3_child3$child0=u).$c(e.$c$_this_child0_child1_child0_child3_child3$child0={}),u._setId("imdbIcon"),p.addChild(u);var g=new $.SmallText(p);(e._this_child0_child1_child0_child3_child3$child1=g).$c(e.$c$_this_child0_child1_child0_child3_child3$child1={}),g._setId("descriptionRating"),p.addChild(g),c.addChild(p),c._setId("shortInfoLayout"),o.addChild(c);var f=new $.SmallText(o);(e._this_child0_child1_child0$child4=f).$c(e.$c$_this_child0_child1_child0$child4={}),f._setId("descriptionText"),o.addChild(f),r.addChild(o);var _=new $.TextButton(r);(e._this_child0_child1$child1=_).$c(e.$c$_this_child0_child1$child1={}),_._setId("playButton"),r.addChild(_),t.addChild(r),t._setId("descripationBackground"),this.addChild(t),this._setId("panelProto")},xe.$s=function(e){var t=this;$e.$s.call(this,e.$b),delete e.$b,t._removeUpdater("color"),t.color="#000c",t._removeUpdater("visible"),t.visible=!1,t._removeUpdater("focus"),t.focus=!0,t.anchors._replaceUpdater("fill",function(){t.anchors.fill=t._context},[t,"context"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._replaceUpdater("color",function(){i.color=i._get("colorTheme").panelColor},[i._get("colorTheme"),"panelColor"]),i._replaceUpdater("width",function(){i.width=i.height+500},[i,"height"]),i.anchors._removeUpdater("centerIn"),i.anchors.centerIn=i.parent,i._replaceUpdater("height",function(){i.height=i._get("descriptionPoster").height},[i._get("descriptionPoster"),"height"]);var r=e._this_child0$child0;r.$s(e.$c$_this_child0$child0),delete e.$c$_this_child0$child0,r._replaceUpdater("width",function(){r.width=r.height/3*2},[r,"height"]),r._removeUpdater("fillMode"),r.fillMode=x.core.Image.prototype.Stretch,r._replaceUpdater("height",function(){r.height=.5*r._get("panelProto").height},[r._get("panelProto"),"height"]),r.completed();var o=e._this_child0$child1;o.$s(e.$c$_this_child0$child1),delete e.$c$_this_child0$child1,o._replaceUpdater("opacity",function(){o.opacity=o.activeFocus?1:0},[o,"activeFocus"]),o._removeUpdater("clip"),o.clip=!0,o.anchors._removeUpdater("margins"),o.anchors.margins=10,o.anchors._replaceUpdater("right",function(){o.anchors.right=o._get("descripationBackground").right},[o._get("descripationBackground"),"right"]),o.anchors._replaceUpdater("bottom",function(){o.anchors.bottom=o._get("descriptionPoster").bottom},[o._get("descriptionPoster"),"bottom"]),o.anchors._replaceUpdater("top",function(){o.anchors.top=o._get("descriptionPoster").top},[o._get("descriptionPoster"),"top"]),o.anchors._replaceUpdater("left",function(){o.anchors.left=o._get("descriptionPoster").right},[o._get("descriptionPoster"),"right"]);var n=e._this_child0_child1$child0;n.$s(e.$c$_this_child0_child1$child0),delete e.$c$_this_child0_child1$child0,n._removeUpdater("width"),n.width=640,n.anchors._replaceUpdater("top",function(){n.anchors.top=n.parent.top},[n.parent,"top"]),n.anchors._replaceUpdater("left",function(){n.anchors.left=n.parent.left},[n.parent,"left"]),n._removeUpdater("height"),n.height=400;var a=e._this_child0_child1_child0$child0;a.$s(e.$c$_this_child0_child1_child0$child0),delete e.$c$_this_child0_child1_child0$child0,a._replaceUpdater("color",function(){a.color=a._get("colorTheme").textColor},[a._get("colorTheme"),"textColor"]),a.anchors._replaceUpdater("top",function(){a.anchors.top=a.parent.top},[a.parent,"top"]),a.anchors._replaceUpdater("left",function(){a.anchors.left=a.parent.left},[a.parent,"left"]),a.completed();var s=e._this_child0_child1_child0$child1;s.$s(e.$c$_this_child0_child1_child0$child1),delete e.$c$_this_child0_child1_child0$child1,s._replaceUpdater("color",function(){s.color=s._get("colorTheme").subTextColor},[s._get("colorTheme"),"subTextColor"]),s.anchors._removeUpdater("bottomMargin"),s.anchors.bottomMargin=3,s.anchors._removeUpdater("leftMargin"),s.anchors.leftMargin=10,s.anchors._replaceUpdater("right",function(){s.anchors.right=s.parent.right},[s.parent,"right"]),s.anchors._replaceUpdater("bottom",function(){s.anchors.bottom=s._get("descriptionTitle").bottom},[s._get("descriptionTitle"),"bottom"]),s.anchors._replaceUpdater("left",function(){s.anchors.left=s._get("descriptionTitle").right},[s._get("descriptionTitle"),"right"]),s.completed();var c=e._this_child0_child1_child0$child2;c.$s(e.$c$_this_child0_child1_child0$child2),delete e.$c$_this_child0_child1_child0$child2,c._replaceUpdater("color",function(){c.color=c._get("colorTheme").subTextColor},[c._get("colorTheme"),"subTextColor"]),c.anchors._replaceUpdater("top",function(){c.anchors.top=c._get("descriptionTitle").bottom},[c._get("descriptionTitle"),"bottom"]),c.anchors._replaceUpdater("right",function(){c.anchors.right=c.parent.right},[c.parent,"right"]),c.anchors._replaceUpdater("left",function(){c.anchors.left=c.parent.left},[c.parent,"left"]),c.completed();var l=e._this_child0_child1_child0$child3;l.$s(e.$c$_this_child0_child1_child0$child3),delete e.$c$_this_child0_child1_child0$child3,l.anchors._replaceUpdater("top",function(){l.anchors.top=l._get("descriptionSlogan").bottom},[l._get("descriptionSlogan"),"bottom"]),l.anchors._replaceUpdater("right",function(){l.anchors.right=l.parent.right},[l.parent,"right"]),l.anchors._removeUpdater("topMargin"),l.anchors.topMargin=10,l.anchors._replaceUpdater("left",function(){l.anchors.left=l.parent.left},[l.parent,"left"]);var h=e._this_child0_child1_child0_child3$child0;h.$s(e.$c$_this_child0_child1_child0_child3$child0),delete e.$c$_this_child0_child1_child0_child3$child0,h._removeUpdater("key"),h.key="Director:",h.completed();var d=e._this_child0_child1_child0_child3$child1;d.$s(e.$c$_this_child0_child1_child0_child3$child1),delete e.$c$_this_child0_child1_child0_child3$child1,d._removeUpdater("key"),d.key="Genres:",d.completed();var p=e._this_child0_child1_child0_child3$child2;p.$s(e.$c$_this_child0_child1_child0_child3$child2),delete e.$c$_this_child0_child1_child0_child3$child2,p._replaceUpdater("color",function(){p.color=p._get("colorTheme").subTextColor},[p._get("colorTheme"),"subTextColor"]),p.completed();var u=e._this_child0_child1_child0_child3$child3;u.$s(e.$c$_this_child0_child1_child0_child3$child3),delete e.$c$_this_child0_child1_child0_child3$child3,u._replaceUpdater("height",function(){u.height=u._get("imdbIcon").paintedHeight},[u._get("imdbIcon"),"paintedHeight"]);var g=e._this_child0_child1_child0_child3_child3$child0;g.$s(e.$c$_this_child0_child1_child0_child3_child3$child0),delete e.$c$_this_child0_child1_child0_child3_child3$child0,g._removeUpdater("source"),g.source="res/imdb.png",g.completed();var f=e._this_child0_child1_child0_child3_child3$child1;f.$s(e.$c$_this_child0_child1_child0_child3_child3$child1),delete e.$c$_this_child0_child1_child0_child3_child3$child1,f.anchors._removeUpdater("leftMargin"),f.anchors.leftMargin=10,f._replaceUpdater("color",function(){f.color=f._get("colorTheme").subTextColor},[f._get("colorTheme"),"subTextColor"]),f.anchors._replaceUpdater("verticalCenter",function(){f.anchors.verticalCenter=f._get("imdbIcon").verticalCenter},[f._get("imdbIcon"),"verticalCenter"]),f.anchors._replaceUpdater("left",function(){f.anchors.left=f._get("imdbIcon").right},[f._get("imdbIcon"),"right"]),f.completed(),u.completed(),l.completed();var _=e._this_child0_child1_child0$child4;_.$s(e.$c$_this_child0_child1_child0$child4),delete e.$c$_this_child0_child1_child0$child4,_._removeUpdater("clip"),_.clip=!0,_._replaceUpdater("color",function(){_.color=_._get("colorTheme").textColor},[_._get("colorTheme"),"textColor"]),_._removeUpdater("height"),_.height=130,_.anchors._replaceUpdater("right",function(){_.anchors.right=_.parent.right},[_.parent,"right"]),_._removeUpdater("wrapMode"),_.wrapMode=x.core.Text.prototype.WordWrap,_.anchors._removeUpdater("topMargin"),_.anchors.topMargin=20,_.anchors._replaceUpdater("top",function(){_.anchors.top=_._get("shortInfoLayout").bottom},[_._get("shortInfoLayout"),"bottom"]),_.anchors._replaceUpdater("left",function(){_.anchors.left=_.parent.left},[_.parent,"left"]),_.__complete=function(){$.SmallText.prototype.__complete.call(this);this.style("display","block"),this.style("display","-webkit-box"),this.style("text-overflow","ellipsis"),this.style("box-orient","vertical"),this.style("-webkit-box-orient","vertical"),this.style("line-clamp",5),this.style("-webkit-line-clamp",5)}.bind(_),_.completed(),n.completed();var m=e._this_child0_child1$child1;m.$s(e.$c$_this_child0_child1$child1),delete e.$c$_this_child0_child1$child1,m.anchors._replaceUpdater("bottom",function(){m.anchors.bottom=m.parent.bottom},[m.parent,"bottom"]),m._removeUpdater("text"),m.text="Play",m.anchors._replaceUpdater("right",function(){m.anchors.right=m.parent.right},[m.parent,"right"]),m.anchors._replaceUpdater("left",function(){m.anchors.left=m.parent.left},[m.parent,"left"]),m.onPressed("Select",function(e,t){var i=this._get("panelProto",!0);i.play(i.item),i.visible=!1}.bind(m)),m.completed();var v,y={behavior__this_child0_child1_on_opacity:v=new b.Animation(o)};v.$c(y.$c$behavior__this_child0_child1_on_opacity={}),(v=y.behavior__this_child0_child1_on_opacity).$s(y.$c$behavior__this_child0_child1_on_opacity),delete y.$c$behavior__this_child0_child1_on_opacity,v._removeUpdater("duration"),v.duration=300,v.completed(),o.setAnimation("opacity",v),o.completed(),i.completed(),t.completed()};var Ce=b.Item,ke=Ce.prototype,Ae=n.ActivityManager=function(e,t){Ce.apply(this,arguments),this._activityStack=[]},Pe=Ae.prototype=Object.create(ke);Pe.constructor=Ae,Pe.componentName="controls.core.ActivityManager",s.addProperty(Pe,"int","count"),s.addProperty(Pe,"bool","keepLastActivity",!0),s.addProperty(Pe,"string","currentActivity"),Pe.initTopIntent=function(){if(this._activityStack.length){var e=this._activityStack[this._activityStack.length-1],t=this.children;log("initTopIntent: "+e.name);for(var i=0;i<t.length;++i){var r=t[i];if(r&&r instanceof x.controls.core.BaseActivity)if(r.name===e.name){log("Init:",e);var o=e.state||{};o.lastActivity||(o.lastActivity=this.currentActivity),r.init(e.intent,o),r.index=this._activityStack.length-1,r.start(),r.setFocus(),this.currentActivity=r.name}else r.stop()}}else log("Activity stack is empty")},Pe.clear=function(){for(var e=this.children,t=0;t<e.length;++t){var i=e[t];i&&i instanceof x.controls.core.Activity&&i.stop()}this._activityStack=[]},Pe.pop=function(e){if(this.keepLastActivity&&1<this.count||!this.keepLastActivity&&0<this.count){var t=1;t=void 0===e?1:e>this.count-1&&this.keepLastActivity?this.count-1:e>this.count&&!this.keepLastActivity?this.count:e,this._activityStack.splice(-t,t),this.count-=t,this.initTopIntent()}else log("No activity to pop")},Pe.setIntent=function(e,t){if(t){var i=this.createActivity(t);i&&(i.intent=e)}else this._activityStack[this._activityStack.length-1].intent=e},Pe.removeActivity=function(e){if(e==this.currentActivity)this.pop();else{for(var t=-1,i=0;i<this._activityStack.length;++i)if(this._activityStack[i].name==e){t=i;break}if(t<0)return void log("Activity",e,"not found");this._activityStack.splice(t,1)}},Pe.isActivityInStack=function(t){var e=this._activityStack.filter(function(e){return e.name==t});return e&&0<e.length},Pe.findActivity=function(t){var e=this.children.filter(function(e){return e instanceof x.controls.core.BaseActivity&&e.name==t}),i=null;return e&&e.length&&(i=e[0].getActivity()),i||log("Activity for name",t,"not found"),i},Pe.createActivity=function(t){var e=this.findActivity(t);if(e)return e;var i=this.children.filter(function(e){return e instanceof x.controls.core.LazyActivity&&e.name==t});return i&&i.length?(e=i[0]).createActivity():(log("Activity for name",t,"not found"),null)},Pe.closeAllExcept=function(e){var t=this.findActivity(e);t?(this.count=1,this._activityStack=[t]):(log("Activity",e,"not found, close all"),this.count=0,this._activityStack=[]),this.currentActivity!=e&&this.initTopIntent()},Pe.replaceTopActivity=function(e,t,i){0<this.count?(this._activityStack.pop(),this._activityStack.push({name:e,intent:t,state:i}),this.initTopIntent()):log("No activity to pop")},Pe.push=function(e,t,i){this._activityStack.push({name:e,intent:t,state:i}),this.count++,this.initTopIntent()},Pe.popWithState=function(e){this.keepLastActivity&&1<this.count||!this.keepLastActivity&&0<this.count?(this._activityStack.pop(),--this.count,this.setState(e),this.initTopIntent()):log("No activity to pop")},Pe.setState=function(e,t){if(t){var i=this.createActivity(t);i&&(i.state=e)}else this._activityStack[this._activityStack.length-1].state=e},Pe.$c=function(e){ke.$c.call(this,e.$b={})},Pe.$s=function(e){ke.$s.call(this,e.$b),delete e.$b,this.completed()};var Ie=b.Item,Te=Ie.prototype,Se=b.Loader=function(e,t){Ie.apply(this,arguments)},Oe=Se.prototype=Object.create(Te);Oe.constructor=Se,Oe.componentName="core.Loader",Oe.loaded=b.createSignal("loaded"),s.addProperty(Oe,"string","source"),s.addProperty(Oe,"Object","item"),Oe.discard=function(){this.discardItem(),b.Item.prototype.discard.call(this)},Oe.discardItem=function(){var e=this.item;e&&(e.discard(),e=null)},Oe._load=function(){var e=this.source;if(e){log("loading "+e+"…");for(var t=e.split("."),i=x;t.length;){if(void 0===(i=i[t.shift()]))throw new Error("unknown component used: "+e)}var r=new i(this);r.__init(),this.item=r,this._context.scheduleComplete(),this._updateVisibilityForChild(this.item,this.recursiveVisible),this._tryFocus(),this.loaded()}},Oe.__complete=function(){Te.__complete.call(this),!this.item&&this.source&&this._load()},b._protoOnChanged(Oe,"recursiveVisible",function(e){this.item&&this._updateVisibilityForChild(this.item,e)}),b._protoOnChanged(Oe,"source",function(e){this.discardItem(),this._load()}),Oe.$c=function(e){Te.$c.call(this,e.$b={})},Oe.$s=function(e){Te.$s.call(this,e.$b),delete e.$b,this.completed()};var Ue=b.Item,Me=Ue.prototype,Le=n.BaseActivity=function(e,t){Ue.apply(this,arguments)},Ee=Le.prototype=Object.create(Me);Ee.constructor=Le,Ee.componentName="controls.core.BaseActivity",Ee.started=b.createSignal("started"),Ee.stopped=b.createSignal("stopped"),s.addProperty(Ee,"bool","active"),s.addProperty(Ee,"string","name"),s.addProperty(Ee,"Item","manager"),Ee.clear=function(){this.manager.clear()},Ee.pop=function(e){this.manager.pop(e)},Ee.init=function(e,t){},Ee.closeAllExcept=function(e){this.manager.closeAllExcept(e)},Ee.removeActivity=function(e){this.manager.removeActivity(e)},Ee.push=function(e,t,i){this.manager.push(e,t,i)},Ee.replaceTopActivity=function(e,t,i){this.manager.replaceTopActivity(e,t,i)},Ee.popWithState=function(e){this.manager.popWithState(e)},Ee.setIntent=function(e,t){this.manager.setIntent(e,t)},Ee.setState=function(e,t){this.manager.setState(e,t)},b._protoOnKey(Ee,"Back",function(e,t){return this.manager.pop(),!0}),Ee.$c=function(e){Me.$c.call(this,e.$b={})},Ee.$s=function(e){var t=this;Me.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("visible",function(){t.visible=t.active},[t,"active"]),t._removeUpdater("manager"),t.manager=t.parent,t.completed()};var ze=n.BaseActivity,De=ze.prototype,Re=n.LazyActivity=function(e,t){ze.apply(this,arguments)},Be=Re.prototype=Object.create(De);Be.constructor=Re,Be.componentName="controls.core.LazyActivity",s.addProperty(Be,"string","component"),Be.init=function(){x.controls.core.BaseActivity.prototype.init.apply(this,arguments);var e=this.createActivity();e&&e.init.apply(e,arguments)},Be.start=function(){this.createActivity().start(),this.visible=!0},Be.stop=function(){this.visible=!1;var e=this.getActivity();e&&e.stop()},Be.getActivity=function(){return this._get("loader",!0).item},Be.createActivity=function(){var e=this._get("loader",!0),t=e.item;if(!t){if(e.source=this.component,((t=e.item).anchors.fill=this)._context._processActions(),t.manager=this.manager,!t)throw new Error("can't create component "+this.component);var i=this;t.on("started",function(){i.started()}),t.on("stopped",function(){i.stopped()})}return e.item},Be.$c=function(e){De.$c.call(this,e.$b={});var t=new b.Loader(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("loader"),this.addChild(t)},Be.$s=function(e){var t=this;De.$s.call(this,e.$b),delete e.$b,t.anchors._replaceUpdater("fill",function(){t.anchors.fill=t.manager},[t,"manager"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.anchors._replaceUpdater("fill",function(){i.anchors.fill=i.parent.manager},[i.parent,"manager"]),i.completed(),t.completed()};var Fe=b.Object,We=Fe.prototype,Ne=b.Radius=function(e,t){Fe.apply(this,arguments)},He=Ne.prototype=Object.create(We);He.defaultProperty="radius",He.constructor=Ne,He.componentName="core.Radius",s.addProperty(He,"real","radius"),s.addProperty(He,"real","topLeft"),s.addProperty(He,"real","topRight"),s.addProperty(He,"real","bottomLeft"),s.addProperty(He,"real","bottomRight"),He.__complete=function(){We.__complete.call(this);var e=this.radius,t=this.topLeft||e,i=this.topRight||e,r=this.bottomLeft||e,o=this.bottomRight||e;t==i&&r==o&&t==r?this.parent.style("border-radius",t):this.parent.style("border-radius",t+"px "+i+"px "+o+"px "+r+"px")};_=function(){log("updating border")};b._protoOn(He,"bottomLeftUpdate",_),b._protoOn(He,"radiusUpdate",_),b._protoOn(He,"bottomRightUpdate",_),b._protoOn(He,"topLeftUpdate",_),b._protoOn(He,"topRightUpdate",_),He.$c=function(e){We.$c.call(this,e.$b={})},He.$s=function(e){We.$s.call(this,e.$b),delete e.$b,this.completed()};var je=b.Object,Ve=je.prototype,Ye=b.LocalStorage=function(e,t){je.apply(this,arguments);var i=b.__localStorageBackend;this.impl=i().createLocalStorage(this)},Xe=Ye.prototype=Object.create(Ve);Xe.constructor=Ye,Xe.componentName="core.LocalStorage",Xe._ensureErrCallback=function(e){return e||function(e){log(e.message)}},Xe._ensureCallback=function(e,t){return e||function(e){log("ignore value of",t,"gotten from storage:",e)}},Xe._checkNameValid=function(e){if(!e)throw new Error("empty name")},Xe.getOrDefault=function(e,t,i){this._checkNameValid(e),t=this._ensureCallback(t,e),this.impl.get(e,t,function(){t(i)},this)},Xe.get=function(e,t,i){this._checkNameValid(e),this.impl.get(e,this._ensureCallback(t,e),this._ensureErrCallback(i),this)},Xe.erase=function(e,t){this._checkNameValid(e),this.impl.erase(e,this._ensureErrCallback(t),this)},Xe.set=function(e,t,i){this._checkNameValid(e),this.impl.set(e,t,this._ensureErrCallback(i),this)},Xe.$c=function(e){Ve.$c.call(this,e.$b={})},Xe.$s=function(e){Ve.$s.call(this,e.$b),delete e.$b,this.completed()};var Ge=b.LocalStorage,qe=Ge.prototype,Ke=b.PropertyStorage=function(e,t){Ge.apply(this,arguments)},Je=Ke.prototype=Object.create(qe);Je.constructor=Ke,Je.componentName="core.PropertyStorage",Je.ready=b.createSignal("ready"),s.addProperty(Je,"string","name"),s.addProperty(Je,"string","value"),s.addProperty(Je,"string","defaultValue"),Je._checkNameValid=function(){if(!this.name)throw new Error("empty property name")},Je._write=function(){this._checkNameValid(),this.value?this.set(this.name,this.value):this.erase(this.name)},Je._read=function(){this._checkNameValid(),this.getOrDefault(this.name,function(e){this._setProperty("value",e),this.ready()}.bind(this),this.defaultValue)},Je.__complete=function(){qe.__complete.call(this),this.value&&(this._setProperty("value",this.value),this.ready())},b._protoOnChanged(Je,"name",function(e){this._setProperty("value",""),this._read()}),b._protoOnChanged(Je,"value",function(e){this._write()}),Je.$c=function(e){qe.$c.call(this,e.$b={})},Je.$s=function(e){qe.$s.call(this,e.$b),delete e.$b,this.completed()};var Ze=b.Animation,Qe=Ze.prototype,et=b.ColorAnimation=function(e,t){Ze.apply(this,arguments)},tt=et.prototype=Object.create(Qe);tt.constructor=et,tt.componentName="core.ColorAnimation",tt.interpolate=function(e,t,i){var r=b.Animation.prototype.interpolate,o=new b.Color(e),n=new b.Color(t);return"rgba("+Math.floor(r(o.r,n.r,i))+","+Math.floor(r(o.g,n.g,i))+","+Math.floor(r(o.b,n.b,i))+","+Math.floor(r(o.a,n.a,i))+")"},tt.$c=function(e){Qe.$c.call(this,e.$b={})},tt.$s=function(e){Qe.$s.call(this,e.$b),delete e.$b,this.completed()};var it=b.Item,rt=it.prototype,ot=$.PlayerOsd=function(e,t){it.apply(this,arguments)},nt=ot.prototype=Object.create(rt);nt.constructor=ot,nt.componentName="src.PlayerOsd",s.addProperty(nt,"bool","display"),nt.$c=function(e){rt.$c.call(this,e.$b={})},nt.$s=function(e){var t=this;rt.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("opacity",function(){t.opacity=t.display?1:0},[t,"display"]),t._replaceUpdater("width",function(){t.width=t.parent.width},[t.parent,"width"]),t._replaceUpdater("height",function(){t.height=t.parent.height},[t.parent,"height"]);var i,r={behavior__this_on_opacity:i=new b.Animation(t)};i.$c(r.$c$behavior__this_on_opacity={}),(i=r.behavior__this_on_opacity).$s(r.$c$behavior__this_on_opacity),delete r.$c$behavior__this_on_opacity,i._removeUpdater("duration"),i.duration=300,i.completed(),t.setAnimation("opacity",i),t.completed()};var at=b.Row,st=at.prototype,ct=$.KeyValueText=function(e,t){at.apply(this,arguments)},lt=ct.prototype=Object.create(st);lt.constructor=ct,lt.componentName="src.KeyValueText",s.addProperty(lt,"string","key"),s.addProperty(lt,"string","value"),lt.$c=function(e){st.$c.call(this,e.$b={});var t=new $.SmallText(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("keyText"),this.addChild(t);var i=new $.SmallText(this);(e._this$child1=i).$c(e.$c$_this$child1={}),this.addChild(i)},lt.$s=function(e){var t=this;st.$s.call(this,e.$b),delete e.$b,t._removeUpdater("spacing"),t.spacing=10,t._replaceUpdater("height",function(){t.height=t._get("keyText").height},[t._get("keyText"),"height"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._replaceUpdater("color",function(){i.color=i._get("colorTheme").textColor},[i._get("colorTheme"),"textColor"]),i._replaceUpdater("text",function(){i.text=i.parent.key},[i.parent,"key"]),i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r._replaceUpdater("color",function(){r.color=r._get("colorTheme").subTextColor},[r._get("colorTheme"),"subTextColor"]),r._replaceUpdater("text",function(){r.text=r.parent.value},[r.parent,"value"]),r.completed(),t.completed()};var ht=n.ActivityManager,dt=ht.prototype,pt=$.UiApp=function(e,t){ht.apply(this,arguments)},ut=pt.prototype=Object.create(dt);ut.constructor=pt,ut.componentName="src.UiApp",s.addProperty(ut,"variant","currentPlay"),s.addProperty(ut,"string","mountedPath"),ut.__complete=function(){dt.__complete.call(this),this.push("osd")},ut.$c=function(e){var t=this;dt.$c.call(this,e.$b={});var i=new $.ColorTheme(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("colorTheme"),t.addChild(i);var r=new n.LazyActivity(t);(e._this$child1=r).$c(e.$c$_this$child1={}),t.addChild(r);var o=new n.LazyActivity(t);(e._this$child2=o).$c(e.$c$_this$child2={}),t.addChild(o),t._setId("mainWindow")},ut.$s=function(e){var t=this;dt.$s.call(this,e.$b),delete e.$b,t.anchors._replaceUpdater("fill",function(){t.anchors.fill=t._context},[t,"context"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r._removeUpdater("component"),r.component="src.OsdPage",r._removeUpdater("name"),r.name="osd",r.completed();var o=e._this$child2;o.$s(e.$c$_this$child2),delete e.$c$_this$child2,o._removeUpdater("component"),o.component="src.PlayerPage",o._removeUpdater("name"),o.name="player",o.completed(),t.completed()};var gt=b.Item,ft=gt.prototype,_t=b.VideoPlayer=function(e,t){gt.apply(this,arguments),this.impl=null,this._createPlayer()},mt=_t.prototype=Object.create(ft);mt.constructor=_t,mt.componentName="core.VideoPlayer",mt.text=b.createSignal("text"),mt.finished=b.createSignal("finished"),mt.error=b.createSignal("error"),s.addProperty(mt,"string","backend"),s.addProperty(mt,"string","source"),s.addProperty(mt,"string","backgroundImage"),s.addProperty(mt,"Color","backgroundColor","#000"),s.addProperty(mt,"float","volume",1),s.addProperty(mt,"bool","loop"),s.addProperty(mt,"bool","ready"),s.addProperty(mt,"bool","muted"),s.addProperty(mt,"bool","paused"),s.addProperty(mt,"bool","waiting"),s.addProperty(mt,"bool","seeking"),s.addProperty(mt,"bool","stalled"),s.addProperty(mt,"bool","autoPlay"),s.addProperty(mt,"real","duration"),s.addProperty(mt,"real","progress"),s.addProperty(mt,"real","buffered"),mt._getPlayer=function(){return null===this.impl&&this._createPlayer(),this.impl},mt._createPlayer=function(){if(this.impl)return this.impl;var e=this.source,t=this.backend;log("preferred backend: "+t);var i=b.__videoBackends,r=[];if(t&&i[t]){var o=i[t]();return this.impl=o.createPlayer(this)}for(var n in i){var a=(o=i[n]()).probeUrl(e);0<a&&r.push({backend:o,score:a})}if(r.sort(function(e,t){return t.score-e.score}),0===r.length)throw new Error("no backends for source "+e);return this.impl=r[0].backend.createPlayer(this)},mt._scheduleLayout=function(){this._context.delayedAction("layout",this,this._doLayout)},mt.play=function(){var e=this._get("player",!0);this.source&&(log("play",this.source),(e=this._getPlayer())&&(this._scheduleLayout(),e.play()),this.applyVolume())},mt.pause=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.pause()},mt._doLayout=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.setRect.apply(e,this.toScreen())},mt.stop=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.stop()},mt.getAudioTracks=function(){var e=this._get("player",!0);return(e=this._getPlayer())?e.getAudioTracks():[]},mt.getSubtitles=function(){var e=this._get("player",!0);return(e=this._getPlayer())?e.getSubtitles():[]},mt.getVideoTracks=function(){var e=this._get("player",!0);return(e=this._getPlayer())?e.getVideoTracks():[]},mt.toggleMute=function(){var e=this._get("player",!0);(e=this._getPlayer())&&e.setMute(!this.muted)},mt.applyVolume=function(){var e=this._get("volumeStorage",!0),t=this._get("player",!0);1<this.volume?this.volume=1:this.volume<0&&(this.volume=0),e.value=this.volume,(t=this._getPlayer())&&t.setVolume(this.volume)},mt.__complete=function(){var e=this._get("volumeStorage",!0),t=this._get("player",!0);ft.__complete.call(this),this.volume=+e.value,(t=this._getPlayer())&&t.setBackgroundColor(this.backgroundColor),this.autoPlay&&this.source&&this.play()},mt.volumeUp=function(){this.volume+=.1},mt.volumeDown=function(){this.volume-=.1},mt.setOption=function(e,t){var i=this._get("player",!0);(i=this._getPlayer())&&i.setOption(e,t)},mt.setAudioTrack=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setAudioTrack(e)},mt.setSubtitles=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setSubtitles(e)},mt.setVideoTrack=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setVideoTrack(e)},mt.setupDrm=function(e,t,i,r){var o=this._get("player",!0);(o=this._getPlayer())&&o.setupDrm(e,t,i,r)},mt.seek=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.seek(e)},mt.seekTo=function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.seekTo(e)},b._protoOnChanged(mt,"backend",function(e){this.impl=null,this._createPlayer()}),b._protoOnChanged(mt,"backgroundColor",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setBackgroundColor(e)}),b._protoOnChanged(mt,"loop",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setLoop(e)}),b._protoOnChanged(mt,"source",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setSource(e)}),b._protoOnChanged(mt,"recursiveVisible",function(e){var t=this._get("player",!0);(t=this._getPlayer())&&t.setVisibility(e)}),b._protoOnChanged(mt,"ready",function(e){log("ReadyState: "+this.ready)}),b._protoOnChanged(mt,"volume",function(e){this.applyVolume()}),b._protoOnChanged(mt,"autoPlay",function(e){this.setOption("autoplay",e)}),b._protoOnChanged(mt,"backgroundImage",function(e){this.setOption("poster",e)}),b._protoOn(mt,"newBoundingBox",function(){this._scheduleLayout()}),b._protoOn(mt,"error",function(e){this.paused=!1,this.waiting=!1}),mt.$c=function(e){ft.$c.call(this,e.$b={});var t=new b.PropertyStorage(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("volumeStorage"),this.addChild(t)},mt.$s=function(e){ft.$s.call(this,e.$b),delete e.$b;var t=e._this$child0;t.$s(e.$c$_this$child0),delete e.$c$_this$child0,t._removeUpdater("defaultValue"),t.defaultValue=1,t._removeUpdater("name"),t.name="volume",t.completed(),this.completed()};var vt=n.BaseActivity,yt=vt.prototype,bt=n.Activity=function(e,t){vt.apply(this,arguments)},$t=bt.prototype=Object.create(yt);$t.constructor=bt,$t.componentName="controls.core.Activity",$t.getActivity=function(){return this},$t.stop=function(){this.active=!1,this.stopped()},$t.start=function(){this.active=!0,this.started()},$t.$c=function(e){yt.$c.call(this,e.$b={})},$t.$s=function(e){yt.$s.call(this,e.$b),delete e.$b,this.completed()};var wt=n.Activity,xt=wt.prototype,Ct=$.PlayerPage=function(e,t){wt.apply(this,arguments)},kt=Ct.prototype=Object.create(xt);kt.constructor=Ct,kt.componentName="src.PlayerPage",kt.init=function(e){var t=this._get("player",!0),i=this._get("playerOsd",!0);t.source="",t.source="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",i.setFocus()},b._protoOn(kt,"stopped",function(){this._get("player",!0).stop()}),kt.$c=function(e){var t=this;xt.$c.call(this,e.$b={});var i=new b.VideoPlayer(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("player"),t.addChild(i);var r=new b.Image(t);(e._this$child1=r).$c(e.$c$_this$child1={}),t.addChild(r);var o=new b.Image(t);(e._this$child2=o).$c(e.$c$_this$child2={}),t.addChild(o);var n=new $.PlayerOsd(t);(e._this$child3=n).$c(e.$c$_this$child3={}),n._setId("playerOsd"),t.addChild(n)},kt.$s=function(e){xt.$s.call(this,e.$b),delete e.$b,this.anchors._removeUpdater("fill"),this.anchors.fill=this.parent;var t=e._this$child0;t.$s(e.$c$_this$child0),delete e.$c$_this$child0,t._removeUpdater("autoPlay"),t.autoPlay=!0,t._removeUpdater("focus"),t.focus=!1,t.anchors._removeUpdater("fill"),t.anchors.fill=t.parent,t.completed();var i=e._this$child1;i.$s(e.$c$_this$child1),delete e.$c$_this$child1,i._replaceUpdater("width",function(){i.width=.05*i.parent.width},[i.parent,"width"]),i._replaceUpdater("visible",function(){i.visible=i._get("player").waiting||i._get("player").seeking},[i._get("player"),"waiting",i._get("player"),"seeking"]),i._removeUpdater("source"),i.source="res/spinner.gif",i.anchors._removeUpdater("centerIn"),i.anchors.centerIn=i.parent,i._replaceUpdater("height",function(){i.height=i.width},[i,"width"]),i.completed();var r=e._this$child2;r.$s(e.$c$_this$child2),delete e.$c$_this$child2,r._replaceUpdater("width",function(){r.width=.1*r.parent.width},[r.parent,"width"]),r._replaceUpdater("visible",function(){r.visible=r._get("player").paused},[r._get("player"),"paused"]),r._removeUpdater("source"),r.source="res/player/pause.png",r.anchors._removeUpdater("centerIn"),r.anchors.centerIn=r.parent,r._replaceUpdater("height",function(){r.height=r.width},[r,"width"]),r.completed();var o=e._this$child3;o.$s(e.$c$_this$child3),delete e.$c$_this$child3,o.onPressed("Select",function(e,t){var i=this._get("player",!0);i.paused?i.play():i.pause()}.bind(o)),o.onPressed("Left",function(e,t){this._get("player",!0).seek(-10)}.bind(o)),o.onPressed("Right",function(e,t){this._get("player",!0).seek(10)}.bind(o)),o.completed(),this.completed()};var At=b.Item,Pt=At.prototype,It=b.Text=function(e,t){At.apply(this,arguments),this._context.backend.initText(this),0<this.text.length&&this._setText(this.text)},Tt=It.prototype=Object.create(Pt);Tt.constructor=It,Tt.componentName="core.Text",s.addProperty(Tt,"string","text"),s.addProperty(Tt,"color","color"),s.addLazyProperty(Tt,"shadow",function(e,t){var i,r={lazy$shadow:i=new b.Shadow(e,t)};return i.$c(r.$c$lazy$shadow={}),(i=r.lazy$shadow).$s(r.$c$lazy$shadow),delete r.$c$lazy$shadow,i.completed(),i}),s.addLazyProperty(Tt,"font",function(e,t){var i,r={lazy$font:i=new b.Font(e,t)};return i.$c(r.$c$lazy$font={}),(i=r.lazy$font).$s(r.$c$lazy$font),delete r.$c$lazy$font,i.completed(),i}),s.addProperty(Tt,"int","paintedWidth"),s.addProperty(Tt,"int","paintedHeight"),Tt.AlignTop=0,It.AlignTop=0,Tt.AlignBottom=1,It.AlignBottom=1,Tt.AlignVCenter=2,It.AlignVCenter=2,s.addProperty(Tt,"enum","verticalAlignment"),Tt.Html=0,It.Html=0,Tt.Text=1,It.Text=1,s.addProperty(Tt,"enum","textFormat"),Tt.AlignLeft=0,It.AlignLeft=0,Tt.AlignRight=1,It.AlignRight=1,Tt.AlignHCenter=2,It.AlignHCenter=2,Tt.AlignJustify=3,It.AlignJustify=3,s.addProperty(Tt,"enum","horizontalAlignment"),Tt.NoWrap=0,It.NoWrap=0,Tt.WordWrap=1,It.WordWrap=1,Tt.WrapAnywhere=2,It.WrapAnywhere=2,Tt.Wrap=3,It.Wrap=3,s.addProperty(Tt,"enum","wrapMode"),Tt._updateSize=function(){this.recursiveVisible&&(this._updateSizeNeeded||this.clip)&&this._scheduleUpdateSize()},Tt._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow",""),b.Item.prototype._updateStyle.apply(this,arguments)},Tt._updateSizeImpl=function(){if(0===this.text.length)return this.paintedWidth=0,void(this.paintedHeight=0);this._context.backend.layoutText(this)},Tt._scheduleUpdateSize=function(){this._context.delayedAction("text:update-size",this,this._updateSizeImpl)},Tt._enableSizeUpdate=function(){this._updateSizeNeeded=!0,this._updateSize()},Tt._updateWSHandling=function(){var e=this.textFormat===this.Text;switch(this.wrapMode){case this.NoWrap:this.style({"white-space":e?"pre":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":e?"pre-wrap":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":e?"pre-wrap":"normal","word-break":"break-all"})}this._updateSize()},Tt.getClass=function(){return"core-text"},Tt._setText=function(e){this._context.backend.setText(this,e)},Tt.on=function(e,t){this._updateSizeNeeded||"newBoundingBox"===e&&this._enableSizeUpdate(),b.Item.prototype.on.apply(this,arguments)},Tt.onChanged=function(e,t){if(!this._updateSizeNeeded)switch(e){case"right":case"width":case"bottom":case"height":case"verticalCenter":case"horizontalCenter":this._enableSizeUpdate()}b.Item.prototype.onChanged.apply(this,arguments)},Tt.registerStyle=function(e,t){e.addRule(t,"width: auto; height: auto;")},b._protoOnChanged(Tt,"recursiveVisible",function(e){e&&this._updateSize()}),b._protoOnChanged(Tt,"horizontalAlignment",function(e){switch(e){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}}),b._protoOnChanged(Tt,"verticalAlignment",function(e){switch(this._enableSizeUpdate(),e){case this.AlignTop:this.style("-pure-text-vertical-align","top");break;case this.AlignVCenter:this.style("-pure-text-vertical-align","middle");break;case this.AlignBottom:this.style("-pure-text-vertical-align","bottom")}});_=function(e){this._updateWSHandling()};b._protoOnChanged(Tt,"wrapMode",_),b._protoOnChanged(Tt,"textFormat",_),b._protoOnChanged(Tt,"text",function(e){this._setText(e),this._updateSize()}),b._protoOnChanged(Tt,"width",function(e){this._updateSize()}),b._protoOnChanged(Tt,"color",function(e){this.style("color",b.Color.normalize(e))}),Tt.$c=function(e){Pt.$c.call(this,e.$b={})},Tt.$s=function(e){var t=this;Pt.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("width",function(){t.width=t.paintedWidth},[t,"paintedWidth"]),t._replaceUpdater("height",function(){t.height=t.paintedHeight},[t,"paintedHeight"]),t.completed()};var St=b.Text,Ot=St.prototype,Ut=$.MainText=function(e,t){St.apply(this,arguments)},Mt=Ut.prototype=Object.create(Ot);Mt.constructor=Ut,Mt.componentName="src.MainText",Mt.$c=function(e){Ot.$c.call(this,e.$b={})},Mt.$s=function(e){Ot.$s.call(this,e.$b),delete e.$b,this.font._removeUpdater("pixelSize"),this.font.pixelSize=28,this.completed()};var Lt=b.BaseLayout,Et=Lt.prototype,zt=b.BaseView=function(e,t){Lt.apply(this,arguments),this._items=[],this._modelUpdate=new b.model.ModelUpdate,this._attached=null,this._modelReset=this._onReset.bind(this),this._modelRowsInserted=this._onRowsInserted.bind(this),this._modelRowsChanged=this._onRowsChanged.bind(this),this._modelRowsRemoved=this._onRowsRemoved.bind(this)},Dt=zt.prototype=Object.create(Et);Dt.constructor=zt,Dt.componentName="core.BaseView",Dt.layoutFinished=b.createSignal("layoutFinished"),s.addProperty(Dt,"Object","model"),s.addProperty(Dt,"Item","delegate"),s.addProperty(Dt,"int","contentX"),s.addProperty(Dt,"int","contentY"),s.addProperty(Dt,"int","scrollingStep",0),s.addProperty(Dt,"int","animationDuration",0),s.addProperty(Dt,"string","animationEasing","ease"),s.addProperty(Dt,"bool","contentFollowsCurrentItem",!0),s.addProperty(Dt,"bool","nativeScrolling"),s.addProperty(Dt,"real","prerender",.5),s.addProperty(Dt,"string","visibilityProperty"),s.addProperty(Dt,"BaseViewContent","content"),Dt.Contain=0,zt.Contain=0,Dt.Beginning=1,zt.Beginning=1,Dt.Center=2,zt.Center=2,Dt.End=3,zt.End=3,Dt.Visible=4,zt.Visible=4,Dt.Page=5,zt.Page=5,s.addProperty(Dt,"enum","positionMode"),Dt.discard=function(){this._detach(),b.BaseLayout.prototype.discard.apply(this)},Dt._processUpdates=function(){this._modelUpdate.apply(this),qml.core.BaseLayout.prototype._processUpdates.apply(this),this.count=this._items.length},Dt.focusCurrent=function(){var e=this.count;if(0!==e){var t=this.currentIndex;if(t<0||e<=t)this.keyNavigationWraps?this.currentIndex=(t+e)%e:this.currentIndex=t<0?0:e-1;else{var i=this._items[t];i&&this.focusChild(i),this.contentFollowsCurrentItem&&this.positionViewAtIndex(t)}}},Dt._attach=function(){var e=this._get("model",!0);if(!this._attached&&this.model&&this.delegate){this.trace&&log("attaching model...");var t=b.Model,i=typeof(e=this.model);if(void 0!==t&&e instanceof t);else if(Array.isArray(e))e=new b.model.ArrayModelWrapper(e);else{if("number"!=i)throw new Error("unknown value of type '"+typeof e+"', attached to model property: "+e+("object"==i&&"componentName"in e?", component name: "+e.componentName:""));for(var r=[],o=0;o<e;++o)r.push({});e=new b.model.ArrayModelWrapper(r)}e.on("reset",this._modelReset),e.on("rowsInserted",this._modelRowsInserted),e.on("rowsChanged",this._modelRowsChanged),e.on("rowsRemoved",this._modelRowsRemoved),this._attached=e,this._onReset()}},Dt._detach=function(){var e=this._get("model",!0);(e=this._attached)&&(this.trace&&log("detaching model..."),this._attached=null,e.removeListener("reset",this._modelReset),e.removeListener("rowsInserted",this._modelRowsInserted),e.removeListener("rowsChanged",this._modelRowsChanged),e.removeListener("rowsRemoved",this._modelRowsRemoved))},Dt._onReset=function(){var e=this._get("model",!0);e=this._attached;this.trace&&log("reset",this._items.length,e.count),this._modelUpdate.reset(e),this._scheduleLayout()},Dt.__complete=function(){Et.__complete.call(this);var t=this;this.element.on("scroll",function(e){t._updateScrollPositions(t.element.dom.scrollLeft,t.element.dom.scrollTop)}.bind(this))},Dt._updateItems=function(e,t){for(var i=e;i<t;++i)this._updateDelegate(i)},Dt._onRowsChanged=function(e,t){this.trace&&log("rows changed",e,t),this._modelUpdate.update(this._attached,e,t),this._scheduleLayout()},Dt._onRowsInserted=function(e,t){this.trace&&log("rows inserted",e,t),this._modelUpdate.insert(this._attached,e,t),this._scheduleLayout()},Dt._onRowsRemoved=function(e,t){this.trace&&log("rows removed",e,t),this._modelUpdate.remove(this._attached,e,t),this._scheduleLayout()},Dt._removeItems=function(e,t){var i=this._items.splice(e,t-e),r=this;i.forEach(function(e){r._discardItem(e)})},Dt._insertItems=function(e,t){var i=t-e+2,r=new Array(i);r[0]=e,r[1]=0;for(var o=2;o<i;++o)r[o]=null;Array.prototype.splice.apply(this._items,r)},Dt._updateDelegateIndex=function(e){var t=this._items[e];t&&(t._local.model.index=e,t._createPropertyStorage("_rowIndex").callOnChanged(t,"_rowIndex"))},Dt._updateDelegate=function(e){var t=this._items[e];if(t){var i=this._attached.get(e);i.index=e,t._local.model=i,t._createPropertyStorage("_row").callOnChanged(t,"_row")}},Dt._createDelegate=function(e){var t=this._items,i=t[e];if(null!=i)return i;var r=this.visibilityProperty,o=this._attached.get(e);return this.trace&&log("createDelegate",e,o),r&&!o[r]?null:(o.index=e,i=this.delegate(this,o),(t[e]=i).view=this,i.element.remove(),this.content.element.append(i.element),i.recursiveVisible=this.recursiveVisible&&i.visible&&i.visibleInView,i)},Dt._discardItem=function(e){null!==e&&(this.focusedChild===e&&(this.focusedChild=null),e.discard())},Dt.itemAt=function(e,t){var i=this.indexAt(e,t);return 0<=i?this._items[i]:null},Dt._updateScrollPositions=function(e,t,i){this._setProperty("contentX",e),this._setProperty("contentY",t),this.content._updateScrollPositions(e,t,i)},b._protoOnChanged(Dt,"model",function(e){this.trace&&log("model changed to ",e),this._detach(),this._modelUpdate.clear(),this._removeItems(0,this.count),this.count=0,this._scheduleLayout()}),b._protoOnChanged(Dt,"recursiveVisible",function(t){t&&this._scheduleLayout();var i=this;this._items.forEach(function(e){null!==e&&i._updateVisibilityForChild(e,t)}),this._updateVisibilityForChild(this.content,t)}),b._protoOnChanged(Dt,"delegate",function(e){e&&(e.visible=!1)}),b._protoOnChanged(Dt,"currentIndex",function(e){this.focusCurrent()}),b._protoOnChanged(Dt,"focusedChild",function(e){var t=this._items.indexOf(this.focusedChild);0<=t&&(this.currentIndex=t)});_=function(e){this._scheduleLayout()};b._protoOnChanged(Dt,"height",_),b._protoOnChanged(Dt,"width",_),b._protoOnChanged(Dt,"contentX",function(e){this.content.x=-e}),b._protoOnChanged(Dt,"contentY",function(e){this.content.y=-e}),Dt.$c=function(e){Et.$c.call(this,e.$b={});var t=new b.BaseViewContent(this);(e._this$content=t).$c(e.$c$_this$content={}),this.content=t},Dt.$s=function(e){var t=this;Et.$s.call(this,e.$b),delete e.$b,t._removeUpdater("keyNavigationWraps"),t.keyNavigationWraps=!0,t._removeUpdater("contentWidth"),t.contentWidth=1,t._removeUpdater("contentHeight"),t.contentHeight=1,t._removeUpdater("handleNavigationKeys"),t.handleNavigationKeys=!0;var i=e._this$content;i.$s(e.$c$_this$content),delete e.$c$_this$content;var r,o={behavior__this_content_on_y:r=new b.Animation(i)};r.$c(o.$c$behavior__this_content_on_y={}),(r=o.behavior__this_content_on_y).$s(o.$c$behavior__this_content_on_y),delete o.$c$behavior__this_content_on_y,r._replaceUpdater("duration",function(){r.duration=r.parent.parent.animationDuration},[r.parent.parent,"animationDuration"]),r._replaceUpdater("easing",function(){r.easing=r.parent.parent.animationEasing},[r.parent.parent,"animationEasing"]),r.completed(),i.setAnimation("y",r);var n,a={behavior__this_content_on_x:n=new b.Animation(i)};n.$c(a.$c$behavior__this_content_on_x={}),(n=a.behavior__this_content_on_x).$s(a.$c$behavior__this_content_on_x),delete a.$c$behavior__this_content_on_x,n._replaceUpdater("duration",function(){n.duration=n.parent.parent.animationDuration},[n.parent.parent,"animationDuration"]),n._replaceUpdater("easing",function(){n.easing=n.parent.parent.animationEasing},[n.parent.parent,"animationEasing"]),n.completed(),i.setAnimation("x",n);var s,c={behavior__this_content_on_transform:s=new b.Animation(i)};s.$c(c.$c$behavior__this_content_on_transform={}),(s=c.behavior__this_content_on_transform).$s(c.$c$behavior__this_content_on_transform),delete c.$c$behavior__this_content_on_transform,s._replaceUpdater("duration",function(){s.duration=s.parent.parent.animationDuration},[s.parent.parent,"animationDuration"]),s._replaceUpdater("easing",function(){s.easing=s.parent.parent.animationEasing},[s.parent.parent,"animationEasing"]),s.completed(),i.setAnimation("transform",s),i.completed(),t.completed()};var Rt=b.BaseView,Bt=Rt.prototype,Ft=b.ListView=function(e,t){Rt.apply(this,arguments)},Wt=Ft.prototype=Object.create(Bt);Wt.constructor=Ft,Wt.componentName="core.ListView",Wt.Vertical=0,Ft.Vertical=0,Wt.Horizontal=1,Ft.Horizontal=1,s.addProperty(Wt,"enum","orientation"),Wt._updateOverflow=function(){if(this.nativeScrolling){var e={};this.orientation===this.Horizontal?(e["overflow-x"]="auto",e["overflow-y"]="hidden"):(e["overflow-x"]="hidden",e["overflow-y"]="auto"),this.style(e)}},Wt.__complete=function(){Bt.__complete.call(this),this._updateOverflow()},Wt.move=function(e,t){var i,r,o=this.orientation===this.Horizontal;o&&this.contentWidth>this.width?((i=this.contentX+e)<0?i=0:i>this.contentWidth-this.width&&(i=this.contentWidth-this.width),this.contentX=i):!o&&this.contentHeight>this.height&&((r=this.contentY+t)<0?r=0:r>this.contentHeight-this.height&&(r=this.contentHeight-this.height),this.contentY=r)},Wt.positionViewAtIndex=function(e){this.trace&&log("positionViewAtIndex "+e);var t=this.contentX,i=this.contentY,r=this.getItemPosition(e),o=r[0],n=r[1],a=r[2],s=r[3],c=this.width,l=this.height,h=this.orientation===this.Horizontal,d=this.positionMode===this.Center;if(h){var p=o-c/2+a/2;d&&this.contentWidth>c?this.contentX=p<0?0:o>this.contentWidth-c/2-a/2?this.contentWidth-c:p:c<a?this.contentX=p:o-t<0?this.contentX=o:c<o-t+a&&(this.contentX=o+a-c)}else{p=n-l/2+s/2;d&&this.contentHeight>l?this.contentY=p<0?0:n>this.contentHeight-l/2-s/2?this.contentHeight-l:p:l<s?this.contentY=p:n-i<0?this.contentY=n:l<n-i+s&&(this.contentY=n+s-l)}},Wt._createDelegate=function(e){var t=b.BaseView.prototype._createDelegate.apply(this,arguments);return t.onChanged("width",this._scheduleLayout.bind(this)),t.onChanged("height",this._scheduleLayout.bind(this)),t},Wt.getItemPosition=function(e){var t=this._items,i=t[e];if(i)return[i.viewX+i.x,i.viewY+i.y,i.width,i.height];for(var r=0,o=0,n=0,a=0,s=e;0<=s;--s)if(t[s]){r=(i=t[s]).viewX+i.x,o=i.viewY+i.y,n=i.width,a=i.height;break}var c=e-s;return 0<c&&(r+=c*(n+this.spacing),o+=c*(a+this.spacing)),[r,o,n,a]},Wt._layout=function(e){var t=this._get("model",!0);if(t=this._attached)if(this.count=t.count,this.recursiveVisible||this.offlineLayout){var i=this.orientation===this.Horizontal,r=this._items,o=r.length,n=this.width,a=this.height,s=!1,c=0,l=i?this.content.x:this.content.y,h=i?n:a,d=0,p=0,u=0,g=e?0:this.prerender*h,f=-g,_=h+g;this.trace&&log("layout "+o+" into "+n+"x"+a+" @ "+this.content.x+","+this.content.y+", prerender: "+g+", range: "+f+":"+_);for(var m=0;m<o&&(0===u||c+l<_);++m){if(!(b=r[m])){if(_<=c+l&&0<u)break;b=this._createDelegate(m),s=!0}++u;var v=i?b.width:b.height,y=0<=c+l+v&&c+l<h;b.x+b.width>d&&(d=b.width+b.x),b.y+b.height>p&&(p=b.height+b.y),i?b.viewX=c:b.viewY=c,this.currentIndex!==m||b.focused||(this.focusChild(b),this.contentFollowsCurrentItem&&this.size&&this.positionViewAtIndex(m)),b.visibleInView=y,c+=v+this.spacing}for(;m<o;++m){var b;(b=r[m])&&(b.visibleInView=!1)}0<c&&(c-=this.spacing),u&&(c*=r.length/u),this.trace&&log("result: "+c+", max: "+d+"x"+p),i?(this.content.width=c,this.content.height=p,this.contentWidth=c,this.contentHeight=p):(this.content.width=d,this.content.height=c,this.contentWidth=d,this.contentHeight=c),this.layoutFinished(),s&&this._context.scheduleComplete()}else this.layoutFinished();else this.layoutFinished()},Wt.indexAt=function(e,t){var i=this._items;if(e+=this.contentX,t+=this.contentY,this.orientation===x.core.ListView.prototype.Horizontal)for(var r=0;r<i.length;++r){if(n=i[r]){var o=n.viewX;if(o<=e&&e<o+n.width)return r}}else for(r=0;r<i.length;++r){var n;if(n=i[r]){var a=n.viewY;if(a<=t&&t<a+n.height)return r}}return-1},b._protoOnChanged(Wt,"orientation",function(e){this._updateOverflow(),this._scheduleLayout()}),b._protoOnKey(Wt,"Key",function(e,t){if(!this.handleNavigationKeys)return t.accepted=!1;if(this.orientation===this.Horizontal){if("Left"===e)return 0!==this.currentIndex||this.keyNavigationWraps?(0===this.currentIndex&&this.keyNavigationWraps?this.currentIndex=this.count-1:--this.currentIndex,t.accepted=!0):t.accepted=!1;if("Right"===e)return this.currentIndex!==this.count-1||this.keyNavigationWraps?(this.currentIndex===this.count-1&&this.keyNavigationWraps?this.currentIndex=0:++this.currentIndex,t.accepted=!0):t.accepted=!1}else{if("Up"===e)return 0!==this.currentIndex||this.keyNavigationWraps?(0===this.currentIndex&&this.keyNavigationWraps?this.currentIndex=this.count-1:--this.currentIndex,!0):t.accepted=!1;if("Down"===e)return this.currentIndex!==this.count-1||this.keyNavigationWraps?(this.currentIndex===this.count-1&&this.keyNavigationWraps?this.currentIndex=0:++this.currentIndex,t.accepted=!0):t.accepted=!1}}),Wt.$c=function(e){Bt.$c.call(this,e.$b={})},Wt.$s=function(e){Bt.$s.call(this,e.$b),delete e.$b,this.completed()};var Nt=b.Object,Ht=Nt.prototype,jt=b.Border=function(e,t){Nt.apply(this,arguments)},Vt=jt.prototype=Object.create(Ht);Vt.constructor=jt,Vt.componentName="core.Border",s.addProperty(Vt,"int","width"),s.addProperty(Vt,"color","color","black"),s.addLazyProperty(Vt,"left",function(e,t){var i,r={lazy$left:i=new b.BorderSide(e,t)};return i.$c(r.$c$lazy$left={}),(i=r.lazy$left).$s(r.$c$lazy$left),delete r.$c$lazy$left,i._removeUpdater("name"),i.name="left",i.completed(),i}),s.addLazyProperty(Vt,"right",function(e,t){var i,r={lazy$right:i=new b.BorderSide(e,t)};return i.$c(r.$c$lazy$right={}),(i=r.lazy$right).$s(r.$c$lazy$right),delete r.$c$lazy$right,i._removeUpdater("name"),i.name="right",i.completed(),i}),s.addLazyProperty(Vt,"top",function(e,t){var i,r={lazy$top:i=new b.BorderSide(e,t)};return i.$c(r.$c$lazy$top={}),(i=r.lazy$top).$s(r.$c$lazy$top),delete r.$c$lazy$top,i._removeUpdater("name"),i.name="top",i.completed(),i}),s.addLazyProperty(Vt,"bottom",function(e,t){var i,r={lazy$bottom:i=new b.BorderSide(e,t)};return i.$c(r.$c$lazy$bottom={}),(i=r.lazy$bottom).$s(r.$c$lazy$bottom),delete r.$c$lazy$bottom,i._removeUpdater("name"),i.name="bottom",i.completed(),i}),Vt.None=0,jt.None=0,Vt.Hidden=1,jt.Hidden=1,Vt.Dotted=2,jt.Dotted=2,Vt.Dashed=3,jt.Dashed=3,Vt.Solid=4,jt.Solid=4,Vt.Double=5,jt.Double=5,Vt.Groove=6,jt.Groove=6,Vt.Ridge=7,jt.Ridge=7,Vt.Inset=8,jt.Inset=8,Vt.Outset=9,jt.Outset=9,s.addProperty(Vt,"enum","style",jt.Solid),Vt.Inner=0,jt.Inner=0,Vt.Outer=1,jt.Outer=1,Vt.Center=2,jt.Center=2,s.addProperty(Vt,"enum","type"),b._protoOnChanged(Vt,"color",function(e){var t=b.Color.normalize(this.color);this.parent.style("border-color",t)}),b._protoOnChanged(Vt,"width",function(e){var t=this.parent;t.style("border-width",e),this.type===this.Outer?(t._borderXAdjust=-e,t._borderYAdjust=-e,t._setSizeAdjust()):this.type===this.Center&&(t._borderXAdjust=-e/2,t._borderYAdjust=-e/2,t._borderWidthAdjust=-e,t._borderHeightAdjust=-e,t._setSizeAdjust())}),b._protoOnChanged(Vt,"type",function(e){var t;switch(e){case this.Inner:t="border-box";break;case this.Outer:case this.Center:t="content-box"}this.parent.style("box-sizing",t)}),b._protoOnChanged(Vt,"style",function(e){var t;switch(e){case this.None:t="none";break;case this.Hidden:t="hidden";break;case this.Dotted:t="dotted";break;case this.Dashed:t="dashed";break;case this.Solid:t="solid";break;case this.Double:t="double";break;case this.Groove:t="groove";break;case this.Ridge:t="ridge";break;case this.Inset:t="inset";break;case this.Outset:t="outset"}this.parent.style("border-style",t)}),Vt.$c=function(e){Ht.$c.call(this,e.$b={})},Vt.$s=function(e){Ht.$s.call(this,e.$b),delete e.$b,this.completed()};var Yt=b.Text,Xt=Yt.prototype,Gt=$.TinyText=function(e,t){Yt.apply(this,arguments)},qt=Gt.prototype=Object.create(Xt);qt.constructor=Gt,qt.componentName="src.TinyText",qt.$c=function(e){Xt.$c.call(this,e.$b={})},qt.$s=function(e){Xt.$s.call(this,e.$b),delete e.$b,this.font._removeUpdater("pixelSize"),this.font.pixelSize=20,this.completed()};var Kt=b.Object,Jt=Kt.prototype,Zt=b.Timer=function(e,t){Kt.apply(this,arguments),this._trigger=this._context.wrapNativeCallback(this.triggered.bind(this))},Qt=Zt.prototype=Object.create(Jt);Qt.constructor=Zt,Qt.componentName="core.Timer",Qt.triggered=b.createSignal("triggered"),s.addProperty(Qt,"int","interval",1e3),s.addProperty(Qt,"bool","repeat"),s.addProperty(Qt,"bool","running"),s.addProperty(Qt,"bool","triggeredOnStart"),Qt._restart=function(){if(this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._interval&&(clearTimeout(this._interval),this._interval=void 0),this.running){this._context;this.repeat?this._interval=setInterval(this._trigger,this.interval):this._timeout=setTimeout(this._trigger,this.interval)}},Qt.__complete=function(){Jt.__complete.call(this),this.running&&this.triggeredOnStart&&this.triggered()},Qt.stop=function(){this.running=!1},Qt.start=function(){this.running=!0},Qt.restart=function(){this.stop(),this.start()},b._protoOnChanged(Qt,"running",function(e){this._restart(),e&&this.triggeredOnStart&&(this._triggered=!1,this.triggered())});_=function(e){this._restart()};b._protoOnChanged(Qt,"interval",_),b._protoOnChanged(Qt,"repeat",_),b._protoOn(Qt,"triggered",function(){this.repeat||this.triggeredOnStart&&!this._triggered||(this.running=!1),this._triggered=!0}),Qt.$c=function(e){Jt.$c.call(this,e.$b={})},Qt.$s=function(e){Jt.$s.call(this,e.$b),delete e.$b,this.completed()};var ei=b.Object,ti=ei.prototype,ii=b.Effects=function(e,t){ei.apply(this,arguments)},ri=ii.prototype=Object.create(ti);ri.constructor=ii,ri.componentName="core.Effects",s.addProperty(ri,"real","blur"),s.addProperty(ri,"real","grayscale"),s.addProperty(ri,"real","sepia"),s.addProperty(ri,"real","brightness"),s.addProperty(ri,"real","contrast"),s.addProperty(ri,"real","hueRotate"),s.addProperty(ri,"real","invert"),s.addProperty(ri,"real","saturate"),s.addLazyProperty(ri,"shadow",function(e,t){var i,r={lazy$shadow:i=new b.Shadow(e,t)};return i.$c(r.$c$lazy$shadow={}),(i=r.lazy$shadow).$s(r.$c$lazy$shadow),delete r.$c$lazy$shadow,i.completed(),i}),ri._getFilterStyle=function(){var e=[];return this._addStyle(e,"blur","blur","px"),this._addStyle(e,"grayscale"),this._addStyle(e,"sepia"),this._addStyle(e,"brightness"),this._addStyle(e,"contrast"),this._addStyle(e,"hueRotate","hue-rotate","deg"),this._addStyle(e,"invert"),this._addStyle(e,"saturate"),e},ri._addStyle=function(e,t,i,r){var o=this[t];o&&e.push((i||t)+"("+o+(r||"")+") ")},ri._updateStyle=function(e){var t=this._getFilterStyle().join(""),i=this.parent,r={};r["-webkit-filter"]=t,r.filter=t,!this.shadow||this.shadow._empty()&&!e||(r["box-shadow"]=this.shadow._getFilterStyle()),i.style(r)};_=function(e){this._updateStyle()};b._protoOnChanged(ri,"saturate",_),b._protoOnChanged(ri,"brightness",_),b._protoOnChanged(ri,"grayscale",_),b._protoOnChanged(ri,"sepia",_),b._protoOnChanged(ri,"invert",_),b._protoOnChanged(ri,"hueRotate",_),b._protoOnChanged(ri,"contrast",_),b._protoOnChanged(ri,"blur",_),ri.$c=function(e){ti.$c.call(this,e.$b={})},ri.$s=function(e){ti.$s.call(this,e.$b),delete e.$b,this.completed()};var oi=b.Rectangle,ni=oi.prototype,ai=$.TextButton=function(e,t){oi.apply(this,arguments)},si=ai.prototype=Object.create(ni);si.constructor=ai,si.componentName="src.TextButton",s.addProperty(si,"string","text",""),si.$c=function(e){ni.$c.call(this,e.$b={});var t=new $.MainText(this);(e._this$child0=t).$c(e.$c$_this$child0={}),t._setId("buttonInnerText"),this.addChild(t),this._setId("buttonProto")},si.$s=function(e){var t=this;ni.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("color",function(){t.color=t.activeFocus?t._get("colorTheme").accentColor:t._get("colorTheme").focusablePanelColor},[t,"activeFocus",t._get("colorTheme"),"accentColor",t._get("colorTheme"),"focusablePanelColor"]),t._removeUpdater("focus"),t.focus=!0,t._replaceUpdater("height",function(){t.height=t._get("buttonInnerText").paintedHeight+20},[t._get("buttonInnerText"),"paintedHeight"]),t._replaceUpdater("width",function(){t.width=t._get("buttonInnerText").paintedWidth+20},[t._get("buttonInnerText"),"paintedWidth"]),t._removeUpdater("radius"),t.radius=4;var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i._replaceUpdater("color",function(){i.color=i._get("colorTheme").textColor},[i._get("colorTheme"),"textColor"]),i._replaceUpdater("text",function(){i.text=i._get("buttonProto").text},[i._get("buttonProto"),"text"]),i.anchors._removeUpdater("centerIn"),i.anchors.centerIn=i.parent,i.completed();var r,o={behavior__this_on_color:r=new b.ColorAnimation(t)};r.$c(o.$c$behavior__this_on_color={}),(r=o.behavior__this_on_color).$s(o.$c$behavior__this_on_color),delete o.$c$behavior__this_on_color,r._removeUpdater("duration"),r.duration=300,r.completed(),t.setAnimation("color",r),t.completed()};var ci=b.Item,li=ci.prototype,hi=b.Context=function(e,t){ci.apply(this,arguments),this.options=arguments[2],this.l10n=this.options.l10n||{},((this._local.context=this)._context=this)._started=!1,this._completed=!1,this._processingActions=!1,this._delayedActions=[],this._completedObjects=[],this._stylesRegistered={},this._asyncInvoker=b.safeCall(this,[],function(e){log("async action failed:",e,e.stack)}),this.backend=x._backend(),this._init()},di=hi.prototype=Object.create(li);di.constructor=hi,di.componentName="core.Context",s.addProperty(di,"int","scrollY"),s.addProperty(di,"int","keyProcessDelay"),s.addProperty(di,"bool","fullscreen"),s.addProperty(di,"string","language"),s.addProperty(di,"System","system"),s.addProperty(di,"Location","location"),s.addProperty(di,"Stylesheet","stylesheet"),s.addProperty(di,"string","buildIdentifier","Powered by PureQML No-Partnership Edition Engine"),di._processActions=function(){if(this._started&&!this._processingActions){this._processingActions=!0;for(var e=this._asyncInvoker;this._delayedActions.length||this._completedObjects.length;){var t=this._delayedActions;this._delayedActions=[];for(var i=0,r=t.length;i<r;++i)e(t[i]);var o=this._completedObjects;this._completedObjects=[];for(i=0,r=o.length;i<r;++i){var n=o[i];try{n.__complete()}catch(e){log("onCompleted failed",e,e.stack)}}}this._processingActions=!1,this.backend.tick(this)}},di._init=function(){log("Context: initializing..."),new this.backend.init(this)},di._run=function(){log("Context: signalling layout"),this.visibleInView=!0,this.newBoundingBox(),log("Context: calling completed()"),this._started=!0,this._processActions(),this._completed=!0},di.init=function(){this.__init(),this.backend.initSystem(this.system)},di.run=function(){this.backend.run(this,this._run.bind(this))},di.scheduleComplete=function(){this._get("context",!0);this.delayedAction("context:completed",this,this._processActions)},di.tr=function(){return this.qsTr.apply(this,arguments)},di.scheduleAction=function(e){this._delayedActions.push(e)},di.wrapNativeCallback=function(t){var i=this;return function(){try{var e=t.apply(this,arguments);return i._processActions(),e}catch(e){throw i._processActions(),e}}},di.processKey=function(e){for(var t=s.forEach(this,b.Item.prototype._enqueueNextChildInFocusChain,[]),i=t.length,r=0;r<i;++r){if(t[r]._processKey(e))return!0}return!1},di.start=function(e){return this.children.push(e),e.__init(),log("Context: created instance"),e},di.registerStyle=function(e,t,i){var r=(i=this.mangleClass(i))?t+"."+i:t;r in this._stylesRegistered||(e.registerStyle(this.stylesheet,r),this._stylesRegistered[r]=!0)},di.mangleClass=function(e){return $manifest$html5$prefix+e},di.delayedAction=function(e,t,i,r){if(t._registerDelayedAction(e)){var o=function(){t._cancelDelayedAction(e),i.call(t)};0<r?setTimeout(o,r):0===r?this.backend.requestAnimationFrame(o):this.scheduleAction(o)}},di.__onCompleted=function(e){this._completedObjects.push(e)},di.createElement=function(e,t){return this.backend.createElement(this,e,t)},di.qsTr=function(e){var i=arguments,t=this.language,r=(this.l10n[t]||{})[e]||{};for(var o in r){e=r[o];break}return e.replace(/%(\d+)/,function(e,t){return i[t]})},b._protoOnChanged(di,"fullscreen",function(e){e?this.backend.enterFullscreenMode(this.element):this.backend.exitFullscreenMode()}),di.$c=function(e){var t=this;li.$c.call(this,e.$b={});var i=new a.Stylesheet(t);(e._this$stylesheet=i).$c(e.$c$_this$stylesheet={}),t.stylesheet=i;var r=new b.System(t);(e._this$system=r).$c(e.$c$_this$system={}),t.system=r;var o=new b.Location(t);(e._this$location=o).$c(e.$c$_this$location={}),t.location=o},di.$s=function(e){li.$s.call(this,e.$b),delete e.$b;var t=e._this$stylesheet;t.$s(e.$c$_this$stylesheet),delete e.$c$_this$stylesheet,t.completed();var i=e._this$system;i.$s(e.$c$_this$system),delete e.$c$_this$system,i.completed(),this._removeUpdater("visibleInView"),this.visibleInView=!1;var r=e._this$location;r.$s(e.$c$_this$location),delete e.$c$_this$location,r.completed(),this.completed()};var pi=b.Text,ui=pi.prototype,gi=$.SmallText=function(e,t){pi.apply(this,arguments)},fi=gi.prototype=Object.create(ui);fi.constructor=gi,fi.componentName="src.SmallText",fi.$c=function(e){ui.$c.call(this,e.$b={})},fi.$s=function(e){ui.$s.call(this,e.$b),delete e.$b,this.font._removeUpdater("pixelSize"),this.font.pixelSize=22,this.completed()};var _i=n.Activity,mi=_i.prototype,vi=$.OsdPage=function(e,t){_i.apply(this,arguments)},yi=vi.prototype=Object.create(mi);yi.constructor=vi,yi.componentName="src.OsdPage",yi.$c=function(e){var t=this;mi.$c.call(this,e.$b={});var i=new b.Rectangle(t);(e._this$child0=i).$c(e.$c$_this$child0={}),t.addChild(i);var r=new $.Data(t);(e._this$child1=r).$c(e.$c$_this$child1={}),t.addChild(r);var o=new $.BackgroundPreview(t);(e._this$child2=o).$c(e.$c$_this$child2={}),o._setId("bgPreview"),t.addChild(o);var n=new $.Menu(t);(e._this$child3=n).$c(e.$c$_this$child3={}),n._setId("menu"),t.addChild(n);var a=new $.DescriptionPanel(t);(e._this$child4=a).$c(e.$c$_this$child4={}),a._setId("descriptionPanel"),t.addChild(a),t._setId("osdPageProto")},yi.$s=function(e){mi.$s.call(this,e.$b),delete e.$b,this.anchors._removeUpdater("fill"),this.anchors.fill=this.parent;var t=e._this$child0;t.$s(e.$c$_this$child0),delete e.$c$_this$child0,t._removeUpdater("color"),t.color="#000",t.anchors._removeUpdater("fill"),t.anchors.fill=t.parent,t.completed();var i=e._this$child1;i.$s(e.$c$_this$child1),delete e.$c$_this$child1,i.__complete=function(){var e=this._get("menu",!0);$.Data.prototype.__complete.call(this),e.fill(this.value)}.bind(i),i.completed();var r=e._this$child2;r.$s(e.$c$_this$child2),delete e.$c$_this$child2,r.completed();var o=e._this$child3;o.$s(e.$c$_this$child3),delete e.$c$_this$child3,o.anchors._removeUpdater("leftMargin"),o.anchors.leftMargin=50,o.anchors._removeUpdater("rightMargin"),o.anchors.rightMargin=50,o.anchors._removeUpdater("topMargin"),o.anchors.topMargin=70,o.anchors._removeUpdater("fill"),o.anchors.fill=o.parent,o.on("itemFocused",function(e){var t=this._get("bgPreview",!0);e&&e.preview&&e.preview.length&&t.setPreview(e.preview[0])}.bind(o)),o.on("itemSelected",function(e){var t=this._get("descriptionPanel",!0),i=(this._get("player",!0),this._get("osdPageProto",!0));(this._get("mainWindow",!0).currentPlay=e).program?i.push("player",e):t.show(e)}.bind(o)),o.completed();var n=e._this$child4;n.$s(e.$c$_this$child4),delete e.$c$_this$child4,n.on("play",function(e){this._get("player",!0);this._get("osdPageProto",!0).push("player",e)}.bind(n)),n.onPressed("Back",function(e,t){var i=this._get("menu",!0);this.visible=!1,i.setFocus()}.bind(n)),n.completed(),this.completed()};var bi=b.Object,$i=bi.prototype,wi=b.Transform=function(e,t){bi.apply(this,arguments),this._transforms={}},xi=wi.prototype=Object.create($i);xi.constructor=wi,xi.componentName="core.Transform",s.addProperty(xi,"int","perspective"),s.addProperty(xi,"int","translateX"),s.addProperty(xi,"int","translateY"),s.addProperty(xi,"int","translateZ"),s.addProperty(xi,"real","rotateX"),s.addProperty(xi,"real","rotateY"),s.addProperty(xi,"real","rotateZ"),s.addProperty(xi,"real","rotate"),s.addProperty(xi,"real","scaleX"),s.addProperty(xi,"real","scaleY"),s.addProperty(xi,"real","skewX"),s.addProperty(xi,"real","skewY"),xi._updateTransform=function(){var e="";for(var t in this._transforms)e+=t,e+="("+this._transforms[t]+") ";this.parent.style("transform",e)},b._protoOnChanged(xi,"perspective",function(e){this._transforms.perspective=e+"px",this._updateTransform()}),b._protoOnChanged(xi,"rotate",function(e){this._transforms.rotate=e+"deg",this._updateTransform()}),b._protoOnChanged(xi,"rotateX",function(e){this._transforms.rotateX=e+"deg",this._updateTransform()}),b._protoOnChanged(xi,"rotateY",function(e){this._transforms.rotateY=e+"deg",this._updateTransform()}),b._protoOnChanged(xi,"rotateZ",function(e){this._transforms.rotateZ=e+"deg",this._updateTransform()}),b._protoOnChanged(xi,"scaleX",function(e){this._transforms.scaleX=e,this._updateTransform()}),b._protoOnChanged(xi,"scaleY",function(e){this._transforms.scaleY=e,this._updateTransform()}),b._protoOnChanged(xi,"skewX",function(e){this._transforms.skewX=e+"deg",this._updateTransform()}),b._protoOnChanged(xi,"skewY",function(e){this._transforms.skewY=e+"deg",this._updateTransform()}),b._protoOnChanged(xi,"translateX",function(e){this._transforms.translateX=e+"px",this._updateTransform()}),b._protoOnChanged(xi,"translateY",function(e){this._transforms.translateY=e+"px",this._updateTransform()}),b._protoOnChanged(xi,"translateZ",function(e){this._transforms.translateZ=e+"px",this._updateTransform()}),xi.$c=function(e){$i.$c.call(this,e.$b={})},xi.$s=function(e){$i.$s.call(this,e.$b),delete e.$b,this.completed()};var Ci=b.Item,ki=Ci.prototype,Ai=$.Menu=function(e,t){Ci.apply(this,arguments)},Pi=Ai.prototype=Object.create(ki);Pi.constructor=Ai,Pi.componentName="src.Menu",Pi.itemFocused=b.createSignal("itemFocused"),Pi.itemSelected=b.createSignal("itemSelected"),s.addProperty(Pi,"bool","showed",!0),Pi.show=function(){var e=this._get("innerMenuView",!0);this.showed=!0,e.setFocus()},Pi.hide=function(){this.showed=!1},Pi.fill=function(e){var t=this._get("menuModel",!0);if(e&&e.root)for(var i in t.reset(),e.root){var r=e.root[i].target;t.append({text:e.root[i].text,content:e[r]})}else log("Can't read data from file.")},Pi.$c=function(e){var t=this;ki.$c.call(this,e.$b={});var i=new b.ListModel(t);(e._this$child0=i).$c(e.$c$_this$child0={}),i._setId("menuModel"),t.addChild(i);var r=new b.ListModel(t);(e._this$child1=r).$c(e.$c$_this$child1={}),r._setId("menuDelegateModel"),t.addChild(r);var o=new b.ListView(t);(e._this$child2=o).$c(e.$c$_this$child2={}),o.delegate=function(e,t){var i,r={delegate:i=new $.MenuDelegate(e,t)};return i.$c(r.$c$delegate={}),(i=r.delegate).$s(r.$c$delegate),delete r.$c$delegate,i.on("itemSelected",function(e){var t=this._get("innerMenuView",!0),i=this._get("octoMenuProto",!0),r=t.getItemPosition(t.currentIndex);e.x+=i.x+t.x,e.y+=i.y+t.y+r[1]-t.contentY,i.itemSelected(e)}.bind(i)),i.on("itemFocused",function(e){this._get("octoMenuProto",!0).itemFocused(e)}.bind(i)),i.completed(),i},o._setId("innerMenuView"),t.addChild(o),t._setId("octoMenuProto")},Pi.$s=function(e){var t=this;ki.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("visible",function(){t.visible=t.showed},[t,"showed"]),t._replaceUpdater("focus",function(){t.focus=t.showed},[t,"showed"]);var i=e._this$child0;i.$s(e.$c$_this$child0),delete e.$c$_this$child0,i.completed();var r=e._this$child1;r.$s(e.$c$_this$child1),delete e.$c$_this$child1,r.completed();var o=e._this$child2;o.$s(e.$c$_this$child2),delete e.$c$_this$child2,o._removeUpdater("keyNavigationWraps"),o.keyNavigationWraps=!1,o.content._removeUpdater("cssTranslatePositioning"),o.content.cssTranslatePositioning=!0,o._removeUpdater("animationDuration"),o.animationDuration=300,o._removeUpdater("positionMode"),o.positionMode=x.core.ListView.prototype.Center,o._replaceUpdater("model",function(){o.model=o._get("menuModel")},[o,"menuModel"]),o.anchors._removeUpdater("fill"),o.anchors.fill=o.parent,o.completed(),t.completed()};var Ii=b.Object,Ti=Ii.prototype,Si=b.BorderSide=function(e,t){Ii.apply(this,arguments)},Oi=Si.prototype=Object.create(Ti);Oi.constructor=Si,Oi.componentName="core.BorderSide",s.addProperty(Oi,"string","name"),s.addProperty(Oi,"int","width"),s.addProperty(Oi,"color","color"),s.addProperty(Oi,"int","style"),Oi._updateStyle=function(){if(this.parent&&this.parent.parent&&this.name){var e;b.Border;switch(this.style){case x.core.Border.prototype.None:e="none";break;case x.core.Border.prototype.Hidden:e="hidden";break;case x.core.Border.prototype.Dotted:e="dotted";break;case x.core.Border.prototype.Dashed:e="dashed";break;case x.core.Border.prototype.Solid:e="solid";break;case x.core.Border.prototype.Double:e="double";break;case x.core.Border.prototype.Groove:e="groove";break;case x.core.Border.prototype.Ridge:e="ridge";break;case x.core.Border.prototype.Inset:e="inset";break;case x.core.Border.prototype.Outset:e="outset"}var t=this.width+"px "+e+" "+b.Color.normalize(this.color);this.parent.parent.style("border-"+this.name,t)}};_=function(e){this._updateStyle()};b._protoOnChanged(Oi,"width",_),b._protoOnChanged(Oi,"color",_),b._protoOnChanged(Oi,"style",_),Oi.$c=function(e){Ti.$c.call(this,e.$b={})},Oi.$s=function(e){var t=this;Ti.$s.call(this,e.$b),delete e.$b,t._replaceUpdater("color",function(){t.color=t.parent.color},[t.parent,"color"]),t._replaceUpdater("width",function(){t.width=t.parent.width},[t.parent,"width"]),t._replaceUpdater("style",function(){t.style=t.parent.style},[t.parent,"style"]),t.completed()};var Ui=b.Object,Mi=Ui.prototype,Li=b.Model=function(e,t){Ui.apply(this,arguments)},Ei=Li.prototype=Object.create(Mi);Ei.constructor=Li,Ei.componentName="core.Model",Ei.reset=b.createSignal("reset"),Ei.rowsChanged=b.createSignal("rowsChanged"),Ei.rowsRemoved=b.createSignal("rowsRemoved"),Ei.rowsInserted=b.createSignal("rowsInserted"),s.addProperty(Ei,"int","count"),Ei.$c=function(e){Mi.$c.call(this,e.$b={})},Ei.$s=function(e){Mi.$s.call(this,e.$b),delete e.$b,this.completed()};var zi=b.Model,Di=zi.prototype,Ri=b.ListModel=function(e,t){zi.apply(this,arguments),this._rows=[]},Bi=Ri.prototype=Object.create(Di);Bi.constructor=Ri,Bi.componentName="core.ListModel",s.addProperty(Bi,"array","data"),Bi.clear=function(){this.assign([])},Bi.forEach=function(e){return this._rows.forEach(e)},Bi.addChild=function(e){this.append(e)},Bi.get=function(e){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");var t=this._rows[e];if(!(t instanceof Object))throw new Error("row is non-object");return t.index=e,t},Bi.remove=function(e,t){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds");void 0===t&&(t=1),this._rows.splice(e,t),this.count=this._rows.length,this.rowsRemoved(e,e+t)},Bi.setProperty=function(e,t,i){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");var r=this._rows[e];if(!(r instanceof Object))throw new Error("row is non-object, invalid index? ("+e+")");r[t]!==i&&(r[t]=i,this.rowsChanged(e,e+1))},Bi.insert=function(e,t){if(e<0||e>this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");this._rows.splice(e,0,t),this.count=this._rows.length,this.rowsInserted(e,e+1)},Bi.set=function(e,t){if(e<0||e>=this._rows.length)throw new Error("index "+e+" out of bounds ("+this._rows.length+")");if(!(t instanceof Object))throw new Error("row is non-object");this._rows[e]=t,this.rowsChanged(e,e+1)},Bi.append=function(e){var t=this._rows.length;Array.isArray(e)?(Array.prototype.push.apply(this._rows,e),this.count=this._rows.length,this.rowsInserted(t,t+e.length)):(this._rows.push(e),this.count=this._rows.length,this.rowsInserted(t,t+1))},Bi.assign=function(e){this._rows=e,this.count=this._rows.length,this.reset()},b._protoOnChanged(Bi,"data",function(e){this.assign(e)}),Bi.$c=function(e){Di.$c.call(this,e.$b={})},Bi.$s=function(e){Di.$s.call(this,e.$b),delete e.$b,this.completed()};var Fi=b.Object,Wi=Fi.prototype,Ni=b.Location=function(e,t){Fi.apply(this,arguments);var i=b.__locationBackend;if(!i)throw new Error("no backend found");this.impl=i().createLocation(this)},Hi=Ni.prototype=Object.create(Wi);Hi.constructor=Ni,Hi.componentName="core.Location",s.addProperty(Hi,"string","hash"),s.addProperty(Hi,"string","host"),s.addProperty(Hi,"string","href"),s.addProperty(Hi,"string","port"),s.addProperty(Hi,"string","origin"),s.addProperty(Hi,"string","hostname"),s.addProperty(Hi,"string","pathname"),s.addProperty(Hi,"string","protocol"),s.addProperty(Hi,"string","search"),s.addProperty(Hi,"Object","state"),Hi.changeHref=function(e){this.impl.changeHref(e)},Hi.pushState=function(e,t,i){this.impl.pushState(e,t,i)},Hi.$c=function(e){Wi.$c.call(this,e.$b={})},Hi.$s=function(e){Wi.$s.call(this,e.$b),delete e.$b,this.completed()};var ji=b.Object,Vi=ji.prototype,Yi=b.Anchors=function(e,t){ji.apply(this,arguments),this._items=[],this._grabX=!1,this._grabY=!1},Xi=Yi.prototype=Object.create(Vi);Xi.constructor=Yi,Xi.componentName="core.Anchors",s.addProperty(Xi,"AnchorLine","bottom"),s.addProperty(Xi,"AnchorLine","verticalCenter"),s.addProperty(Xi,"AnchorLine","top"),s.addProperty(Xi,"AnchorLine","left"),s.addProperty(Xi,"AnchorLine","horizontalCenter"),s.addProperty(Xi,"AnchorLine","right"),s.addProperty(Xi,"Item","fill"),s.addProperty(Xi,"Item","centerIn"),s.addProperty(Xi,"int","margins"),s.addProperty(Xi,"int","bottomMargin"),s.addProperty(Xi,"int","topMargin"),s.addProperty(Xi,"int","leftMargin"),s.addProperty(Xi,"int","rightMargin"),Xi._scheduleUpdate=function(){this._context.delayedAction("update-anchors",this,this._updateAll)},Xi._updateAll=function(){function e(e){var t,i=e[0],r=e[1],o=C.indexOf(i);return o<0?(t=i.toScreen(),C.push(i),k.push(t)):t=k[o],t[r]}var t,i,r,o,n,a,s=this,c=s.parent,l=c.parent.toScreen(),h=l[0],d=l[1],p=s.fill,u=s._getAnchor("left")||(p?p.left:null),g=s._getAnchor("right")||(p?p.right:null),f=s._getAnchor("top")||(p?p.top:null),_=s._getAnchor("bottom")||(p?p.bottom:null),m=s.centerIn,v=s._getAnchor("horizontalCenter")||(m?m.horizontalCenter:null),y=s._getAnchor("verticalCenter")||(m?m.verticalCenter:null),b=s.leftMargin||s.margins,$=s.rightMargin||s.margins,w=s.topMargin||s.margins,x=s.bottomMargin||s.margins,C=[],k=[];u&&g?(t=e(u),r=e(g),c.x=t+b-h-c.viewX,c.width=r-t-$-b):u&&v?(t=e(u),n=e(v),c.x=t+b-h-c.viewX,c.width=2*(n-t)-$-b):v&&g?(n=e(v),r=e(g),c.width=2*(r-n)-$-b,c.x=n-(c.width+b-$)/2-h-c.viewX):u?(t=e(u),c.x=t+b-h-c.viewX):g?(r=e(g),c.x=r-h-$-c.width-c.viewX):v?(n=e(v),c.x=n-(c.width+b-$)/2-h-c.viewX):this._grabX&&(c.x=b),f&&_?(i=e(f),o=e(_),c.y=i+w-d-c.viewY,c.height=o-i-x-w):f&&y?(i=e(f),a=e(y),c.y=i+w-d-c.viewY,c.height=2*(a-i)-x-w):y&&_?(a=e(y),o=e(_),c.height=2*(o-a)-x-w,c.y=a-(c.height+w-x)/2-d-c.viewY):f?(i=e(f),c.y=i+w-d-c.viewY):_?(o=e(_),c.y=o-d-x-c.height-c.viewY):y?(a=e(y),c.y=a-(c.height+w-x)/2-d-c.viewY):this._grabY&&(c.y=w)},Xi._grab=function(e,t){"x"===t&&(this._grabX=!0),"y"===t&&(this._grabY=!0),e._removeUpdater(t)},Xi._getAnchor=function(e){var t=this[e];return t?Array.isArray(t)?t:t[e]:null},Xi._subscribe=function(e){var t=this._items;t.indexOf(e)<0&&(t.push(e),this.connectOn(e,"newBoundingBox",this._scheduleUpdate.bind(this)))},b._protoOnChanged(Xi,"fill",function(e){if(this._scheduleUpdate(),null!==e){var t=this.parent;this._grab(t,"x"),this._grab(t,"width"),this._grab(t,"y"),this._grab(t,"height"),this._subscribe(e)}}),b._protoOnChanged(Xi,"centerIn",function(e){if(this._scheduleUpdate(),null!==e){var t=this.parent;this._grab(t,"x"),this._grab(t,"y"),this._subscribe(e),this._subscribe(t)}}),b._protoOnChanged(Xi,"bottom",function(e){this._scheduleUpdate();var t=this._getAnchor("bottom");if(null!==t){var i=this.parent;this._grab(i,"y"),(this.top||this.verticalCenter)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(t[0])}}),b._protoOnChanged(Xi,"horizontalCenter",function(e){this._scheduleUpdate();var t=this._getAnchor("horizontalCenter");if(null!==t){var i=this.parent;this._grab(i,"x"),(this.left||this.right)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(t[0])}}),b._protoOnChanged(Xi,"left",function(e){this._scheduleUpdate();var t=this._getAnchor("left");if(null!==t){var i=this.parent;this._grab(i,"x"),(this.right||this.horizontalCenter)&&(this._grab(i,"width"),this._subscribe(i)),this._subscribe(t[0])}}),b._protoOnChanged(Xi,"right",function(e){this._scheduleUpdate();var t=this._getAnchor("right");if(null!==t){var i=this.parent;this._grab(i,"x"),(this.left||this.horizontalCenter)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(t[0])}}),b._protoOnChanged(Xi,"top",function(e){this._scheduleUpdate();var t=this._getAnchor("top");if(null!==t){var i=this.parent;this._grab(i,"y"),(this.bottom||this.verticalCenter)&&(this._grab(i,"height"),this._subscribe(i)),this._subscribe(t[0])}}),b._protoOnChanged(Xi,"verticalCenter",function(e){this._scheduleUpdate();var t=this._getAnchor("verticalCenter");if(null!==t){var i=this.parent;this._grab(i,"y"),(this.top||this.bottom)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(t[0])}});_=function(e){this.parent.anchorsMarginsUpdated(),this._scheduleUpdate()};b._protoOnChanged(Xi,"bottomMargin",_),b._protoOnChanged(Xi,"leftMargin",_),b._protoOnChanged(Xi,"topMargin",_),b._protoOnChanged(Xi,"rightMargin",_),b._protoOnChanged(Xi,"margin",_),Xi.$c=function(e){Vi.$c.call(this,e.$b={})},Xi.$s=function(e){Vi.$s.call(this,e.$b),delete e.$b,this.completed()};var Gi=b.Object,qi=Gi.prototype,Ki=$.Data=function(e,t){Gi.apply(this,arguments)},Ji=Ki.prototype=Object.create(qi);Ji.constructor=Ki,Ji.componentName="src.Data",s.addProperty(Ji,"variant","value"),Ji.__complete=function(){qi.__complete.call(this),this.value={root:[{text:"TV channels",target:"channels"},{text:"Sci-Fi",target:"scifi"},{text:"Action",target:"action"},{text:"Adventure",target:"adventure"},{text:"Animation",target:"toons"},{text:"Drama",target:"drama"},{text:"Crime",target:"crime"},{text:"Thriller",target:"thriller"},{text:"Biography",target:"biopic"},{text:"Comedy",target:"comedy"}],channels:[{text:"Discovery",icon:"res/channels/icons/2.png",preview:["res/channels/preview/2.png"],color:"#424242",url:"",program:{title:"Пусть говорят",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"Animal Planet",icon:"res/channels/icons/3.png",preview:["res/channels/preview/3.png"],color:"#EEEEEE",url:"",program:{title:"Пусть говорят",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"Investigation Discovery",icon:"res/channels/icons/4.png",preview:["res/channels/preview/4.png"],color:"#fff",url:"",program:{title:"Пусть говорят",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"History",icon:"res/channels/icons/5.png",preview:["res/channels/preview/5.png"],color:"#212121",url:"",program:{title:"Пусть говорят",description:"",startTime:"20:00",stopTime:"21:00"}},{text:"Paramount Comedy",icon:"res/channels/icons/6.png",preview:["res/channels/preview/6.png"],color:"#ff5353",url:"",program:{title:"Пусть говорят",description:"",startTime:"20:00",stopTime:"21:00"}}],adventure:[{text:"The Revenant",icon:"res/vod/posters/revenant.png",preview:["res/vod/preview/revenant_1.png"],url:"",movieInfo:{title:"The Revenant",slogan:"Blood lost. Life found.",description:"A frontiersman on a fur trading expedition in the 1820s fights for survival after being mauled by a bear and left for dead by members of his own hunting team.",year:2015,duration:156,rating:{imdb:8.3},genre:["Adventure","Drama","Thriller"],director:"Alejandro González Iñárritu"}},{text:"Everest",icon:"res/vod/posters/everest.png",preview:["res/vod/preview/everest_1.png"],url:"",movieInfo:{title:"Everest",slogan:"Never let go",description:"A climbing expedition on Mt. Everest is devastated by a severe snow storm.",year:"2015",duration:121,rating:{imdb:7.1},genre:["Adventure","Biography","Drama"],director:"Baltasar Kormákur"}}],action:[{text:"Avengers Age of Ultron",icon:"res/vod/posters/ultron.png",preview:["res/vod/preview/ultron_1.png"],url:"",movieInfo:{title:"Avengers Age of Ultron",slogan:"A new age begins",description:"When Tony Stark and Bruce Banner try to jump-start a dormant peacekeeping program called Ultron, things go horribly wrong and it's up to Earth's Mightiest Heroes to stop the villainous Ultron from enacting his terrible plans.",year:"2015",duration:142,rating:{imdb:7.6},genre:["Action","Adventure","Sci-Fi"],director:"Joss Whedon"}},{text:"Law Abiding Citizen",icon:"res/vod/posters/law.png",preview:["res/vod/preview/law_1.png"],url:"",movieInfo:{title:"Law Abiding Citizen",slogan:"They killed his family. Now justice is his vengeance",description:"A frustrated man decides to take justice into his own hands after a plea bargain sets one of his family's killers free. He targets not only the killer but also the district attorney and others involved in the deal.",year:"2009",duration:109,rating:{imdb:7.4},genre:["Crime","Drama","Thriller"],director:"F. Gary Gray"}},{text:"The Dark Knight Rises",icon:"res/vod/posters/batmanRises.png",preview:["res/vod/preview/batmanRises_1.png"],url:"",movieInfo:{title:"The Dark Knight Rises",slogan:"The Legend Ends",description:"Eight years after the Joker's reign of anarchy, the Dark Knight, with the help of the enigmatic Selina, is forced from his imposed exile to save Gotham City, now on the edge of total annihilation, from the brutal guerrilla terrorist Bane.",year:"2012",duration:164,rating:{imdb:8.5},genre:["Action","Thriller"],director:"Christopher Nolan"}},{text:"District 9",icon:"res/vod/posters/district9.png",preview:["res/vod/preview/district9_1.png"],url:"",movieInfo:{title:"District 9",slogan:"You are not welcome here.",description:"An extraterrestrial race forced to live in slum-like conditions on Earth suddenly finds a kindred spirit in a government agent who is exposed to their biotechnology.",year:"2009",duration:112,rating:{imdb:8},genre:["Action","Sci-Fi"],director:"Neill Blomkamp"}},{text:"Divergent",icon:"res/vod/posters/divergent.png",preview:["res/vod/preview/divergent_1.png"],url:"",movieInfo:{title:"Divergent",slogan:"What Makes You Different, Makes You Dangerous",description:"In a world divided by factions based on virtues, Tris learns she's Divergent and won't fit in. When she discovers a plot to destroy Divergents, Tris and the mysterious Four must find out what makes Divergents dangerous before it's too late.",year:"2014",duration:139,rating:{imdb:6.8},genre:["Adventure","Mystery","Sci-Fi"],director:"Neil Burger"}},{text:"Terminator Genisys",icon:"res/vod/posters/terminator.png",preview:["res/vod/preview/terminator_1.png"],url:"",movieInfo:{title:"Terminator Genisys",slogan:"The rules have been reset.",description:"When John Connor, leader of the human resistance, sends Sgt. Kyle Reese back to 1984 to protect Sarah Connor and safeguard the future, an unexpected turn of events creates a fractured timeline.",year:"2015",duration:126,rating:{imdb:6.6},genre:["Action","Adventure","Sci-Fi"],director:"Alan Taylor"}},{text:"Mad Max: Fury Road",icon:"res/vod/posters/madMax.png",preview:["res/vod/preview/madMax_1.png"],url:"",movieInfo:{title:"Mad Max: Fury Road",slogan:"What a lovely day.",description:"A woman rebels against a tyrannical ruler in postapocalyptic Australia in search for her home-land with the help of a group of female prisoners, a psychotic worshipper, and a drifter named Max.",year:"2015",duration:120,rating:{imdb:8.2},genre:["Action","Adventure","Sci-Fi"],director:"George Miller"}},{text:"Fury",icon:"res/vod/posters/fury.png",preview:["res/vod/preview/fury_1.png"],url:"",movieInfo:{title:"Fury",slogan:"War never ends quietly.",description:"April, 1945. As the Allies make their final push in the European Theatre, a battle-hardened Army sergeant named Wardaddy commands a Sherman tank and his five-man crew on a deadly mission behind enemy lines. Outnumbered, out-gunned, and with a rookie soldier thrust into their platoon, Wardaddy and his men face overwhelming odds in their heroic attempts to strike at the heart of Nazi Germany.",year:"2014",duration:134,rating:{imdb:7.6},genre:["Action","Drama","War"],director:"David Ayer"}},{text:"Exodus: Gods and Kings",icon:"res/vod/posters/exodus.png",preview:["res/vod/preview/exodus_1.png"],url:"",movieInfo:{title:"Exodus: Gods and Kings",slogan:"Once Brothers, Now Enemies",description:"The defiant leader Moses rises up against the Egyptian Pharaoh Ramses, setting 600,000 slaves on a monumental journey of escape from Egypt and its terrifying cycle of deadly plagues.",year:"2014",duration:150,rating:{imdb:6.1},genre:["Action","Adventure","Drama"],director:"Ridley Scott"}},{text:"Django Unchained",icon:"res/vod/posters/django.png",preview:["res/vod/preview/django_1.png"],url:"",movieInfo:{title:"Django Unchained",slogan:'The "D" is Silent. Payback Won\'t Be.',description:"With the help of a German bounty hunter, a freed slave sets out to rescue his wife from a brutal Mississippi plantation owner.",year:"2012",duration:165,rating:{imdb:8.5},genre:["Drama","Western"],director:"Quentin Tarantino"}},{text:"Fast & Furious 6",icon:"res/vod/posters/furious.png",preview:["res/vod/preview/furious_1.png"],url:"",movieInfo:{title:"Fast & Furious 6",slogan:"All roads lead to this",description:"Hobbs has Dominic and Brian reassemble their crew to take down a team of mercenaries: Dominic unexpectedly gets convoluted also facing his presumed deceased girlfriend, Letty.",year:"2013",duration:130,rating:{imdb:7.2},genre:["Action","Crime","Thriller"],director:"Justin Lin"}},{text:"Spectre",icon:"res/vod/posters/spectre.png",preview:["res/vod/preview/spectre_1.png"],url:"",movieInfo:{title:"Spectre",description:"A cryptic message from Bond's past sends him on a trail to uncover a sinister organization. While M battles political forces to keep the secret service alive, Bond peels back the layers of deceit to reveal the terrible truth behind SPECTRE.",year:"2015",duration:148,rating:{imdb:7},genre:["Action","Adventure","Thriller"],director:"Sam Mendes"}},{text:"The Expendables",icon:"res/vod/posters/expendables.png",preview:["res/vod/preview/expendables_1.png"],url:"",movieInfo:{title:"The Expendables",slogan:"Every movie has a hero. This one has them all.",description:'Barney Ross leads the "Expendables", a band of highly skilled mercenaries including knife enthusiast Lee Christmas, martial arts expert Yin Yang, heavy weapons specialist Hale Caesar, demolitionist Toll Road and loose-cannon sniper Gunner Jensen.',year:2010,duration:103,rating:{imdb:6.5},genre:["Action","Adventure"],director:"Sylvester Stallone"}},{text:"300",icon:"res/vod/posters/300.png",preview:["res/vod/preview/300_1.png"],url:"",movieInfo:{title:"300",slogan:"Spartans, tonight, we dine in hell!",description:"In the Battle of Thermopylae of 480 BC an alliance of Greek city-states fought the invading Persian army in the mountain pass of Thermopylae. Vastly outnumbered, the Greeks held back the enemy in one of the most famous last stands of history.",year:2006,duration:117,rating:{imdb:7.7},genre:["Action","Fantasy","War"],director:"Zack Snyder"}},{text:"Ant-Man",icon:"res/vod/posters/antman.png",preview:["res/vod/preview/antman_1.png"],url:"",movieInfo:{title:"Ant-Man",slogan:"Heroes don't get any bigger.",description:"Armed with the astonishing ability to shrink in scale but increase in strength, con-man Scott Lang must embrace his inner-hero and help his mentor, Dr. Hank Pym, protect the secret behind his spectacular Ant-Man suit from a new generation of towering threats. Against seemingly insurmountable obstacles, Pym and Lang must plan and pull off a heist that will save the world.",year:2015,duration:117,rating:{imdb:7.4},genre:["Action","Adventure","Sci-Fi"],director:"Peyton Reed"}},{text:"Skyfall",icon:"res/vod/posters/skyfall.png",preview:["res/vod/preview/skyfall_1.png"],url:"",movieInfo:{title:"Skyfall",description:"Bond's loyalty to M is tested when her past comes back to haunt her. Whilst MI6 comes under attack, 007 must track down and destroy the threat, no matter how personal the cost.",year:"2012",duration:143,rating:{imdb:7.8},genre:["Action","Adventure","Thriller"],director:"Sam Mendes"}},{text:"X-Men: First Class",icon:"res/vod/posters/firstclass.png",preview:["res/vod/preview/firstclass_1.png"],url:"",movieInfo:{title:"X-Men: First Class",slogan:"The story begins",description:"In 1962, the United States government enlists the help of Mutants with superhuman abilities to stop a malicious dictator who is determined to start World War III.",year:2011,duration:132,rating:{imdb:7.8},genre:["Action","Adventure","Sci-Fi"],director:"Matthew Vaughn"}},{text:"Rise of the Planet of the Apes",icon:"res/vod/posters/planetOfTheApes.png",preview:["res/vod/preview/planetOfTheApes_1.png"],url:"",movieInfo:{title:"Rise of the Planet of the Apes",slogan:"Evolution Becomes Revolution",description:"A substance, designed to help the brain repair itself, gives rise to a super-intelligent chimp who leads an ape uprising.",year:2011,duration:105,rating:{imdb:7},genre:["Action","Sci-Fi"],director:"Rupert Wyatt"}}],scifi:[{text:"Ex Machina",icon:"res/vod/posters/exMachina.png",preview:["res/vod/preview/exMachina_1.png"],url:"",movieInfo:{title:"Ex Machina",slogan:"What happens to me if I fail your test?",description:"A young programmer is selected to participate in a groundbreaking experiment in artificial intelligence by evaluating the human qualities of a breathtaking female AI.",year:"2015",duration:108,rating:{imdb:7.7},genre:["Drama","Mystery","Sci-Fi"],director:"Alex Garland"}},{text:"Gravity",icon:"res/vod/posters/gravity.png",preview:["res/vod/preview/gravity_1.png"],url:"",movieInfo:{title:"Gravity",slogan:"Don't Let Go",description:"A medical engineer and an astronaut work together to survive after an accident leaves them adrift in space.",year:"2013",duration:91,rating:{imdb:7.9},genre:["Sci-Fi","Thriller"],director:"Alfonso Cuarón"}},{text:"Edge of Tomorrow",icon:"res/vod/posters/tomorrow.png",preview:["res/vod/preview/tomorrow_1.png"],url:"",movieInfo:{title:"Edge of Tomorrow",slogan:"Live, Die, Repeat",description:"A military officer is brought into an alien war against an extraterrestrial enemy who can reset the day and know the future. When this officer is enabled with the same power, he teams up with a Special Forces warrior to try and end the war.",year:"2014",duration:113,rating:{imdb:7.9},genre:["Action","Adventure","Sci-Fi"],director:"Doug Liman"}},{text:"The Martian",icon:"res/vod/posters/martian.png",preview:["res/vod/preview/martian_1.png"],url:"",movieInfo:{title:"The Martian",slogan:"Bring him home",description:"During a manned mission to Mars, Astronaut Mark Watney is presumed dead after a fierce storm and left behind by his crew. But Watney has survived and finds himself stranded and alone on the hostile planet. With only meager supplies, he must draw upon his ingenuity, wit and spirit to subsist and find a way to signal to Earth that he is alive.",year:2015,duration:144,rating:{imdb:8.1},genre:["Sci-Fi","Adventure"],director:"Ridley Scott"}},{text:"Interstellar",icon:"res/vod/posters/interstellar.png",preview:["res/vod/preview/interstellar_1.png"],url:"",movieInfo:{title:"Interstellar",slogan:"Mankind's next step will be our greatest.",description:"In the near future, Earth has been devastated by drought and famine, causing a scarcity in food and extreme changes in climate. When humanity is facing extinction, a mysterious rip in the space-time continuum is discovered, giving mankind the opportunity to widen its lifespan.",year:2014,duration:169,rating:{imdb:8.6},genre:["Sci-Fi","Drama","Adventure"],director:"Christopher Nolan"}},{text:"Cloud Atlas",icon:"res/vod/posters/atlas.png",preview:["res/vod/preview/atlas_1.png"],url:"",movieInfo:{title:"Cloud Atlas",slogan:"Everything Is Connected",description:"An exploration of how the actions of individual lives impact one another in the past, present and future, as one soul is shaped from a killer into a hero, and an act of kindness ripples across centuries to inspire a revolution.",year:2012,duration:172,rating:{imdb:7.5},genre:["Sci-Fi","Drama"],director:"Tom Tykwer, Andy Wachowski"}},{text:"Avengers Age of Ultron",icon:"res/vod/posters/ultron.png",preview:["res/vod/preview/ultron_1.png"],url:"",movieInfo:{title:"Avengers Age of Ultron",slogan:"A new age begins",description:"When Tony Stark and Bruce Banner try to jump-start a dormant peacekeeping program called Ultron, things go horribly wrong and it's up to Earth's Mightiest Heroes to stop the villainous Ultron from enacting his terrible plans.",year:"2015",duration:142,rating:{imdb:7.6},genre:["Action","Adventure","Sci-Fi"],director:"Joss Whedon"}},{text:"Ant-Man",icon:"res/vod/posters/antman.png",preview:["res/vod/preview/antman_1.png"],url:"",movieInfo:{title:"Ant-Man",slogan:"Heroes don't get any bigger.",description:"Armed with the astonishing ability to shrink in scale but increase in strength, con-man Scott Lang must embrace his inner-hero and help his mentor, Dr. Hank Pym, protect the secret behind his spectacular Ant-Man suit from a new generation of towering threats. Against seemingly insurmountable obstacles, Pym and Lang must plan and pull off a heist that will save the world.",year:2015,duration:117,rating:{imdb:7.4},genre:["Action","Adventure","Sci-Fi"],director:"Peyton Reed"}},{text:"X-Men: First Class",icon:"res/vod/posters/firstclass.png",preview:["res/vod/preview/firstclass_1.png"],url:"",movieInfo:{title:"X-Men: First Class",slogan:"The story begins",description:"In 1962, the United States government enlists the help of Mutants with superhuman abilities to stop a malicious dictator who is determined to start World War III.",year:2011,duration:132,rating:{imdb:7.8},genre:["Action","Adventure","Sci-Fi"],director:"Matthew Vaughn"}},{text:"Rise of the Planet of the Apes",icon:"res/vod/posters/planetOfTheApes.png",preview:["res/vod/preview/planetOfTheApes_1.png"],url:"",movieInfo:{title:"Rise of the Planet of the Apes",slogan:"Evolution Becomes Revolution",description:"A substance, designed to help the brain repair itself, gives rise to a super-intelligent chimp who leads an ape uprising.",year:2011,duration:105,rating:{imdb:7},genre:["Action","Sci-Fi"],director:"Rupert Wyatt"}}],crime:[{text:"American Hustle",icon:"res/vod/posters/hustle.png",preview:["res/vod/preview/hustle_1.png"],url:"",movieInfo:{title:"American Hustle",slogan:"Everyone Hustles To Survive",description:"A con man, Irving Rosenfeld, along with his seductive partner Sydney Prosser, is forced to work for a wild FBI agent, Richie DiMaso, who pushes them into a world of Jersey powerbrokers and mafia.",year:2013,duration:138,rating:{imdb:7.3},genre:["Crime","Drama"],director:"David O. Russell"}},{text:"Law Abiding Citizen",icon:"res/vod/posters/law.png",preview:["res/vod/preview/law_1.png"],url:"",movieInfo:{title:"Law Abiding Citizen",slogan:"They killed his family. Now justice is his vengeance",description:"A frustrated man decides to take justice into his own hands after a plea bargain sets one of his family's killers free. He targets not only the killer but also the district attorney and others involved in the deal.",year:"2009",duration:109,rating:{imdb:7.4},genre:["Crime","Drama","Thriller"],director:"F. Gary Gray"}},{text:"Black Mass",icon:"res/vod/posters/blackMass.png",preview:["res/vod/preview/blackMass_1.png"],url:"",movieInfo:{title:"Black Mass",slogan:"Keep your enemies close.",description:"The true story of Whitey Bulger, the brother of a state senator and the most infamous violent criminal in the history of South Boston, who became an FBI informant to take down a Mafia family invading his turf.",year:"2015",duration:123,rating:{imdb:7.1},genre:["Biography","Crime","Drama"],director:"Scott Cooper"}},{text:"The Girl with the Dragon Tattoo",icon:"res/vod/posters/tattoo.png",preview:["res/vod/preview/tattoo_1.png"],url:"",movieInfo:{title:"The Girl with the Dragon Tattoo",slogan:"The Feel Bad Movie of Christmas",description:"Journalist Mikael Blomkvist is aided in his search for a woman who has been missing for forty years by Lisbeth Salander, a young computer hacker.",year:"2011",duration:158,rating:{imdb:7.8},genre:["Crime","Drama","Mystery"],director:"David Fincher"}},{text:"Public Enemies",icon:"res/vod/posters/publicEnemies.png",preview:["res/vod/preview/publicEnemies_1.png"],url:"",movieInfo:{title:"Public Enemies",slogan:"America's Most Wanted",description:"The Feds try to take down notorious American gangsters John Dillinger, Baby Face Nelson and Pretty Boy Floyd during a booming crime wave in the 1930s.",year:2009,duration:140,rating:{imdb:7},genre:["Crime","Drama"],director:"Michael Mann"}}],toons:[{text:"Wreck-It Ralph",icon:"res/vod/posters/ralph.png",preview:["res/vod/preview/ralph_1.png"],url:"",movieInfo:{title:"Wreck-It Ralph",slogan:"When the arcade closes, the fun begins",description:"Wreck-It Ralph longs to be as beloved as his game's perfect Good Guy, Fix-It Felix. Problem is, nobody loves a Bad Guy. But they do love heroes...",year:2012,duration:101,rating:{imdb:7.8},genre:["Animation","Adventure"],director:"Rich Moore"}},{text:"The Lego Movie",icon:"res/vod/posters/lego.png",preview:["res/vod/preview/lego_1.png"],url:"",movieInfo:{title:"The Lego Movie",slogan:"The story of a nobody who saved everybody",description:"An ordinary Lego construction worker, thought to be the prophesied 'Special', is recruited to join a quest to stop an evil tyrant from gluing the Lego universe into eternal stasis.",year:"2014",duration:100,rating:{imdb:7.8},genre:["Animation","Action","Adventure"],director:"Phil Lord"}},{text:"Finding Nemo",icon:"res/vod/posters/nemo.png",preview:["res/vod/preview/nemo_1.png"],url:"",movieInfo:{title:"Finding Nemo",slogan:"Fish are just like people, only flakier.",description:"After his son is captured in the Great Barrier Reef and taken to Sydney, a timid clownfish sets out on a journey to bring him home.",year:"2003",duration:100,rating:{imdb:8.1},genre:["Animation","Adventure","Comedy"],director:"Andrew Stanton"}},{text:"Frozen",icon:"res/vod/posters/frozen.png",preview:["res/vod/preview/frozen_1.png"],url:"",movieInfo:{title:"Frozen",description:"When the newly crowned Queen Elsa accidentally uses her power to turn things into ice to curse her home in infinite winter, her sister, Anna, teams up with a mountain man, his playful reindeer, and a snowman to change the weather condition.",year:"2013",duration:102,rating:{imdb:7.6},genre:["Animation","Adventure","Comedy"],director:"Chris Buck"}},{text:"Shrek",icon:"res/vod/posters/shrek.png",preview:["res/vod/preview/shrek_1.png"],url:"",movieInfo:{title:"Shrek",slogan:"It's COOL",description:"After his swamp is filled with magical creatures, an ogre agrees to rescue a princess for a villainous lord in order to get his land back.",year:"2001",duration:90,rating:{imdb:7.9},genre:["Animation","Adventure","Comedy"],director:"Andrew Adamson"}},{text:"Shrek 2",icon:"res/vod/posters/shrek2.png",preview:["res/vod/preview/shrek2_1.png"],url:"",movieInfo:{title:"Shrek 2",slogan:"Not so far, far away...",description:"Princess Fiona's parents invite her and Shrek to dinner to celebrate her marriage. If only they knew the newlyweds were both ogres.",year:"2004",duration:93,rating:{imdb:7.2},genre:["Animation","Adventure","Comedy"],director:"Andrew Adamson"}},{text:"Shrek Forever After",icon:"res/vod/posters/shrek4.png",preview:["res/vod/preview/shrek4_1.png"],url:"",movieInfo:{title:"Shrek Forever After",slogan:"Feed me if you dare!",description:"Rumpelstiltskin tricks a mid-life crisis burdened Shrek into allowing himself to be erased from existence and cast in a dark alternate timeline where Rumpel rules supreme.",year:"2010",duration:93,rating:{imdb:6.4},genre:["Animation","Adventure","Comedy"],director:"Mike Mitchell"}}],drama:[{text:"Entourage",icon:"res/vod/posters/entourage.png",preview:["res/vod/preview/entourage_1.png"],url:"",movieInfo:{title:"Entourage",slogan:"His fame is their fortune. (season 1)",description:"Film star Vince Chase navigates the vapid terrain of Los Angeles with a close circle of friends and his trusty agent.",year:"2015",duration:28,rating:{imdb:8.6},genre:["Comedy","Drama"],director:"Doug Ellin"}},{text:"Birdman",icon:"res/vod/posters/birdman.png",preview:["res/vod/preview/birdman_1.png"],url:"",movieInfo:{title:"Birdman",description:"Illustrated upon the progress of his latest Broadway play, a former popular actor's struggle to cope with his current life as a wasted actor is shown.",year:"2014",duration:119,rating:{imdb:7.8},genre:["Comedy","Drama"],director:"Alejandro GonzÃ¡lez"}},{text:"The Book Thief",icon:"res/vod/posters/bookThief.png",preview:["res/vod/preview/bookThief_1.png"],url:"",movieInfo:{title:"The Book Thief",slogan:"This is the tale of the Book Thief, as narrated by death. And when Death tells a story, you really have to listen. It's just a small story really, about, amongst other things: a girl+an accordionist+some fanatical Germans Jewish fist fighter+and quite a lot of thievery.",description:"While subjected to the horrors of World War II Germany, young Liesel finds solace by stealing books and sharing them with others. In the basement of her home, a Jewish refugee is being sheltered by her adoptive parents.",year:"2013",duration:131,rating:{imdb:7.6},genre:["Drama","War"],director:"Brian Percival"}},{text:"The Bucket List",icon:"res/vod/posters/bucket.png",preview:["res/vod/preview/bucket_1.png"],url:"",movieInfo:{title:"The Bucket List",slogan:"When he closed his eyes, his heart was opened",description:"Two terminally ill men escape from a cancer ward and head off on a road trip with a wish list of to-dos before they die.",year:"2007",duration:97,rating:{imdb:7.4},genre:["Adventure","Comedy","Drama"],director:"Rob Reiner"}},{text:"Fifty Shades of Grey",icon:"res/vod/posters/grey.png",preview:["res/vod/preview/grey_1.png"],url:"",movieInfo:{title:"Fifty Shades of Grey",slogan:"The worldwide phenomenon comes to life.",description:"Literature student Anastasia Steele's life changes forever when she meets handsome, yet tormented, billionaire Christian Grey.",year:"2015",duration:125,rating:{imdb:4.1},genre:["Drama","Romance"],director:"Sam Taylor-Johnson"}},{text:"The Intern",icon:"res/vod/posters/intern.png",preview:["res/vod/preview/intern_1.png"],url:"",movieInfo:{title:"The Intern",slogan:"Experience never gets old.",description:"70-year-old widower Ben Whittaker has discovered that retirement isn't all it's cracked up to be. Seizing an opportunity to get back in the game, he becomes a senior intern at an online fashion site, founded and run by Jules Ostin.",year:"2015",duration:121,rating:{imdb:7.2},genre:["Comedy"],director:"Nancy Meyers"}},{text:"Slumdog Millionaire",icon:"res/vod/posters/million.png",preview:["res/vod/preview/million_1.png"],url:"",movieInfo:{title:"Slumdog Millionaire",slogan:"The boy who had the answer to every question.",description:'A Mumbai teen reflects on his upbringing in the slums when he is accused of cheating on the Indian Version of "Who Wants to be a Millionaire?"',year:"2008",duration:120,rating:{imdb:8},genre:["Drama","Romance"],director:"Danny Boyle"}},{text:"Silver Linings Playbook",icon:"res/vod/posters/playbook.png",preview:["res/vod/preview/playbook_1.png"],url:"",movieInfo:{title:"Silver Linings Playbook",slogan:"Watch for the signs",description:"After a stint in a mental institution, former teacher Pat Solitano moves back in with his parents and tries to reconcile with his ex-wife. Things get more challenging when Pat meets Tiffany, a mysterious girl with problems of her own.",year:"2012",duration:122,rating:{imdb:7.8},genre:["Comedy","Drama","Romance"],director:"David O. Russell"}},{text:"The Aviator",icon:"res/vod/posters/aviator.png",preview:["res/vod/preview/aviator_1.png"],url:"",movieInfo:{title:"The Aviator",slogan:"Imagine a life without limits.",description:"A biopic depicting the early years of legendary director and aviator, Howard Hughes, career from the late 1920s to the mid-1940s.",year:"2004",duration:170,rating:{imdb:7.5},genre:["Biography","Drama"],director:"Martin Scorsese"}},{text:"The Social Network",icon:"res/vod/posters/social.png",preview:["res/vod/preview/social_1.png"],url:"",movieInfo:{title:"The Social Network",slogan:"You don't get to 500 million friends without making a few enemies",description:"Harvard student Mark Zuckerberg creates the social networking site that would become known as Facebook, but is later sued by two brothers who claimed he stole their idea, and the cofounder who was later squeezed out of the business.",year:"2010",duration:120,rating:{imdb:7.8},genre:["Biography","Drama"],director:"David Fincher"}},{text:"The Imitation Game",icon:"res/vod/posters/imitation.png",preview:["res/vod/preview/imitation_1.png"],url:"",movieInfo:{title:"The Imitation Game",slogan:"Behind every code is an enigma",description:"During World War II, mathematician Alan Turing tries to crack the enigma code with help from fellow mathematicians.",year:"2014",duration:114,rating:{imdb:8.1},genre:["Biography","Drama","Thriller"],director:"Morten Tyldum"}},{text:"The Iron Lady",icon:"res/vod/posters/ironLady.png",preview:["res/vod/preview/ironLady_1.png"],url:"",movieInfo:{title:"The Iron Lady",slogan:"Never compromise",description:"An elderly Margaret Thatcher talks to the imagined presence of her recently deceased husband as she struggles to come to terms with his death while scenes from her past life, from girlhood to British prime minister, intervene.",year:"2011",duration:105,rating:{imdb:6.4},genre:["Biography","Drama","History"],director:"Phyllida Lloyd"}}],thriller:[{text:"The Imitation Game",icon:"res/vod/posters/imitation.png",preview:["res/vod/preview/imitation_1.png"],url:"",movieInfo:{title:"The Imitation Game",slogan:"Behind every code is an enigma",description:"During World War II, mathematician Alan Turing tries to crack the enigma code with help from fellow mathematicians.",year:"2014",duration:114,rating:{imdb:8.1},genre:["Biography","Drama","Thriller"],director:"Morten Tyldum"}}],comedy:[{text:"Entourage",icon:"res/vod/posters/entourage.png",preview:["res/vod/preview/entourage_1.png"],url:"",movieInfo:{title:"Entourage",slogan:"His fame is their fortune. (season 1)",description:"Film star Vince Chase navigates the vapid terrain of Los Angeles with a close circle of friends and his trusty agent.",duration:28,rating:{imdb:8.6},genre:["Comedy","Drama"],director:"Doug Ellin"}},{text:"Silver Linings Playbook",icon:"res/vod/posters/playbook.png",preview:["res/vod/preview/playbook_1.png"],url:"",movieInfo:{title:"Silver Linings Playbook",slogan:"Watch for the signs",description:"After a stint in a mental institution, former teacher Pat Solitano moves back in with his parents and tries to reconcile with his ex-wife. Things get more challenging when Pat meets Tiffany, a mysterious girl with problems of her own.",year:"2012",duration:122,rating:{imdb:7.8},genre:["Comedy","Drama","Romance"],director:"David O. Russell"}},{text:"Due Date",icon:"res/vod/posters/dueDate.png",preview:["res/vod/preview/dueDate_1.png"],url:"",movieInfo:{title:"Due Date",slogan:'What are you, "Girl or something"?',description:"High-strung father-to-be Peter Highman is forced to hitch a ride with aspiring actor Ethan Tremblay on a road trip in order to make it to his child's birth on time.",year:"2010",duration:95,rating:{imdb:6.6},genre:["Comedy"],director:"Todd Phillips"}},{text:"The Hangover Part III",icon:"res/vod/posters/hangover3.png",preview:["res/vod/preview/hangover3_1.png"],url:"",movieInfo:{title:"The Hangover Part III",slogan:"The End.",description:"When one of their own is kidnapped by an angry gangster, the Wolf Pack must track down Mr. Chow, who has escaped from prison and is on the lam.",year:"2013",duration:100,rating:{imdb:5.9},genre:["Comedy"],director:"Todd Phillips"}},{text:"Get Hard",icon:"res/vod/posters/getHard.png",preview:["res/vod/preview/getHard_1.png"],url:"",movieInfo:{title:"Get Hard",slogan:"An education in incarceration",description:"When millionaire James King is jailed for fraud and bound for San Quentin, he turns to Darnell Lewis to prep him to go behind bars.",year:"2015",duration:100,rating:{imdb:6.1},genre:["Comedy","Crime"],director:"Etan Cohen"}}],biopic:[{text:"The Aviator",icon:"res/vod/posters/aviator.png",preview:["res/vod/preview/aviator_1.png"],url:"",movieInfo:{title:"The Aviator",slogan:"Imagine a life without limits.",description:"A biopic depicting the early years of legendary director and aviator, Howard Hughes, career from the late 1920s to the mid-1940s.",year:"2004",duration:170,rating:{imdb:7.5},genre:["Biography","Drama"],director:"Martin Scorsese"}},{text:"The Social Network",icon:"res/vod/posters/social.png",preview:["res/vod/preview/social_1.png"],url:"",movieInfo:{title:"The Social Network",slogan:"You don't get to 500 million friends without making a few enemies",description:"Harvard student Mark Zuckerberg creates the social networking site that would become known as Facebook, but is later sued by two brothers who claimed he stole their idea, and the cofounder who was later squeezed out of the business.",year:"2010",duration:120,rating:{imdb:7.8},genre:["Biography","Drama"],director:"David Fincher"}},{text:"The Imitation Game",icon:"res/vod/posters/imitation.png",preview:["res/vod/preview/imitation_1.png"],url:"",movieInfo:{title:"The Imitation Game",slogan:"Behind every code is an enigma",description:"During World War II, mathematician Alan Turing tries to crack the enigma code with help from fellow mathematicians.",year:"2014",duration:114,rating:{imdb:8.1},genre:["Biography","Drama","Thriller"],director:"Morten Tyldum"}},{text:"The Theory of Everything",icon:"res/vod/posters/theory.png",preview:["res/vod/preview/theory_1.png"],url:"",movieInfo:{title:"The Theory of Everything",slogan:"The incredible story of Jane and Stephen Hawking",description:"A look at the relationship between the famous physicist Stephen Hawking and his wife.",year:"2014",duration:123,rating:{imdb:7.7},genre:["Biography","Drama","Romance"],director:"James Marsh"}},{text:"Black Mass",icon:"res/vod/posters/blackMass.png",preview:["res/vod/preview/blackMass_1.png"],url:"",movieInfo:{title:"Black Mass",slogan:"Keep your enemies close.",description:"The true story of Whitey Bulger, the brother of a state senator and the most infamous violent criminal in the history of South Boston, who became an FBI informant to take down a Mafia family invading his turf.",year:"2015",duration:123,rating:{imdb:7.1},genre:["Biography","Crime","Drama"],director:"Scott Cooper"}},{text:"The Iron Lady",icon:"res/vod/posters/ironLady.png",preview:["res/vod/preview/ironLady_1.png"],url:"",movieInfo:{title:"The Iron Lady",slogan:"Never compromise",description:"An elderly Margaret Thatcher talks to the imagined presence of her recently deceased husband as she struggles to come to terms with his death while scenes from her past life, from girlhood to British prime minister, intervene.",year:"2011",duration:105,rating:{imdb:6.4},genre:["Biography","Drama","History"],director:"Phyllida Lloyd"}}]}},Ji.$c=function(e){qi.$c.call(this,e.$b={})},Ji.$s=function(e){qi.$s.call(this,e.$b),delete e.$b,this.completed()};var Zi=b.Text,Qi=Zi.prototype,er=$.BigText=function(e,t){Zi.apply(this,arguments)},tr=er.prototype=Object.create(Qi);tr.constructor=er,tr.componentName="src.BigText",tr.$c=function(e){Qi.$c.call(this,e.$b={})},tr.$s=function(e){Qi.$s.call(this,e.$b),delete e.$b,this.font._removeUpdater("pixelSize"),this.font.pixelSize=40,this.completed()};var ir=b.Object,rr=ir.prototype,or=$.ColorTheme=function(e,t){ir.apply(this,arguments)},nr=or.prototype=Object.create(rr);nr.constructor=or,nr.componentName="src.ColorTheme",s.addProperty(nr,"Color","panelColor","#212121"),s.addProperty(nr,"Color","focusablePanelColor","#424242"),s.addProperty(nr,"Color","textColor","#fff"),s.addProperty(nr,"Color","subTextColor","#aaa"),s.addProperty(nr,"Color","accentColor","#F44336"),nr.$c=function(e){rr.$c.call(this,e.$b={})},nr.$s=function(e){rr.$s.call(this,e.$b),delete e.$b,this.completed()};var ar=b.EventEmitter,sr=ar.prototype,cr=b.RAIIEventEmitter=function(e,t){ar.apply(this,arguments),this._onListener={}},lr=cr.prototype=Object.create(sr);lr.constructor=cr,lr.componentName="core.RAIIEventEmitter",lr.removeAllListeners=function(e){b.EventEmitter.prototype.removeAllListeners.call(this,e),e in this._onListener?this._onListener[e][1](e):""in this._onListener&&this._onListener[""][1](e)},lr.on=function(e,t){if(!(e in this._eventHandlers)&&(e in this._onListener?this._onListener[e][0](e):""in this._onListener&&this._onListener[""][0](e),this._eventHandlers[e]))throw new Error("listener callback added event handler");b.EventEmitter.prototype.on.call(this,e,t)},lr.onListener=function(e,t,i){this._onListener[e]=[t,i]},lr.$c=function(e){sr.$c.call(this,e.$b={})},lr.$s=function(e){sr.$s.call(this,e.$b),delete e.$b,this.completed()};var hr=b.Object,dr=hr.prototype,pr=b.Font=function(e,t){hr.apply(this,arguments)},ur=pr.prototype=Object.create(dr);ur.constructor=pr,ur.componentName="core.Font",s.addProperty(ur,"string","family",$manifest$style$font$family),s.addProperty(ur,"bool","italic"),s.addProperty(ur,"bool","bold"),s.addProperty(ur,"bool","underline"),s.addProperty(ur,"bool","overline"),s.addProperty(ur,"bool","strike"),s.addProperty(ur,"bool","strikeout"),s.addProperty(ur,"real","letterSpacing"),s.addProperty(ur,"real","wordSpacing"),s.addProperty(ur,"int","pixelSize",$manifest$style$font$pixelSize),s.addProperty(ur,"int","pointSize"),s.addProperty(ur,"real","lineHeight",$manifest$style$font$lineHeight),s.addProperty(ur,"int","weight"),ur.MixedCase=0,pr.MixedCase=0,ur.AllUppercase=1,pr.AllUppercase=1,ur.AllLowercase=2,pr.AllLowercase=2,ur.SmallCaps=3,pr.SmallCaps=3,ur.Capitalize=4,pr.Capitalize=4,s.addProperty(ur,"enum","capitalization"),ur._updateTextDecoration=function(){var e=(this.underline?" underline":"")+(this.overline?" overline":"")+(this.strike||this.strikeout?" line-through":"");this.parent.style("text-decoration",e),this.parent._updateSize()},b._protoOnChanged(ur,"capitalization",function(e){switch(this.parent.style("text-transform","none"),this.parent.style("font-variant","normal"),e){case this.AllUppercase:this.parent.style("text-transform","uppercase");break;case this.AllLowercase:this.parent.style("text-transform","lowercase");break;case this.SmallCaps:this.parent.style("font-variant","small-caps");break;case this.Capitalize:this.parent.style("text-transform","capitalize")}}),b._protoOnChanged(ur,"pointSize",function(e){0<e&&(this.pixelSize=0),this.parent.style("font-size",0<e?e+"pt":""),this.parent._updateSize()}),b._protoOnChanged(ur,"pixelSize",function(e){0<e&&(this.pointSize=0),this.parent.style("font-size",0<e?e+"px":""),this.parent._updateSize()});_=function(e){this._updateTextDecoration()};b._protoOnChanged(ur,"strike",_),b._protoOnChanged(ur,"overline",_),b._protoOnChanged(ur,"strikeout",_),b._protoOnChanged(ur,"underline",_),b._protoOnChanged(ur,"family",function(e){this.parent.style("font-family",e),this.parent._updateSize()}),b._protoOnChanged(ur,"italic",function(e){this.parent.style("font-style",e?"italic":"normal"),this.parent._updateSize()}),b._protoOnChanged(ur,"weight",function(e){this.parent.style("font-weight",e),this.parent._updateSize()}),b._protoOnChanged(ur,"bold",function(e){this.parent.style("font-weight",e?"bold":"normal"),this.parent._updateSize()}),b._protoOnChanged(ur,"letterSpacing",function(e){this.parent.style("letter-spacing",e+"px"),this.parent._updateSize()}),b._protoOnChanged(ur,"lineHeight",function(e){this.parent.style("line-height",e),this.parent._updateSize()}),b._protoOnChanged(ur,"wordSpacing",function(e){this.parent.style("word-spacing",e+"px"),this.parent._updateSize()}),ur.$c=function(e){dr.$c.call(this,e.$b={})},ur.$s=function(e){dr.$s.call(this,e.$b),delete e.$b,this.completed()};var gr,fr,_r,mr,vr=b.Object,yr=vr.prototype,br=a.Stylesheet=function(e,t){vr.apply(this,arguments);var i=this._context,r=i.options,o=this.style=i.createElement("style");o.dom.type="text/css",this.prefix=r.prefix;var n=r.id,a=null===document.getElementById(i,n),s=window.Modernizr.prefixedCSS("user-select")+": none; ",c=x.core.os,l="android"===c||"androidttk"===c||"hisense"===c;o.setHtml("div#"+n+" { position: absolute; visibility: hidden; left: 0px; top: 0px; }"+("webOS"===c||l?this.mangleRule("div","{ "+s+" }"):"")+(l?this.mangleRule("div","{ -webkit-tap-highlight-color: rgba(255, 255, 255, 0); -webkit-focus-ring-color: rgba(255, 255, 255, 0); outline: none; }"):"")+(a?"body { padding: 0; margin: 0; border: 0px; overflow: hidden; }":"")+this.mangleRule("video","{ position: absolute; }")+this.mangleRule("img","{ position: absolute; -webkit-touch-callout: none; "+s+" }"));var h=x.html5.html.getElement(i,"head");h.append(o),h.updateStyle(),this._addRule=x.html5.html.createAddRule(o.dom).bind(this),this._lastId=0},$r=br.prototype=Object.create(yr);function wr(e){if(e&&e.name,this._storage=window.localStorage,!this._storage)throw new Error("no local storage support")}function xr(e){this._ui=e;var t=window.location;this.updateActualValues();var i=this,r=e._context;r.window.on("hashchange",function(){i._ui.hash=t.hash}.bind(this)),r.window.on("popstate",function(){i.updateActualValues()}.bind(this))}function Cr(e){var t=e._context.createElement("video");t.dom.preload="metadata",this.element=t,this.ui=e,this.setEventListeners(),e.element.remove(),e.element=t,e.parent.element.append(e.element),this._xhr=new XMLHttpRequest,this._xhr.addEventListener("load",this.parseManifest.bind(this))}function kr(e){var t=e._context,i=t.system.os+"_"+t.system.browser;i=i.replace(/\s/g,""),e.deviceId=i+"_"+Math.random().toString(36).substr(2,9)}return $r.constructor=br,$r.componentName="html5.Stylesheet",$r.allocateClass=function(e){var t=this.prefix;return(t||"")+e+"-"+this._lastId++},$r.mangleSelector=function(e){var t=this.prefix;return t?e+"."+t+"core-item":e},$r.mangleRule=function(e,t){return this.mangleSelector(e)+" "+t+" "},$r.addRule=function(e,t){this._addRule(e,t)},$r.$c=function(e){yr.$c.call(this,e.$b={})},$r.$s=function(e){yr.$s.call(this,e.$b),delete e.$b,this.completed()},x.core.model=function(){function l(e,t){this.type=e,this.length=t}var e={};e.ModelUpdate=function(){this.count=0,this._reset()},e.ModelUpdate.prototype.constructor=e.ModelUpdate,e.ModelUpdate.prototype._reset=function(){this._ranges=[new l(0,this.count)],this._updateIndex=this.count},e.ModelUpdate.prototype._setUpdateIndex=function(e){e<this._updateIndex&&(this._updateIndex=e)},e.ModelUpdate.prototype._find=function(e){var t,i=this._ranges;for(t=0;t<i.length;++t){var r=i[t];if(e<r.length)return{index:t,offset:e};0<r.length&&(e-=r.length)}if(0!=e)throw new Error("invalid index "+e);return{index:t-1,offset:r.length}},e.ModelUpdate.prototype.reset=function(e){this.update(e,0,Math.min(e.count,this.count)),this.count<e.count?this.insert(e,this.count,e.count):this.remove(e,e.count,this.count)},e.ModelUpdate.prototype._merge=function(){for(var e=this._ranges,t=1;t<e.length;){var i=e[t-1],r=e[t];if(i.type===r.type)if(1===i.type&&i.length<0&&0<r.length){var o=Math.min(-i.length,r.length);i.type=2,r.length+=i.length,i.length=o,1<t&&--t}else i.length+=r.length,e.splice(t,1);else 1===i.type&&0===i.length?e.splice(t,1):++t}},e.ModelUpdate.prototype._split=function(e,t,i,r){var o=this._ranges;if(0===t)return o.splice(e,0,new l(i,r)),e+1;var n=o[e],a=n.length-t;return n.length=t,0!=a?o.splice(e+1,0,new l(i,r),new l(n.type,a)):o.splice(e+1,0,new l(i,r)),e+2},e.ModelUpdate.prototype.insert=function(e,t,i){if(!(i<=t)){this._setUpdateIndex(t);var r=this._ranges,o=i-t;if(this.count+=o,this.count!=e.count)throw new Error("unbalanced insert "+this.count+" + ["+t+"-"+i+"], model reported "+e.count);var n=this._find(t),a=r[n.index];0===a.length?(a.type=1,a.length+=o):0<=n.offset?this._split(n.index,n.offset,1,o):this._split(n.index+1,0,1,o),this._merge()}},e.ModelUpdate.prototype.remove=function(e,t,i){if(!(i<=t)){this._setUpdateIndex(t);var r=this._ranges,o=i-t;if(this.count-=o,this.count!=e.count)throw new Error("unbalanced remove "+this.count+" + ["+t+"-"+i+"], model reported "+e.count);var n=this._find(t);if(1===(s=r[n.index]).type)s.length-=o;else for(var a=this._split(n.index,n.offset,1,-o);0<o;){var s;(s=r[a]).length<=o?(r.splice(a,1),o-=s.length):(s.length-=o,o=0)}this._merge()}},e.ModelUpdate.prototype.update=function(e,t,i){if(!(i<=t)){var r=this._ranges,o=i-t,n=this._find(t),a=n.index,s=r[a];if(0<n.offset&&(r.splice(a+1,0,new l(s.type,s.length-n.offset)),s.length=n.offset,++a,0===s.length))throw new Error("invalid offset");for(;0<o;){var c=(s=r[a]).length;switch(s.type){case 0:o<c?(s.length-=o,r.splice(a,0,new l(2,o))):s.type=2,o-=c;break;case 1:0<c&&(o-=c),++a;break;case 2:o-=c,++a}}this._merge()}},e.ModelUpdate.prototype.clear=function(){this.count=0,this._reset()},e.ModelUpdate.prototype.apply=function(i,e){var r=0;if(this._ranges.forEach(function(e){var t=e.length;switch(e.type){case 1:0<t?(i._insertItems(r,r+t),r+=t):t<0&&i._removeItems(r,r-t);break;case 2:i._updateItems(r,r+t),r+=t;break;default:r+=e.length}}),!e&&i._items.length!=this.count)throw new Error("unbalanced items update, view: "+i._items.length+", update:"+this.count);for(var t=this._updateIndex;t<this.count;++t)i._updateDelegateIndex(t);this._reset()};var t=e.ArrayModelWrapper=function(e){this.data=e,this.count=e.length};return t.prototype.get=function(e){return{value:this.data[e]}},t.prototype.on=function(){},t.prototype.removeListener=function(){},e}(),x.html5.localstorage=(gr={},wr.prototype.get=function(e,t,i){var r=this._storage.getItem(e);null!==r?t(r):i(new Error("no item with name "+e))},wr.prototype.set=function(e,t){this._storage.setItem(e,t)},wr.prototype.erase=function(e,t){this._storage.removeItem(e)},gr.createLocalStorage=function(e){return new wr(e)},gr.LocalStorage=wr,gr),x.html5.html=function(){var f={},p=window.Modernizr;f.capabilities={csstransforms3d:p.csstransforms3d,csstransforms:p.csstransforms,csstransitions:p.csstransitions,mouseEnterLeaveSupported:"netcast"!=x.core.os};var u=null;f.createAddRule=function(e){if((e.sheet||{}).insertRule){r=e.sheet;return function(t,i){try{r.insertRule(t+"{"+i+"}",r.cssRules.length)}catch(e){log("InsertRule failed:",e,", sheet:",r,", name:",t,", rules:",i)}}}var r=e.styleSheet||e.sheet;return function(t,i){try{r.addRule(t,i)}catch(e){log("AddRule failed:",e,", sheet:",r,", name:",t,", rules:",i)}}};function g(){this._cache={}}var e=g.prototype;e.constructor=g,e.update=function(e,t,i){var r=this._cache,o=e._uniqueId,n=r[o];if(void 0!==n)n.data[t]=i,++n.size;else{var a={};a[t]=i,r[o]={data:a,element:e,size:1}}},e.pop=function(e){var t=e._uniqueId,i=this._cache[t];if(void 0!==i)return delete this._cache[t],i},e.apply=function(){var e=this._cache;for(var t in this._cache={},e){var i=e[t];i.element.updateStyle(i)}};function _(e){var t=document.createElement("style");t.type="text/css",document.head.appendChild(t),this.prefix=e+"C-",this.style=t,this.total=0,this.stats={},this.classes={},this.classes_total=0,this._addRule=f.createAddRule(t)}var t=_.prototype;t.constructor=_,t.add=function(e){this.stats[e]=(this.stats[e]||0)+1,++this.total},t.register=function(e){var t=e.join(";"),i=this.classes,r=i[t];return void 0!==r||(r=i[t]=this.prefix+this.classes_total++,this._addRule("."+r,t)),r},t.classify=function(i){var r=this.total;if(r<10)return"";i.sort();var o=[],n=[],a=this.stats;return i.forEach(function(e,t){.05<a[e]/r&&(o.push(e),n.push(t))}),n.length<2?"":(n.forEach(function(e,t){i.splice(e-t,1)}),this.register(o))};var i={};0<=x.core.userAgent.toLowerCase().indexOf("webkit")&&(i.appearance="-webkit-appearance");function l(e){var t=i[e];return void 0===t&&(i[e]=t=window.Modernizr.prefixedCSS(e)),t}f.getPrefixedName=l;function n(r){var o=r.__domEventListeners;void 0===o&&(o=r.__domEventListeners={}),r.onListener("",function(e){var t=o[e]=r._context.wrapNativeCallback(function(){r.emitWithArgs(e,arguments)}),i=[e,t];0<=a.indexOf(e)&&i.push(s),r.dom.addEventListener.apply(r.dom,i)},function(e){r.dom.removeEventListener(e,o[e])})}var a=["touchstart","touchend","wheel","scroll"],s=!!p.passiveeventlisteners&&{passive:!0},r={};f.loadExternalStylesheet=function(e){if(!r[e]){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t),r[e]=!0}};var c=0,h={};function d(e){return $manifest$html5$prefix+e}f.Element=function(e,t,i){if("string"==typeof t){void 0===i&&(i="");var r=t+"."+i;if(!h[r]){var o=document.createElement(t);($manifest$html5$prefix||i)&&o.classList.add(d(i)),$manifest$html5$prefix&&i&&o.classList.add(d("")),h[r]=o}this.dom=h[r].cloneNode(!1)}else this.dom=t;x.core.RAIIEventEmitter.apply(this),this._context=e,this._transitions={},this._class="",this._widthAdjust=0,this._uniqueId=(++c).toString(36),this._firstChildIndex=0,n(this)};var o=f.Element.prototype=Object.create(x.core.RAIIEventEmitter.prototype);o.constructor=f.Element,o.addClass=function(e){this.dom.classList.add(e)},o.appendChildren=function(e){if(0<e.length){var t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(e)}),this.dom.appendChild(t)}},o.removeChildren=function(e){var r=[],o=this.dom;return e.children.forEach(function(e){var t=e.element;if(void 0!==t){var i=t.dom;i.parentNode===o&&(o.removeChild(i),r.push(i))}}),r},o.setHtml=function(e,t){this._widthAdjust=0;var i,r=this.dom;i=void 0!==t?this.removeChildren(t):[],r.innerHTML=e,this.appendChildren(i)},o.width=function(){return this.updateStyle(),this.dom.clientWidth-this._widthAdjust},o.height=function(){return this.updateStyle(),this.dom.clientHeight},o.fullWidth=function(){return this.updateStyle(),this.dom.scrollWidth-this._widthAdjust},o.fullHeight=function(){return this.updateStyle(),this.dom.scrollHeight},o.style=function(e,t){var i=this._context._styleCache;if(void 0!==t)i.update(this,e,t);else{if("object"!=typeof e)throw new Error("cache is write-only");for(var r in e)i.update(this,r,e[r])}},o.setAttribute=function(e,t){this.dom.setAttribute(e,t)};var m={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px",padding:"px"};o.forceLayout=function(){return this.updateStyle(),this.dom.offsetWidth|this.dom.offsetHeight},o.updateStyle=function(e){var t=this.dom;if(t&&(void 0!==e||void 0!==(e=this._context._styleCache.pop(this)))){var i=e.data,r=t.style;for(var o in i){var n=i[o],a=l(o),s=!1!==a?a:o;if(Array.isArray(n)&&(n=n.join(",")),"number"==typeof n){"width"===o&&(n+=this._widthAdjust);var c=m[o];void 0!==c&&(n+=c)}r[s]=n}}},o.append=function(e){this.dom.appendChild(e instanceof f.Element?e.dom:e)},o.discard=function(){x.core.RAIIEventEmitter.prototype.discard.apply(this),this.remove()},o.remove=function(){var e=this.dom;e.parentNode&&e.parentNode.removeChild(e)},f.Document=function(e,t){x.core.RAIIEventEmitter.apply(this),this._context=e,this.dom=t,n(this)},(f.Document.prototype=Object.create(x.core.RAIIEventEmitter.prototype)).constructor=f.Document,f.Window=function(e,t){x.core.RAIIEventEmitter.apply(this),this._context=e,this.dom=t,n(this)};var v=f.Window.prototype=Object.create(x.core.RAIIEventEmitter.prototype);v.constructor=f.Window,v.width=function(){return this.dom.innerWidth},v.height=function(){return this.dom.innerHeight},v.scrollY=function(){return this.dom.scrollY},f.getElement=function(e,t){var i=document.getElementsByTagName(t);if(1!=i.length)throw new Error("no tag "+t+"/multiple tags");return new f.Element(e,i[0])},f.init=function(i){u=new x.html5.cache.Cache(b),i._styleCache=new g;var e=i.options,t=i._prefix,r=e.id,o=e.tag||"div";t&&log("Context: using prefix",t+="-");var n=new x.html5.html.Document(i,document);i.document=n;var a,s,c=new x.html5.html.Window(i,window);i.window=c;var l=f,h=document.getElementById(r);null===h?(a=c.width(),s=c.height(),log("Context: window size: "+a+"x"+s),(h=l.createElement(i,o)).dom.id=r,c.on("resize",function(){i.width=c.width(),i.height=c.height()}),l.getElement(i,"body").append(h)):(a=(h=new l.Element(i,h)).width(),s=h.height(),log("Context: found element by id, size: "+a+"x"+s),c.on("resize",function(){i.width=h.width(),i.height=h.height()}));p.canvastext?(i._textCanvas=l.createElement(i,"canvas"),i._textCanvas.style("width",0),i._textCanvas.style("height",0),h.append(i._textCanvas),i._textCanvasContext="getContext"in i._textCanvas.dom?i._textCanvas.dom.getContext("2d"):null):i._textCanvasContext=null,i.element=h,i.width=a,i.height=s,c.on("scroll",function(e){i.scrollY=c.scrollY()});function d(e){var t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;log("fullscreen change event:",t),i.fullscreen=t}new Array("webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange").forEach(function(e){h.on(e,d,!0)}),c.on("keydown",function(e){i.processKey(e)&&e.preventDefault()}),c.on("orientationchange",function(e){log("orientation changed event"),i.system.screenWidth=window.screen.width,i.system.screenHeight=window.screen.height}),i._styleClassifier=$manifest$cssAutoClassificator?new _(i._prefix):null},f.initSystem=function(e){var t=e._context.window;t.on("focus",function(){e.pageActive=!0}),t.on("blur",function(){e.pageActive=!1}),e.screenWidth=window.screen.width,e.screenHeight=window.screen.height},f.createElement=function(e,t,i){return new f.Element(e,t,i)},f.initRectangle=function(e){};var y=x.core.Image,b=function(e,t){var i=new Image;i.onerror=function(){i.onload=null,i.onerror=null,t(null)},i.onload=function(){i.onload=null,i.onerror=null,t({width:i.naturalWidth,height:i.naturalHeight})},i.src=e};f.initImage=function(e){},f.loadImage=function(t){function e(e){!function(e,t){if(t){var i={"background-image":'url("'+e.source+'")'},r=t.width,o=t.height;switch(e.sourceWidth=r,e.sourceHeight=o,e.fillMode!==y.PreserveAspectFit&&(e.paintedWidth=e.width,e.paintedHeight=e.height),e.horizontalAlignment){case y.AlignHCenter:i["background-position-x"]="center";break;case y.AlignLeft:i["background-position-x"]="left";break;case y.AlignRight:i["background-position-x"]="right"}switch(e.verticalAlignment){case y.AlignVCenter:i["background-position-y"]="center";break;case y.AlignTop:i["background-position-y"]="top";break;case y.AlignBottom:i["background-position-y"]="bottom"}switch(e.fillMode){case y.Stretch:i["background-repeat"]="no-repeat",i["background-size"]="100% 100%";break;case y.TileVertically:i["background-repeat"]="repeat-y",i["background-size"]="100% "+o+"px";break;case y.TileHorizontally:i["background-repeat"]="repeat-x",i["background-size"]=r+"px 100%";break;case y.Tile:i["background-repeat"]="repeat-y repeat-x",i["background-size"]="auto";break;case y.PreserveAspectCrop:i["background-repeat"]="no-repeat",i["background-size"]="cover";break;case y.Pad:i["background-repeat"]="no-repeat",i["background-position"]="0% 0%",i["background-size"]="auto";break;case y.PreserveAspectFit:i["background-repeat"]="no-repeat",i["background-size"]="contain";var n=e.width,a=e.height,s=0,c=r/o;n&&a&&(s=n/a),s<c&&n?(e.paintedWidth=n,e.paintedHeight=n/c):(e.paintedHeight=a,e.paintedWidth=a*c)}i["image-rendering"]=e.smooth?"auto":"pixelated",e.style(i),e.status=y.Ready,e._context._processActions()}else e.status=y.Error}(t,e)}t.source.indexOf("?")<0?u.get(t.source,e):b(t.source,e)},f.initText=function(e){};function $(e,t){switch(e.verticalAlignment){case e.AlignTop:e._topPadding=0;break;case e.AlignBottom:e._topPadding=e.height-e.paintedHeight;break;case e.AlignVCenter:e._topPadding=(e.height-e.paintedHeight)/2}t["padding-top"]=e._topPadding,t.height=e.height-e._topPadding,e.style(t)}f.setText=function(e,t){e.element.setHtml(t,e)},f.layoutText=function(e){var t=e._context._textCanvasContext,i=e.wrapMode!==x.core.Text.NoWrap,r=e.element,o=(r.dom,e.textFormat===e.Html||0<=e.text.search(/[\<\&]/));if(!i&&null!==t&&!o){var n,a=e.font;n=a.pointSize?Math.round(96*a.pointSize/72):a.pixelSize,t.font=n+"px "+a.family;var s=t.measureText(e.text);return e.paintedWidth=s.width,e.paintedHeight=n*a.lineHeight,void $(e,{})}var c,l=r.removeChildren(e);i?e.style({height:"auto","padding-top":0}):e.style({width:"auto",height:"auto","padding-top":0}),e.paintedWidth=r.fullWidth(),e.paintedHeight=r.fullHeight(),r._widthAdjust=1,c=i?{height:e.height}:{width:e.width,height:e.height},$(e,c),r.appendChildren(l)},f.run=function(e,t){e.window.on($manifest$expectRunContextEvent?"runContext":"load",function(){t()})},f.tick=function(e){e._styleCache.apply()};var w={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};return f.setAnimation=function(e,t,i){if(!f.capabilities.csstransitions||$manifest$cssDisableTransitions||i&&!i.cssTransition)return!1;var r=w[t];return void 0!==r&&function(e,t,i){var r=f,o=r.getPrefixedName("transition-property"),n=r.getPrefixedName("transition-delay"),a=r.getPrefixedName("transition-duration"),s=r.getPrefixedName("transition-timing-function"),c=e.element;c.forceLayout(),t=r.getPrefixedName(t)||t;var l=c._transitions,h=l[o]||[],d=l[a]||[],p=l[s]||[],u=l[n]||[],g=h.indexOf(t);return-1===g?i&&(h.push(t),d.push(i.duration+"ms"),p.push(i.easing),u.push(i.delay+"ms")):i&&i.active()?(d[g]=i.duration+"ms",p[g]=i.easing,u[g]=i.delay+"ms"):(h.splice(g,1),d.splice(g,1),p.splice(g,1),u.splice(g,1)),l[o]=h,l[a]=d,l[s]=p,l[n]=u,"orsay"!==e._context.system.os&&"netcast"!==e._context.system.os||(l["transition-property"]=h,l["transition-duration"]=d,l["transition-delay"]=u,l["transition-timing-function"]=p),e.style(l),!0}(e,r,i)},f.requestAnimationFrame=p.prefixed("requestAnimationFrame",window)||function(e){return setTimeout(e,0)},f.cancelAnimationFrame=p.prefixed("cancelAnimationFrame",window)||function(e){return clearTimeout(e)},f.enterFullscreenMode=function(e){return p.prefixed("requestFullscreen",e.dom)()},f.exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()},f.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},f}(),x.html5.location=(fr={},xr.prototype.updateActualValues=function(){var e=this._ui,t=e._context.window.dom;e.hash=t.location.hash,e.href=t.location.href,e.port=t.location.port,e.host=t.location.host,e.origin=t.location.origin,e.hostname=t.location.hostname,e.pathname=t.location.pathname,e.protocol=t.location.protocol,e.search=t.location.search,e.state=t.history.state},xr.prototype.changeHref=function(e){this._ui._context.window.dom.location.href=e,this.updateActualValues()},xr.prototype.pushState=function(e,t,i){var r=this._ui,o=r._context.window.dom;o.location.hostname?(o.history.pushState(e,t,i),this.updateActualValues()):(r._context.document.title=t,this._ui.state=e)},fr.createLocation=function(e){return new xr(e)},fr.Location=xr,fr),x.html5.cache=function(){function r(){return Math.floor((new Date).getTime()/1e3)}function o(){this.created=r(),this.waiters=[],this.invoker=null}var e={};o.prototype.expired=function(e){return r()-this.created>=e},o.prototype.set=function(e){this.created=r();for(var t=this.invoker=x.core.safeCall(null,[e],function(e){log("cache entry callback failed: ",e,e.stack)});this.waiters.length;){var i=this.waiters;this.waiters=[],i.forEach(t)}this.waiters=null},o.prototype.wait=function(e){null!==this.invoker?this.invoker(e):this.waiters.push(e)};function t(e,t){if(!e)throw new Error("create callback is required");this._create=e,this._ttl=t||3600,this._cache={},setInterval(this.cleanup.bind(this),this._ttl/2*1e3)}return t.prototype.get=function(e,t){var i=this._cache[e];void 0!==i&&!i.expired(this._ttl)||(this._cache[e]=i=new o,this._create(e,function(e){i.set(e)})),i.wait(t)},t.prototype.cleanup=function(){for(var e in this._cache){this._cache[e].expired(this._ttl)&&delete this._cache[e]}},e.Cache=t,e}(),x.video.html5.backend=(_r={},Cr.prototype.setEventListeners=function(){var e=this.element,t=e.dom,i=this.ui;e.on("play",function(){i.waiting=!1,i.paused=t.paused}.bind(i)),e.on("pause",function(){i.paused=t.paused}.bind(i)),e.on("ended",function(){i.finished()}.bind(i)),e.on("seeked",function(){log("seeked"),i.seeking=!1,i.waiting=!1}.bind(i)),e.on("canplay",function(){log("canplay",t.readyState),i.ready=t.readyState}.bind(i)),e.on("seeking",function(){log("seeking"),i.seeking=!0,i.waiting=!0}.bind(i)),e.on("waiting",function(){log("waiting"),i.waiting=!0}.bind(i)),e.on("stalled",function(){log("Was stalled",t.networkState),i.waiting=!0,i.stalled=!0}.bind(i)),e.on("emptied",function(){log("Was emptied",t.networkState)}.bind(i)),e.on("volumechange",function(){i.muted=t.muted}.bind(i)),e.on("canplaythrough",function(){log("ready to play"),i.paused=t.paused}.bind(i)),e.on("error",function(){if(log("Player error occurred",t.error,"src",i.source),t.error&&i.source)switch(i.error(t.error),log("player.error",t.error),t.error.code){case 1:log("MEDIA_ERR_ABORTED error occurred");break;case 2:log("MEDIA_ERR_NETWORK error occurred");break;case 3:log("MEDIA_ERR_DECODE error occurred");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occurred");break;default:log("UNDEFINED error occurred")}}.bind(i)),e.on("timeupdate",function(){i.waiting=!1,i.stalled=!1,i.seeking||(i.progress=t.currentTime)}.bind(i)),e.on("durationchange",function(){var e=t.duration;log("Duration",e),i.duration=isFinite(e)?e:0}.bind(i)),e.on("progress",function(){var e=t.buffered.length-1;i.waiting=!1,0<=e&&(i.buffered=t.buffered.end(e)-t.buffered.start(e))}.bind(i)),this.setOption("autoplay",i.autoPlay)},Cr.prototype.parseManifest=function(e){var t=e.target.responseText.split("\n"),i=this.ui.source,r=i.substring(0,i.lastIndexOf("/")+1),o=0;this._videoTracks=[{name:"auto",url:this.ui.source,id:o}],this._totalTracks={},this._audioTracksInfo=[];for(var n=0;n<t.length-1;++n){var a=t[n],s=t[n+1];if(0==a.indexOf("#EXT-X-STREAM-INF")){for(var c=a.split(","),l={url:0===s.indexOf("http")?s:r+s},h=0;h<c.length;++h)if(1<(g=c[h].split("=")).length)switch(g[0].trim().toLowerCase()){case"bandwidth":l.bandwidth=g[1].trim();break;case"audio":l.audio=g[1].trim().replace(/"/g,"");break;case"resolution":var d=g[1].split("x");l.width=d[0],l.height=d[1]}var p=l.width+"x"+l.height;this._totalTracks[p]||(this._totalTracks[p]=[]),this._totalTracks[p].push(l)}else if(0==a.indexOf("#EXT-X-MEDIA:TYPE=AUDIO")){c=a.split(",");var u={};for(h=0;h<c.length;++h){var g;if(1<(g=c[h].split("=")).length)switch(g[0].trim().toLowerCase()){case"group-id":u.id=g[1].trim().replace(/"/g,"");break;case"name":u.label=g[1].trim().replace(/"/g,"");break;case"language":u.language=g[1].trim().replace(/"/g,"");break;case"uri":u.url=g[1].trim()}}this._audioTracksInfo.push(u)}}for(var n in this._totalTracks){var f=this._totalTracks[n][0];f.id=++o,this._videoTracks.push(f)}},Cr.prototype.getFileExtension=function(e){if(!e)return"";var t=e.toLowerCase(),i=e.indexOf("?");0<=i&&(t=t.substring(0,i));var r=t.lastIndexOf(".");return t.substring(r,t.length)},Cr.prototype.setSource=function(e){this.ui.ready=!1,this._extension=this.getFileExtension(e),!e||".m3u8"!==this._extension&&".m3u"!==this._extension||(this._xhr.open("GET",e),this._xhr.send()),this.element.dom.src=e},Cr.prototype.play=function(){this.element.dom.play()},Cr.prototype.pause=function(){this.element.dom.pause()},Cr.prototype.stop=function(){this.pause()},Cr.prototype.seek=function(e){this.element.dom.currentTime+=e},Cr.prototype.seekTo=function(e){this.element.dom.currentTime=e},Cr.prototype.setVolume=function(e){this.element.dom.volume=e},Cr.prototype.setMute=function(e){this.element.dom.muted=e},Cr.prototype.setLoop=function(e){this.element.dom.loop=e},Cr.prototype.setOption=function(e,t){"autoplay"===e?t?this.element.dom.setAttribute("autoplay",""):this.element.dom.removeAttribute("autoplay"):this.element.dom.setAttribute(e,t)},Cr.prototype.setRect=function(e,t,i,r){},Cr.prototype.setVisibility=function(e){log("VISIBILITY LOGIC MISSING HERE, visible:",e)},Cr.prototype.setupDrm=function(e,t,i,r){log("Not implemented")},Cr.prototype.getAudioTracks=function(){return log("Not implemented"),[]},Cr.prototype.getVideoTracks=function(){return this._videoTracks||[]},Cr.prototype.getAudioTracks=function(){for(var e=this.element.dom.audioTracks,t=[],i=0;i<e.length;++i){var r=e[i],o=this._audioTracksInfo[i];t.push({id:i,name:r.label?r.label:o.name,language:r.language?r.language:o.language})}return log("getAudioTracks",t),t},Cr.prototype.setAudioTrack=function(e){var t=this.element.dom.audioTracks;if(e<0||e>=t.length)log("Where is no track",e);else{log("Set audio track",t[e]);for(var i=0;i<t.length;++i)t[i].enabled=i===e}},Cr.prototype.setVideoTrack=function(e){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(e<0||e>=this._videoTracks.length)log("Track with id",e,"not found");else{this.ui.waiting=!0;var t=this.ui.progress;log("Set video",this._videoTracks[e]),this.element.dom.src=this._videoTracks[e].url,this.seekTo(t)}},Cr.prototype.setVideoTrack=function(e){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(e<0||e>=this._videoTracks.length)log("Track with id",e,"not found");else{this.ui.waiting=!0;var t=this.ui.progress;log("Set video",this._videoTracks[e]),this.element.dom.src=this._videoTracks[e].url,this.seekTo(t)}},Cr.prototype.setBackgroundColor=function(e){var t=x.core.Color;this.element.dom.style.backgroundColor=new t(e).rgba()},_r.createPlayer=function(e){return new Cr(e)},_r.probeUrl=function(e){return 50},_r.Player=Cr,_r),x.web.device=((mr={}).createDevice=function(e){return new kr(e)},mr.Device=kr,mr),x.controls.pure.format={currency:function(e,t,i){var r="\\d(?=(\\d{"+(i||3)+"})+"+(0<t?"\\.":"$")+")";return e.toFixed(Math.max(0,~~t)).replace(new RegExp(r,"g"),"$&,")},format:function(){var e=[].slice.call(arguments),t=e.shift();return e.reduce(function(e,t){return e.replace("%s",t)},t)}},e}();try{var l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-app",l10n:l10n,nativeContext:null});context.init(),context.start(new qml.src.UiApp(context)),context.run()}catch(e){log("qml initialization failed: ",e,e.stack)}
