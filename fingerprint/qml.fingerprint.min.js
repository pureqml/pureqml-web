"use strict";var log=null,$manifest$cssAutoClassificator=!1,$manifest$cssDisableTransformations=!1,$manifest$cssDisableTransitions=!1,$manifest$disableAnimations=!1,$manifest$expectRunContextEvent=!1,$manifest$html5$prefix="",$manifest$log$disable=!1,$manifest$resolutionHeight=0,$manifest$resolutionWidth=0,$manifest$style$font$family="Arial",$manifest$style$font$lineHeight=1.2,$manifest$style$font$pixelSize=16,$manifest$style$font$pointSize=0,$manifest$system$fingerprint=!0,$manifest$trace$focus=!1,$manifest$trace$keys=!1,$manifest$trace$listeners=!1,$manifest$virtual$height=1080,$manifest$virtual$width=1920,qml=function(){var t={},x=t;x.core||(x.core={});var C=x.core;x.web||(x.web={});x.web;x.controls||(x.controls={});x.controls;x.controls.core||(x.controls.core={});var e=x.controls.core;x.controls.pure||(x.controls.pure={});x.controls.pure;x.video||(x.video={});x.video;x.video.html5||(x.video.html5={});x.video.html5;x.html5||(x.html5={});var o=x.html5;x.html5.fingerprint||(x.html5.fingerprint={});x.html5.fingerprint;x.src||(x.src={});var i=x.src;x.core.core=function(){var i=x;C.device=0,C.vendor="",C.__videoBackends={},"undefined"!=typeof navigator?(i.core.os=navigator.platform,i.core.userAgent=navigator.userAgent,i.core.language=navigator.language):(i.core.os="unknown",i.core.userAgent="Unknown");function t(t,e){i.core.userAgent.indexOf(t)<0||(i.core.vendor=e.vendor,i.core.device=e.device,i.core.os=e.os)}i.core.vendor||(t("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),t("Android",{vendor:"google",device:2,os:"android"}),t("iPhone",{vendor:"apple",device:2,os:"iOS"}),t("iPad",{vendor:"apple",device:2,os:"iOS"}),t("iPod",{vendor:"apple",device:2,os:"iOS"})),0<=i.core.userAgent.indexOf("Chromium")?i.core.browser="Chromium":0<=i.core.userAgent.indexOf("Chrome")?i.core.browser="Chrome":0<=i.core.userAgent.indexOf("Opera")?i.core.browser="Opera":0<=i.core.userAgent.indexOf("Firefox")?i.core.browser="Firefox":0<=i.core.userAgent.indexOf("Safari")?i.core.browser="Safari":0<=i.core.userAgent.indexOf("MSIE")?i.core.browser="IE":0<=i.core.userAgent.indexOf("YaBrowser")?i.core.browser="Yandex":i.core.browser="",x._backend=function(){return x.html5.html},x.core.__locationBackend=function(){return x.html5.location},x.core.__localStorageBackend=function(){return x.html5.localstorage},x.core.__videoBackends.html5=function(){return x.video.html5.backend},x.core.__deviceBackend=function(){return x.web.device},i.core.keyCodes={13:"Select",16:"Shift",17:"Ctrl",18:"LeftAlt",27:"Back",37:"Left",32:"Space",33:"PageUp",34:"PageDown",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"Red",113:"Green",114:"Yellow",115:"Blue",219:"Red",221:"Green",186:"Yellow",222:"Blue",230:"RightAlt",187:"VolumeUp",189:"VolumeDown",191:"Mute",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",107:"VolumeUp",109:"VolumeDown",111:"Mute"},i.closeApp=function(){window.close()},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){}function i(){return r.apply(this instanceof e&&t?this:t,n.concat(Array.prototype.slice.call(arguments)))}var n=Array.prototype.slice.call(arguments,1),r=this;return e.prototype=this.prototype,i.prototype=new e,i},null===log&&(log=function(){for(var t="",e=0;e<arguments.length;++e)t+=arguments[e]+" ";console.log(t)})),null===log&&(log=console.log.bind(console));var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32","":"",transparent:"0000"};i.core.safeCall=function(e,i,n){return function(t){return function(t,e,i,n){try{return t.apply(e,i)}catch(t){n(t)}}(t,e,i,n)}},C.getKeyCodeByName=function(t){var e=C.keyCodes;for(var i in e)if(e[i]===t)return~~i};var e=C.CoreObject=function(t){this._local=Object.create(t?t._local:null)},n=e.prototype;n.componentName="core.CoreObject",n.constructor=e,n.$c=function(){},n.$s=function(){},n.__init=function(){var t={};this.$c(t),this.$s(t),this.completed()},n.__complete=function(){},n._get=function(t,e){if(t in this)return this[t];if(t in this._local)return this._local[t];if(e)return null;throw new Error("invalid property requested: '"+t+"'")};var l=C.Color=function(t){if(Array.isArray(t))return this.r=t[0],this.g=t[1],this.b=t[2],void(this.a=void 0!==t[3]?t[3]:255);if("string"!=typeof t)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+t,(new Error).stack);var e;if("#"===t[0])e=t.substring(1);else{if("rgba"===t.substring(0,4)){var i=t.indexOf("("),n=t.lastIndexOf(")");return t=t.substring(i+1,n).split(","),this.r=parseInt(t[0],10),this.g=parseInt(t[1],10),this.b=parseInt(t[2],10),void(this.a=Math.floor(255*parseFloat(t[3])))}e=c[t]}if(!e)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+t,(new Error).stack);var r=e.length;if(3===r||4===r){var o=parseInt(e[0],16),a=parseInt(e[1],16),s=(i=parseInt(e[2],16),4===r?parseInt(e[3],16):15);this.r=o<<4|o,this.g=a<<4|a,this.b=i<<4|i,this.a=s<<4|s}else{if(6!==r&&8!==r)throw new Error("invalid color specification: "+t);this.r=parseInt(e.substring(0,2),16),this.g=parseInt(e.substring(2,4),16),this.b=parseInt(e.substring(4,6),16),this.a=8===r?parseInt(e.substring(6,8),16):255}};l.interpolate=function(t,e,i){t instanceof l||(t=new l(t)),e instanceof l||(e=new l(e));function n(t,e,i){return Math.floor(i*(t-e)+e)}var r=n(t.r,e.r,i),o=n(t.g,e.g,i),a=n(t.b,e.b,i),s=n(t.a,e.a,i);return new l([r,o,a,s])},l.normalize=function(t){return t instanceof l?t.rgba():new l(t).rgba()};var r=l.prototype;r.constructor=C.Color,r.rgba=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"};function o(t){var e=t>>4&15,i=15&t;return e+=9<e?87:48,i+=9<i?87:48,String.fromCharCode(e,i)}r.hex=function(){return"#"+o(this.r)+o(this.g)+o(this.b)+o(this.a)},r.ahex=function(){return"#"+o(this.a)+o(this.r)+o(this.g)+o(this.b)},i.addLazyProperty=function(e,n,r){function i(t){var e=t.__properties,i=e[n];return void 0!==i?(void 0===i.value&&(i.value=r(t)),i):e[n]=new a(r(t))}Object.defineProperty(e,n,{get:function(){return i(this).value},set:function(t){if(!i(this).forwardSet(this,n,t,null))throw new Error("could not set lazy property "+n+" in "+e.componentName)},enumerable:!0})},i.addConstProperty=function(t,e,i){Object.defineProperty(t,e,{get:function(){return i.call(this)},set:function(t){throw new Error("could not set const property")},enumerable:!0})};var a=function(t){this.value=t,this.onChanged=[]},s=(i.PropertyStorage=a).prototype;s.getAnimation=function(t,e){var i=this.animation;return i&&i.enabled()&&!i._native&&i._context._completed?i:null},s.__removeUpdater=function(t){for(var e=this.deps,i=0,n=e.length;i<n;i+=2){var r=e[i],o=e[i+1];r.removeOnChanged(o,t)}},s.removeUpdater=function(){var t=this.callback;void 0!==t&&(this.__removeUpdater(t),this.deps=this.callback=void 0)},s.replaceUpdater=function(t,e,i){var n=this.callback;void 0!==n&&this.__removeUpdater(n),this.callback=e,this.deps=i;for(var r=t.connectOnChanged,o=0,a=i.length;o<a;o+=2){var s=i[o],c=i[o+1];r.call(t,s,c,e)}e()},s.forwardSet=function(n,r,t,e){var i=this.getCurrentValue(e);if(null!==i&&i instanceof Object){var o;if(void 0===(o=i.defaultProperty))return!1;var a=i[o];return t!==a&&(i[o]=t,this.callOnChanged(n,r,t,a)),!0}if(t instanceof Object)return void 0===(o=t.defaultProperty)||n.connectOnChanged(t,o,function(t,e){var i=n.__properties[r];void 0!==i&&i.callOnChanged(n,r,t,e)}),!1},s.discard=function(){},s.getSimpleValue=function(t){var e=this.value;return void 0!==e?e:t},s.getCurrentValue=function(t){var e=this.interpolatedValue;return void 0!==e?e:this.getSimpleValue(t)},s.setCurrentValue=function(t,e,i,n,r){var o=this.value;this.interpolatedValue=void 0,this.value=i,r&&this.callOnChanged(t,e,i,o)},s.set=function(t,e,i,n,r){var o=this.value;void 0===o&&(o=n),o!==i&&(this.forwardSet(t,e,i,n)||(this.value=i,r&&this.callOnChanged(t,e,i,o)))},s.callOnChanged=function(t,e,i){var n=t["__changed__"+e],r=this.onChanged,o=void 0!==n,a=void 0!==r;if(o||a){var s=C.safeCall(t,[i],function(t){log("on "+e+" changed callback failed: ",t,t.stack)});o&&n.forEach(s),a&&r.forEach(s)}},s.removeOnChanged=function(t){var e=this.onChanged,i=e.indexOf(t);if(0<=i)return e.splice(i,1)},i.addProperty=function(t,e,d,p){var u,i=!1;switch(e){case"enum":case"int":u=function(t){return~~t},i=!0;break;case"bool":u=function(t){return!!t};break;case"real":u=function(t){return+t},i=!0;break;case"string":u=function(t){return String(t)};break;case"Color":i=!0;default:u=function(t){return t}}if(void 0!==p)p=u(p);else switch(e){case"enum":case"int":p=0;break;case"bool":p=!1;break;case"real":p=0;break;case"string":p="";break;case"array":p=[];break;case"Color":p="#0000";break;default:p=e[0].toUpperCase()===e[0]?null:void 0}function f(t){var e=this.__properties,i=e[d];if(void 0===i){if(t===p)return;i=e[d]=new a(p)}return i}Object.defineProperty(t,d,{get:i?function(){var t=this.__properties[d];return void 0!==t?t.getCurrentValue(p):p}:function(){var t=this.__properties[d];return void 0!==t?t.getSimpleValue(p):p},set:i?function(t){t=u(t);var e=f.call(this,t);if(void 0!==e){var i=e.getAnimation();if(i&&e.value!==t){var n=this._context,r=n.backend;e.frameRequest&&r.cancelAnimationFrame(e.frameRequest),e.started=Date.now();var o=e.getCurrentValue(p),a=t,s=this,c=function(){r.cancelAnimationFrame(e.frameRequest),e.frameRequest=void 0,i.complete=function(){},e.interpolatedValue=void 0,e.started=void 0,i.running=!1,e.callOnChanged(s,d,a,o)},l=i.duration,h=n.wrapNativeCallback(function(){var t=1*(Date.now()-e.started)/l;1<=t||!i.active()?c():(e.interpolatedValue=u(i.interpolate(a,o,t)),e.callOnChanged(s,d,e.getCurrentValue(p),o),e.frameRequest=r.requestAnimationFrame(h))});e.frameRequest=r.requestAnimationFrame(h),i.running=!0,i.complete=c}e.set(this,d,t,p,!i)}}:function(t){t=u(t);var e=f.call(this,t);void 0!==e&&e.set(this,d,t,p,!0)},enumerable:!0})},i.addAliasProperty=function(i,n,t,e){var r=t();i.connectOnChanged(r,e,function(t){var e=i.__properties[n];void 0!==e&&e.callOnChanged(i,n,t)}),Object.defineProperty(i,n,{get:function(){return r[e]},set:function(t){r[e]=t},enumerable:!0})},C.createSignal=function(t){return function(){this.emitWithArgs(t,arguments)}},C.createSignalForwarder=function(t,e){return function(){t.emitWithArgs(e,arguments)}},C.EventBinder=function(t){this.target=t,this.callbacks={},this.enabled=!1},C.EventBinder.prototype.on=function(t,e){if(t in this.callbacks)throw new Error("double adding of event ("+t+")");this.callbacks[t]=e,this.enabled&&this.target.on(t,e)},C.EventBinder.prototype.constructor=C.EventBinder,C.EventBinder.prototype.enable=function(t){if(t!=this.enabled){var e=this.target;if(this.enabled=t)for(var i in this.callbacks)e.on(i,this.callbacks[i]);else for(var i in this.callbacks)e.removeListener(i,this.callbacks[i])}};function h(t,e,i,n){var r=t+i,o=e[r];if(void 0!==o)if(e.hasOwnProperty(r))o.push(n);else{var a=o.slice();a.push(n),e[r]=a}else e[r]=[n]}C._protoOn=function(t,e,i){h("__on__",t,e,i)},C._protoOnChanged=function(t,e,i){h("__changed__",t,e,i)},C._protoOnKey=function(t,e,i){h("__key__",t,e,i)};function d(t){this._callback=t,this._queue=[],this.history=[]}var p=d.prototype;return p.constructor=d,p.unshift=function(){var t=this._queue;t.unshift.apply(t,arguments)},p.push=function(){var t=this._queue;t.push.apply(t,arguments)},p.enumerate=function(t,e){var i=[this,e],n=this._queue;for(n.unshift(t);n.length;){var r=n.shift();if(this.history.push(r),this._callback.apply(r,i))break}},i.forEach=function(t,e,i){return new d(e).enumerate(t,i),i},i}();var a=x.core.core,n=C.CoreObject,r=n.prototype,s=C.EventEmitter=function(t,e){n.apply(this,arguments),this._eventHandlers={},this._onConnections=[]},c=s.prototype=Object.create(r);c.constructor=s,c.componentName="core.EventEmitter",c.discard=function(){for(var t in this.removeAllOn(),this._eventHandlers)this.removeAllListeners(t)},c.removeAllOn=function(){for(var t=this._onConnections,e=0,i=t.length;e<i;e+=3)t[e].removeListener(t[e+1],t[e+2]);this._onConnections=[]},c.removeAllListeners=function(t){delete this._eventHandlers[t]},c.emit=function(e){if(""===e)throw new Error("empty listener name");var t=this["__on__"+e],i=this._eventHandlers[e];if(void 0!==t||void 0!==i){for(var n=arguments.length,r=new Array(n-1),o=0,a=1;a<n;)r[o++]=arguments[a++];var s=C.safeCall(this,r,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==t&&t.forEach(s),void 0!==i&&i.forEach(s)}},c.emitWithArgs=function(e,t){if(""===e)throw new Error("empty listener name");var i=this["__on__"+e],n=this._eventHandlers[e];if(void 0!==i||void 0!==n){var r=C.safeCall(this,t,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==i&&i.forEach(r),void 0!==n&&n.forEach(r)}},c.removeListener=function(t,e){if(t in this._eventHandlers&&null!=e&&""!==t){var i=this._eventHandlers[t],n=i.indexOf(e);0<=n?i.splice(n,1):$manifest$trace$listeners&&log("failed to remove listener for",t,"from",this),i.length||this.removeAllListeners(t)}else $manifest$trace$listeners&&log("invalid removeListener("+t+", "+e+") invocation",(new Error).stack)},c.on=function(t,e){if(""===t)throw new Error("empty listener name");var i=this._eventHandlers,n=i[t];void 0!==n?n.push(e):i[t]=[e]},c.connectOn=function(t,e,i){t.on(e,i),this._onConnections.push(t,e,i)},c.$c=function(t){r.$c.call(this,t.$b={})},c.$s=function(t){r.$s.call(this,t.$b),delete t.$b,this.completed()};var l=C.EventEmitter,h=l.prototype,d=C.Object=function(t,e){l.apply(this,arguments),this.parent=t,this.children=[],this.__properties={},this.__attachedObjects=[],t&&t.__attachedObjects.push(this);this._context=t?t._context:null;if(e){var i=this._local;i.model=e,i._delegate=this}this._changedConnections=[],this._properties={}},p=d.prototype=Object.create(h);p._propertyToStyle={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"},p.constructor=d,p.componentName="core.Object",p.completed=function(){this.__complete!==C.CoreObject.prototype.__complete&&this._registerDelayedAction("complete")&&this._context.__onCompleted(this)},p.discard=function(){this.removeAllOnChanged();var t=this.__attachedObjects;this.__attachedObjects=[],t.forEach(function(t){t.discard()});var e=this.parent;if(e){var i=e.__attachedObjects.indexOf(this);0<=i&&e.__attachedObjects.splice(i,1)}this.children=[],this.parent=null,this._local={};var n=this.__properties;for(var r in n)n[r].discard();this._properties={},C.EventEmitter.prototype.discard.apply(this)},p.removeAllOnChanged=function(){for(var t=this._changedConnections,e=0,i=t.length;e<i;e+=3)t[e].removeOnChanged(t[e+1],t[e+2]);this._changedConnections=[]},p.getComponentPath=function(){for(var t=[],e=this;e;){var i=e.componentName;if(e.parent){var n=e.parent.children.indexOf(e);0<=n&&(i+="@"+n)}t.unshift(i),e=e.parent}return t.join(" → ")},p._tryFocus=function(){return!1},p.addChild=function(t){this.children.push(t)},p._cancelDelayedAction=function(t){this._registeredDelayedActions[t]=!1},p._setId=function(t){for(var e=this;e;)e._local[t]=this,e=e.parent},p._registerDelayedAction=function(t){var e=this._registeredDelayedActions;return void 0===e&&(e=this._registeredDelayedActions={}),!0!==e[t]&&(e[t]=!0)},p.resetAnimation=function(t){var e=this.__properties[t];if(void 0!==e&&e.animation){var i=e.animation;i.disable();var n=i.target;i.target=n,e.animation=null,i.enable(),i.target=n}},p._removeUpdater=function(t){var e=this.__properties[t];void 0!==e&&e.removeUpdater()},p.updateAnimation=function(t,e){this._context.backend.setAnimation(this,t,e)},p.setAnimation=function(t,e){this._get("frames",!0),this._get("context",!0);if(!$manifest$disableAnimations){if(null===e)return this.resetAnimation(t);var i=this._context.backend;"contentX"!==t&&"contentY"!==t||log("WARNING: you're trying to animate contentX/contentY property, this will always use animation frames, ignoring CSS transitions, please use content.x/content.y instead"),e.target=this,e.property=t,this._createPropertyStorage(t).animation=e,i.setAnimation(this,t,e)&&(e._native=!0)}},p.removeOnChanged=function(t,e){var i,n=this.__properties[t];void 0!==n&&(i=n.removeOnChanged(e)),$manifest$trace$listeners&&!i&&log("failed to remove changed listener for",t,"from",this)},p.onChanged=function(t,e){this._createPropertyStorage(t).onChanged.push(e)},p._replaceUpdater=function(t,e,i){this._createPropertyStorage(t).replaceUpdater(this,e,i)},p._setProperty=function(t,e){var i=this._createPropertyStorage(t,e),n=i.animation;void 0!==n&&n.disable(),i.setCurrentValue(this,null,e),void 0!==n&&n.enable()},p._createPropertyStorage=function(t,e){var i=this.__properties[t];return void 0!==i?i:this.__properties[t]=new C.core.PropertyStorage(e)},p.connectOnChanged=function(t,e,i){t.onChanged(e,i),this._changedConnections.push(t,e,i)},p.$c=function(t){h.$c.call(this,t.$b={})},p.$s=function(t){h.$s.call(this,t.$b),delete t.$b,this.completed()};var u=C.Object,f=u.prototype,g=C.Radius=function(t,e){u.apply(this,arguments)},m=g.prototype=Object.create(f);m.defaultProperty="radius",m.constructor=g,m.componentName="core.Radius",a.addProperty(m,"real","radius"),a.addProperty(m,"real","topLeft"),a.addProperty(m,"real","topRight"),a.addProperty(m,"real","bottomLeft"),a.addProperty(m,"real","bottomRight"),m.__complete=function(){f.__complete.call(this);var t=this.radius,e=this.topLeft||t,i=this.topRight||t,n=this.bottomLeft||t,r=this.bottomRight||t;e==i&&n==r&&e==n?this.parent.style("border-radius",e):this.parent.style("border-radius",e+"px "+i+"px "+r+"px "+n+"px")};var y=function(){log("updating border")};C._protoOn(m,"bottomLeftUpdate",y),C._protoOn(m,"radiusUpdate",y),C._protoOn(m,"bottomRightUpdate",y),C._protoOn(m,"topLeftUpdate",y),C._protoOn(m,"topRightUpdate",y),m.$c=function(t){f.$c.call(this,t.$b={})},m.$s=function(t){f.$s.call(this,t.$b),delete t.$b,this.completed()};var v=C.Object,_=v.prototype,b=C.Location=function(t,e){v.apply(this,arguments);var i=C.__locationBackend;if(!i)throw new Error("no backend found");this.impl=i().createLocation(this)},w=b.prototype=Object.create(_);w.constructor=b,w.componentName="core.Location",a.addProperty(w,"string","hash"),a.addProperty(w,"string","host"),a.addProperty(w,"string","href"),a.addProperty(w,"string","port"),a.addProperty(w,"string","origin"),a.addProperty(w,"string","hostname"),a.addProperty(w,"string","pathname"),a.addProperty(w,"string","protocol"),a.addProperty(w,"string","search"),a.addProperty(w,"Object","state"),w.changeHref=function(t){this.impl.changeHref(t)},w.pushState=function(t,e,i){this.impl.pushState(t,e,i)},w.$c=function(t){_.$c.call(this,t.$b={})},w.$s=function(t){_.$s.call(this,t.$b),delete t.$b,this.completed()};var $=C.Object,k=$.prototype,A=C.Item=function(t,e){if($.apply(this,arguments),this._pressedHandlers={},this._topPadding=0,this._borderXAdjust=0,this._borderYAdjust=0,this._borderWidthAdjust=0,this._borderHeightAdjust=0,t){if(this.element)throw new Error("double ctor call");this._createElement(this.getTag(),this.getClass())}},O=A.prototype=Object.create(k);O.constructor=A,O.componentName="core.Item",O.anchorsMarginsUpdated=C.createSignal("anchorsMarginsUpdated"),O.newBoundingBox=C.createSignal("newBoundingBox"),a.addProperty(O,"int","x"),a.addProperty(O,"int","y"),a.addProperty(O,"int","z"),a.addProperty(O,"int","width"),a.addProperty(O,"int","height"),a.addProperty(O,"bool","clip"),a.addLazyProperty(O,"radius",function(t,e){var i,n={lazy$radius:i=new C.Radius(t,e)};return i.$c(n.$c$lazy$radius={}),(i=n.lazy$radius).$s(n.$c$lazy$radius),delete n.$c$lazy$radius,i.completed(),i}),a.addProperty(O,"bool","focus"),a.addProperty(O,"bool","focused"),a.addProperty(O,"bool","activeFocus"),a.addProperty(O,"Item","focusedChild"),a.addProperty(O,"bool","visible",!0),a.addProperty(O,"bool","visibleInView",!0),a.addProperty(O,"bool","recursiveVisible",!1),a.addProperty(O,"real","opacity",1),a.addLazyProperty(O,"anchors",function(t,e){var i,n={lazy$anchors:i=new C.Anchors(t,e)};return i.$c(n.$c$lazy$anchors={}),(i=n.lazy$anchors).$s(n.$c$lazy$anchors),delete n.$c$lazy$anchors,i.completed(),i}),a.addLazyProperty(O,"effects",function(t,e){var i,n={lazy$effects:i=new C.Effects(t,e)};return i.$c(n.$c$lazy$effects={}),(i=n.lazy$effects).$s(n.$c$lazy$effects),delete n.$c$lazy$effects,i.completed(),i}),a.addLazyProperty(O,"transform",function(t,e){var i,n={lazy$transform:i=new C.Transform(t,e)};return i.$c(n.$c$lazy$transform={}),(i=n.lazy$transform).$s(n.$c$lazy$transform),delete n.$c$lazy$transform,i.completed(),i}),a.addProperty(O,"bool","cssTranslatePositioning"),a.addProperty(O,"bool","cssNullTranslate3D"),a.addProperty(O,"bool","cssDelegateAlwaysVisibleOnAcceleratedSurfaces",!0),a.addConstProperty(O,"left",function(){return[this,0]}),a.addConstProperty(O,"top",function(){return[this,1]}),a.addConstProperty(O,"right",function(){return[this,2]}),a.addConstProperty(O,"bottom",function(){return[this,3]}),a.addConstProperty(O,"horizontalCenter",function(){return[this,4]}),a.addConstProperty(O,"verticalCenter",function(){return[this,5]}),a.addProperty(O,"int","viewX"),a.addProperty(O,"int","viewY"),a.addProperty(O,"int","keyProcessDelay"),O.discard=function(){C.Object.prototype.discard.apply(this),this.focusedChild=null,this._pressedHandlers={},this.element&&this.element.discard()},O._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var t=this.children,e=0;e<t.length;++e){var i=t[e];if(i._tryFocus())return this._focusChild(i),!0}return this.focus},O.setFocus=function(){this.forceActiveFocus()},O._updateStyle=function(){var t=this.element;t&&t.updateStyle()},O.toScreen=function(){for(var t=this,e=0,i=0,n=this.width,r=this.height;t;){if(e+=t.x+t.viewX,i+=t.y+t.viewY,t.hasOwnProperty("view")){var o=t.view.content;e+=o.x,i+=o.y}t=t.parent}return[e,i,e+n,i+r,e+n/2,i+r/2]},O.hasActiveFocus=function(){for(var t=this;t.parent;){if(t.parent.focusedChild!=t)return!1;t=t.parent}return!0},O.forceActiveFocus=function(){for(var t=this;t.parent;)t.parent._focusChild(t),t=t.parent;this._tryFocus()&&this._propagateFocusToParents()},O._propagateFocusToParents=function(){for(var t=this;t.parent&&(!t.parent.focusedChild||!t.parent.focusedChild.visible);)t.parent._focusChild(t),t=t.parent},O._updateVisibility=function(){var t=this.visible&&this.visibleInView,e=!0,i=this.view;if(void 0!==i){var n=i.content;n.cssDelegateAlwaysVisibleOnAcceleratedSurfaces&&(n.cssTranslatePositioning||n.cssNullTranslate3D)&&!$manifest$cssDisableTransformations&&(e=!1)}e&&this.style("visibility",t?"inherit":"hidden"),this.recursiveVisible=t&&(null===this.parent||this.parent.recursiveVisible)},O._setSizeAdjust=function(){var t=this.x+this.viewX+this._borderXAdjust,e=this.y+this.viewY+this._borderYAdjust;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?(this.transform.translateX=t,this.transform.translateY=e):(this.style("left",t),this.style("top",e))},O.getClass=function(){return""},O.getTag=function(){return"div"},O._focusTree=function(t){this.activeFocus=t,this.focusedChild&&this.focusedChild._focusTree(t)},O.addChild=function(t){C.Object.prototype.addChild.apply(this,arguments),t._tryFocus()&&t._propagateFocusToParents()},O._focusChild=function(t){if(t.parent!==this)throw new Error("invalid object passed as child");this.focusedChild!==t&&(this.focusedChild&&(this.focusedChild._focusTree(!1),this.focusedChild.focused=!1),this.focusedChild=t,this.focusedChild&&(this.focusedChild._focusTree(this.hasActiveFocus()),this.focusedChild.focused=!0))},O.focusChild=function(t){this._propagateFocusToParents(),this._focusChild(t)},O._updateVisibilityForChild=function(t,e){t.recursiveVisible=e&&t.visible&&t.visibleInView},O._attachElement=function(t){this.element&&this.element.discard(),(t._item=this).element=t;var e=this.parent;e&&e.element.append(t)},O._processKey=function(e,t){$manifest$trace$keys&&log(this.getComponentPath(),"_processKey",e,t);var i=t.timeStamp;if(this.keyProcessDelay){if(this._lastEvent&&i>this._lastEvent&&i-this._lastEvent<this.keyProcessDelay)return!0;this._lastEvent=i}var n=C.safeCall(this,[e,t],function(t){log("on "+e+" handler failed:",t,t.stack)}),r=this["__key__"+e];if(e in this._pressedHandlers&&this.invokeKeyHandlers(e,t,this._pressedHandlers[e],n))return!0;if(r&&this.invokeKeyHandlers(e,t,r,n))return!0;r=this.__key__Key;return!!("Key"in this._pressedHandlers&&this.invokeKeyHandlers(e,t,this._pressedHandlers.Key,n))||!(!r||!this.invokeKeyHandlers(e,t,r,n))},O.invokeKeyHandlers=function(t,e,i,n){for(var r=i.length-1;0<=r;--r){if(n(i[r]))return $manifest$trace$keys&&log("key "+t+" handled in "+(performance.now()-e.timeStamp).toFixed(3)+" ms by",this,(new Error).stack),!0}return!1},O.onPressed=function(t,i){var e;this._get("key",!0);e="Key"!=t?function(t,e){return e.accepted=!0,i(t,e),e.accepted}:i,t in this._pressedHandlers?this._pressedHandlers[t].push(e):this._pressedHandlers[t]=[e]},O.style=function(t,e){var i=this.element;if(i)return i.style(t,e);log("WARNING: style skipped:",t,e)},O._enqueueNextChildInFocusChain=function(t,e){this._tryFocus();var i=this.focusedChild;i&&i.visible&&(t.unshift(i),e.unshift(i))},O.registerStyle=function(t,e){var i="position: absolute; visibility: inherit; opacity: 1.0;";i+="border-style: solid; border-width: 0px; border-radius: 0px; box-sizing: border-box; border-color: rgba(0,0,0,1);",i+="white-space: nowrap; transform: none;",i+="left: 0px; top: 0px; width: 0px; height: 0px;",i+="font-family: "+$manifest$style$font$family+"; line-height: "+$manifest$style$font$lineHeight+"; ",$manifest$style$font$pixelSize?i+="font-size: "+$manifest$style$font$pixelSize+"px; ":$manifest$style$font$pointSize&&(i+="font-size: "+$manifest$style$font$pointSize+"pt; "),t.addRule(e,i)},O._createElement=function(t,e){var i=this._get("context",!0);null===(i=this._context)&&(i=this),i.registerStyle(this,t,e),this._attachElement(i.createElement(t,e))},C._protoOnChanged(O,"cssNullTranslate3D",function(t){$manifest$cssDisableTransformations||this.style("transform",t?"translateZ(0)":"")}),C._protoOnChanged(O,"focus",function(t){this.parent&&this.parent._tryFocus()}),C._protoOnChanged(O,"recursiveVisible",function(t){for(var e=this.children,i=0,n=e.length;i<n;++i){var r=e[i];this._updateVisibilityForChild(r,t)}!t&&this.parent&&this.parent._tryFocus()});y=function(t){var e=this.x+this.viewX;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateX=e:this.style("left",e),this.newBoundingBox()};C._protoOnChanged(O,"x",y),C._protoOnChanged(O,"viewX",y);function P(t){var e=this.y+this.viewY;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateY=e:this.style("top",e),this.newBoundingBox()}C._protoOnChanged(O,"viewY",P),C._protoOnChanged(O,"y",P),C._protoOnChanged(O,"opacity",function(t){this.element&&this.style("opacity",t)});function S(t){this._updateVisibility()}C._protoOnChanged(O,"visible",S),C._protoOnChanged(O,"visibleInView",S),C._protoOnChanged(O,"height",function(t){this.style("height",t-this._topPadding+this._borderHeightAdjust),this.newBoundingBox()}),C._protoOnChanged(O,"clip",function(t){this.style("overflow",t?"hidden":"visible")}),C._protoOnChanged(O,"width",function(t){this.style("width",t+this._borderWidthAdjust),this.newBoundingBox()}),C._protoOnChanged(O,"z",function(t){this.style("z-index",t)}),O.$c=function(t){k.$c.call(this,t.$b={})},O.$s=function(t){k.$s.call(this,t.$b),delete t.$b,this.completed()};var E=C.Item,T=E.prototype,z=e.BaseActivity=function(t,e){E.apply(this,arguments)},I=z.prototype=Object.create(T);I.constructor=z,I.componentName="controls.core.BaseActivity",I.started=C.createSignal("started"),I.stopped=C.createSignal("stopped"),a.addProperty(I,"bool","active"),a.addProperty(I,"string","name"),a.addProperty(I,"Item","manager"),I.clear=function(){this.manager.clear()},I.pop=function(t){this.manager.pop(t)},I.init=function(t,e){},I.closeAllExcept=function(t){this.manager.closeAllExcept(t)},I.removeActivity=function(t){this.manager.removeActivity(t)},I.push=function(t,e,i){this.manager.push(t,e,i)},I.replaceTopActivity=function(t,e,i){this.manager.replaceTopActivity(t,e,i)},I.popWithState=function(t){this.manager.popWithState(t)},I.setIntent=function(t,e){this.manager.setIntent(t,e)},I.setState=function(t,e){this.manager.setState(t,e)},C._protoOnKey(I,"Back",function(t,e){return this.manager.pop(),!0}),I.$c=function(t){T.$c.call(this,t.$b={})},I.$s=function(t){var e=this;T.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("visible",function(){e.visible=e.active},[e,"active"]),e._removeUpdater("manager"),e.manager=e.parent,e.completed()};var L=e.BaseActivity,U=L.prototype,H=e.Activity=function(t,e){L.apply(this,arguments)},M=H.prototype=Object.create(U);M.constructor=H,M.componentName="controls.core.Activity",M.getActivity=function(){return this},M.stop=function(){this.active=!1,this.stopped()},M.start=function(){this.active=!0,this.started()},M.$c=function(t){U.$c.call(this,t.$b={})},M.$s=function(t){U.$s.call(this,t.$b),delete t.$b,this.completed()};var j=C.Object,R=j.prototype,F=C.System=function(t,e){j.apply(this,arguments),this.vendor=C.vendor,this.device=C.device,this.os=C.os,this.browser=C.browser,this.userAgent=C.userAgent,this.language=C.language;var i=this._context;i.language=this.language.replace("-","_"),this.webkit=0<=this.userAgent.toLowerCase().indexOf("webkit"),this.support3dTransforms=i.backend.capabilities.csstransforms3d||!1,this.supportTransforms=i.backend.capabilities.csstransforms||!1,this.supportTransitions=i.backend.capabilities.csstransitions||!1,this.resolutionWidth=$manifest$resolutionWidth,this.resolutionHeight=$manifest$resolutionHeight},W=F.prototype=Object.create(R);W.constructor=F,W.componentName="core.System",a.addProperty(W,"string","userAgent"),a.addProperty(W,"string","language"),a.addProperty(W,"string","browser"),a.addProperty(W,"string","vendor"),a.addProperty(W,"string","os"),a.addProperty(W,"bool","webkit"),a.addProperty(W,"bool","support3dTransforms"),a.addProperty(W,"bool","supportTransforms"),a.addProperty(W,"bool","supportTransitions"),a.addProperty(W,"bool","portrait"),a.addProperty(W,"bool","landscape"),a.addProperty(W,"bool","pageActive",!0),a.addProperty(W,"int","screenWidth"),a.addProperty(W,"int","screenHeight"),a.addProperty(W,"int","contextWidth"),a.addProperty(W,"int","contextHeight"),a.addProperty(W,"int","resolutionWidth"),a.addProperty(W,"int","resolutionHeight"),W.Desktop=0,F.Desktop=0,W.Tv=1,F.Tv=1,W.Mobile=2,F.Mobile=2,a.addProperty(W,"enum","device"),W.MobileS=0,F.MobileS=0,W.MobileM=1,F.MobileM=1,W.MobileL=2,F.MobileL=2,W.Tablet=3,F.Tablet=3,W.Laptop=4,F.Laptop=4,W.LaptopL=5,F.LaptopL=5,W.Laptop4K=6,F.Laptop4K=6,a.addProperty(W,"enum","layoutType"),W._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var t=this.contextWidth;t<=320?this.layoutType=this.MobileS:t<=375?this.layoutType=this.MobileM:t<=425?this.layoutType=this.MobileL:t<=768?this.layoutType=this.Tablet:this.contextWidth<=1024?this.layoutType=this.Laptop:this.contextWidth<=1440?this.layoutType=this.LaptopL:this.layoutType=this.Laptop4K}};y=function(t){this._updateLayoutType()};C._protoOnChanged(W,"contextHeight",y),C._protoOnChanged(W,"contextWidth",y),W.$c=function(t){R.$c.call(this,t.$b={})},W.$s=function(t){var e=this;R.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("portrait",function(){e.portrait=e.parent.width<e.parent.height},[e.parent,"height",e.parent,"width"]),e._replaceUpdater("contextWidth",function(){e.contextWidth=e._context.width},[e._context,"width"]),e._replaceUpdater("landscape",function(){e.landscape=!e.portrait},[e,"portrait"]),e._replaceUpdater("contextHeight",function(){e.contextHeight=e._context.height},[e._context,"height"]),e.completed()};var N=C.Item,D=N.prototype,V=i.UiFingerprint=function(t,e){N.apply(this,arguments)},B=V.prototype=Object.create(D);B.constructor=V,B.componentName="src.UiFingerprint",B.$c=function(t){D.$c.call(this,t.$b={});var e=new C.Device(this);(t._this$child0=e).$c(t.$c$_this$child0={}),e._setId("device"),this.addChild(e);var i=new C.Text(this);(t._this$child1=i).$c(t.$c$_this$child1={}),i._setId("fp"),this.addChild(i)},B.$s=function(t){var e=this;D.$s.call(this,t.$b),delete t.$b,e.anchors._replaceUpdater("fill",function(){e.anchors.fill=e._context},[e,"context"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.completed();var n=t._this$child1;n.$s(t.$c$_this$child1),delete t.$c$_this$child1,n._replaceUpdater("text",function(){n.text=n._get("device").fingerprint},[n._get("device"),"fingerprint"]),n.font._removeUpdater("pointSize"),n.font.pointSize=32,n.anchors._removeUpdater("centerIn"),n.anchors.centerIn=n.parent,n.completed(),e.completed()};var Y=C.Object,q=Y.prototype,X=C.Effects=function(t,e){Y.apply(this,arguments)},K=X.prototype=Object.create(q);K.constructor=X,K.componentName="core.Effects",a.addProperty(K,"real","blur"),a.addProperty(K,"real","grayscale"),a.addProperty(K,"real","sepia"),a.addProperty(K,"real","brightness"),a.addProperty(K,"real","contrast"),a.addProperty(K,"real","hueRotate"),a.addProperty(K,"real","invert"),a.addProperty(K,"real","saturate"),a.addLazyProperty(K,"shadow",function(t,e){var i,n={lazy$shadow:i=new C.Shadow(t,e)};return i.$c(n.$c$lazy$shadow={}),(i=n.lazy$shadow).$s(n.$c$lazy$shadow),delete n.$c$lazy$shadow,i.completed(),i}),K._getFilterStyle=function(){var t=[];return this._addStyle(t,"blur","blur","px"),this._addStyle(t,"grayscale"),this._addStyle(t,"sepia"),this._addStyle(t,"brightness"),this._addStyle(t,"contrast"),this._addStyle(t,"hueRotate","hue-rotate","deg"),this._addStyle(t,"invert"),this._addStyle(t,"saturate"),t},K._addStyle=function(t,e,i,n){var r=this[e];r&&t.push((i||e)+"("+r+(n||"")+") ")},K._updateStyle=function(t){var e=this._getFilterStyle().join(""),i=this.parent,n={};n["-webkit-filter"]=e,n.filter=e,!this.shadow||this.shadow._empty()&&!t||(n["box-shadow"]=this.shadow._getFilterStyle()),i.style(n)};y=function(t){this._updateStyle()};C._protoOnChanged(K,"saturate",y),C._protoOnChanged(K,"brightness",y),C._protoOnChanged(K,"grayscale",y),C._protoOnChanged(K,"sepia",y),C._protoOnChanged(K,"invert",y),C._protoOnChanged(K,"hueRotate",y),C._protoOnChanged(K,"contrast",y),C._protoOnChanged(K,"blur",y),K.$c=function(t){q.$c.call(this,t.$b={})},K.$s=function(t){q.$s.call(this,t.$b),delete t.$b,this.completed()};var G=C.Object,Z=G.prototype,J=C.Shadow=function(t,e){G.apply(this,arguments)},Q=J.prototype=Object.create(Z);Q.constructor=J,Q.componentName="core.Shadow",a.addProperty(Q,"real","x"),a.addProperty(Q,"real","y"),a.addProperty(Q,"Color","color","black"),a.addProperty(Q,"real","blur"),a.addProperty(Q,"real","spread"),Q._empty=function(){return!(this.x||this.y||this.blur||this.spread)},Q._getFilterStyle=function(){var t=this.x+"px "+this.y+"px "+this.blur+"px ";return 0<this.spread&&(t+=this.spread+"px "),t+=C.Color.normalize(this.color)};y=function(t){this.parent._updateStyle(!0)};C._protoOnChanged(Q,"x",y),C._protoOnChanged(Q,"spread",y),C._protoOnChanged(Q,"y",y),C._protoOnChanged(Q,"blur",y),C._protoOnChanged(Q,"color",y),Q.$c=function(t){Z.$c.call(this,t.$b={})},Q.$s=function(t){Z.$s.call(this,t.$b),delete t.$b,this.completed()};var tt=C.Object,et=tt.prototype,it=C.Anchors=function(t,e){tt.apply(this,arguments),this._items=[],this._grabX=!1,this._grabY=!1},nt=it.prototype=Object.create(et);nt.constructor=it,nt.componentName="core.Anchors",a.addProperty(nt,"AnchorLine","bottom"),a.addProperty(nt,"AnchorLine","verticalCenter"),a.addProperty(nt,"AnchorLine","top"),a.addProperty(nt,"AnchorLine","left"),a.addProperty(nt,"AnchorLine","horizontalCenter"),a.addProperty(nt,"AnchorLine","right"),a.addProperty(nt,"Item","fill"),a.addProperty(nt,"Item","centerIn"),a.addProperty(nt,"int","margins"),a.addProperty(nt,"int","bottomMargin"),a.addProperty(nt,"int","topMargin"),a.addProperty(nt,"int","leftMargin"),a.addProperty(nt,"int","rightMargin"),nt._scheduleUpdate=function(){this._context.delayedAction("update-anchors",this,this._updateAll)},nt._updateAll=function(){function t(t){var e,i=t[0],n=t[1],r=C.indexOf(i);return r<0?(e=i.toScreen(),C.push(i),k.push(e)):e=k[r],e[n]}var e,i,n,r,o,a,s=this,c=s.parent,l=c.parent.toScreen(),h=l[0],d=l[1],p=s.fill,u=s._getAnchor("left")||(p?p.left:null),f=s._getAnchor("right")||(p?p.right:null),g=s._getAnchor("top")||(p?p.top:null),m=s._getAnchor("bottom")||(p?p.bottom:null),y=s.centerIn,v=s._getAnchor("horizontalCenter")||(y?y.horizontalCenter:null),_=s._getAnchor("verticalCenter")||(y?y.verticalCenter:null),b=s.leftMargin||s.margins,w=s.rightMargin||s.margins,$=s.topMargin||s.margins,x=s.bottomMargin||s.margins,C=[],k=[];u&&f?(e=t(u),n=t(f),c.x=e+b-h-c.viewX,c.width=n-e-w-b):u&&v?(e=t(u),o=t(v),c.x=e+b-h-c.viewX,c.width=2*(o-e)-w-b):v&&f?(o=t(v),n=t(f),c.width=2*(n-o)-w-b,c.x=o-(c.width+b-w)/2-h-c.viewX):u?(e=t(u),c.x=e+b-h-c.viewX):f?(n=t(f),c.x=n-h-w-c.width-c.viewX):v?(o=t(v),c.x=o-(c.width+b-w)/2-h-c.viewX):this._grabX&&(c.x=b),g&&m?(i=t(g),r=t(m),c.y=i+$-d-c.viewY,c.height=r-i-x-$):g&&_?(i=t(g),a=t(_),c.y=i+$-d-c.viewY,c.height=2*(a-i)-x-$):_&&m?(a=t(_),r=t(m),c.height=2*(r-a)-x-$,c.y=a-(c.height+$-x)/2-d-c.viewY):g?(i=t(g),c.y=i+$-d-c.viewY):m?(r=t(m),c.y=r-d-x-c.height-c.viewY):_?(a=t(_),c.y=a-(c.height+$-x)/2-d-c.viewY):this._grabY&&(c.y=$)},nt._grab=function(t,e){"x"===e&&(this._grabX=!0),"y"===e&&(this._grabY=!0),t._removeUpdater(e)},nt._getAnchor=function(t){var e=this[t];return e?Array.isArray(e)?e:e[t]:null},nt._subscribe=function(t){var e=this._items;e.indexOf(t)<0&&(e.push(t),this.connectOn(t,"newBoundingBox",this._scheduleUpdate.bind(this)))},C._protoOnChanged(nt,"fill",function(t){if(this._scheduleUpdate(),null!==t){var e=this.parent;this._grab(e,"x"),this._grab(e,"width"),this._grab(e,"y"),this._grab(e,"height"),this._subscribe(t)}}),C._protoOnChanged(nt,"centerIn",function(t){if(this._scheduleUpdate(),null!==t){var e=this.parent;this._grab(e,"x"),this._grab(e,"y"),this._subscribe(t),this._subscribe(e)}}),C._protoOnChanged(nt,"bottom",function(t){this._scheduleUpdate();var e=this._getAnchor("bottom");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.top||this.verticalCenter)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(e[0])}}),C._protoOnChanged(nt,"horizontalCenter",function(t){this._scheduleUpdate();var e=this._getAnchor("horizontalCenter");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.left||this.right)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(e[0])}}),C._protoOnChanged(nt,"left",function(t){this._scheduleUpdate();var e=this._getAnchor("left");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.right||this.horizontalCenter)&&(this._grab(i,"width"),this._subscribe(i)),this._subscribe(e[0])}}),C._protoOnChanged(nt,"right",function(t){this._scheduleUpdate();var e=this._getAnchor("right");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.left||this.horizontalCenter)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(e[0])}}),C._protoOnChanged(nt,"top",function(t){this._scheduleUpdate();var e=this._getAnchor("top");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.bottom||this.verticalCenter)&&(this._grab(i,"height"),this._subscribe(i)),this._subscribe(e[0])}}),C._protoOnChanged(nt,"verticalCenter",function(t){this._scheduleUpdate();var e=this._getAnchor("verticalCenter");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.top||this.bottom)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(e[0])}});y=function(t){this.parent.anchorsMarginsUpdated(),this._scheduleUpdate()};C._protoOnChanged(nt,"bottomMargin",y),C._protoOnChanged(nt,"leftMargin",y),C._protoOnChanged(nt,"topMargin",y),C._protoOnChanged(nt,"rightMargin",y),C._protoOnChanged(nt,"margin",y),nt.$c=function(t){et.$c.call(this,t.$b={})},nt.$s=function(t){et.$s.call(this,t.$b),delete t.$b,this.completed()};var rt=C.Item,ot=rt.prototype,at=C.Context=function(t,e){rt.apply(this,arguments),this.options=arguments[2],this.l10n=this.options.l10n||{},((this._local.context=this)._context=this)._started=!1,this._completed=!1,this._processingActions=!1,this._delayedActions=[],this._completedObjects=[],this._stylesRegistered={},this._asyncInvoker=C.safeCall(this,[],function(t){log("async action failed:",t,t.stack)}),this.backend=x._backend(),this._init()},st=at.prototype=Object.create(ot);st.constructor=at,st.componentName="core.Context",a.addProperty(st,"int","scrollY"),a.addProperty(st,"int","keyProcessDelay"),a.addProperty(st,"bool","fullscreen"),a.addProperty(st,"string","language"),a.addProperty(st,"System","system"),a.addProperty(st,"Location","location"),a.addProperty(st,"Stylesheet","stylesheet"),a.addProperty(st,"string","buildIdentifier","Powered by PureQML No-Partnership Edition Engine"),a.addProperty(st,"int","virtualWidth",$manifest$virtual$width),a.addProperty(st,"int","virtualHeight",$manifest$virtual$height),a.addProperty(st,"real","virtualScale"),st._processActions=function(){if(this._started&&!this._processingActions){this._processingActions=!0;for(var t=this._asyncInvoker;this._delayedActions.length||this._completedObjects.length;){var e=this._delayedActions;this._delayedActions=[];for(var i=0,n=e.length;i<n;++i)t(e[i]);var r=this._completedObjects;this._completedObjects=[];for(i=0,n=r.length;i<n;++i){var o=r[i];try{o.__complete()}catch(t){log("onCompleted failed",t,t.stack)}}}this._processingActions=!1,this.backend.tick(this)}},st._init=function(){log("Context: initializing..."),new this.backend.init(this)},st._run=function(){log("Context: signalling layout"),this.visibleInView=!0,this.newBoundingBox(),log("Context: calling completed()"),this._started=!0,this._processActions(),this._completed=!0},st.init=function(){this.__init(),this.backend.initSystem(this.system)},st.run=function(){this.backend.run(this,this._run.bind(this))},st.scheduleComplete=function(){this._get("context",!0);this.delayedAction("context:completed",this,this._processActions)},st.tr=function(){return this.qsTr.apply(this,arguments)},st.scheduleAction=function(t){this._delayedActions.push(t)},st.wrapNativeCallback=function(e){var i=this;return function(){try{var t=e.apply(this,arguments);return i._processActions(),t}catch(t){throw i._processActions(),t}}},st.start=function(t){return this.children.push(t),t.__init(),log("Context: created instance"),t},st.registerStyle=function(t,e,i){var n=(i=this.mangleClass(i))?e+"."+i:e;n in this._stylesRegistered||(t.registerStyle(this.stylesheet,n),this._stylesRegistered[n]=!0)},st.processKey=function(t,e){for(var i=a.forEach(this,C.Item.prototype._enqueueNextChildInFocusChain,[]),n=i.length,r=0;r<n;++r){if(i[r]._processKey(t,e))return!0}return!1},st.updateL10n=function(t,e){this.l10n[t]=e,this.__properties.language.callOnChanged(this,"language",this.language,this.language)},st.mangleClass=function(t){return $manifest$html5$prefix+t},st.delayedAction=function(t,e,i,n){if(e._registerDelayedAction(t)){var r=function(){e._cancelDelayedAction(t),i.call(e)};0<n?setTimeout(r,n):0===n?this.backend.requestAnimationFrame(r):this.scheduleAction(r)}},st.__onCompleted=function(t){this._completedObjects.push(t)},st.createElement=function(t,e){return this.backend.createElement(this,t,e)},st.qsTr=function(t){var i=arguments,e=this.language,n=(this.l10n[e]||{})[t]||{};for(var r in n){t=n[r];break}return t.replace(/%(\d+)/,function(t,e){return i[e]})},C._protoOnChanged(st,"fullscreen",function(t){t?this.backend.enterFullscreenMode(this.element):this.backend.exitFullscreenMode()}),st.$c=function(t){var e=this;ot.$c.call(this,t.$b={});var i=new o.Stylesheet(e);(t._this$stylesheet=i).$c(t.$c$_this$stylesheet={}),e.stylesheet=i;var n=new C.System(e);(t._this$system=n).$c(t.$c$_this$system={}),e.system=n;var r=new C.Location(e);(t._this$location=r).$c(t.$c$_this$location={}),e.location=r},st.$s=function(t){var e=this;ot.$s.call(this,t.$b),delete t.$b;var i=t._this$stylesheet;i.$s(t.$c$_this$stylesheet),delete t.$c$_this$stylesheet,i.completed(),e._replaceUpdater("virtualScale",function(){e.virtualScale=Math.min((e.system.resolutionWidth||e.width)/e.virtualWidth,(e.system.resolutionHeight||e.height)/e.virtualHeight)},[e.system,"resolutionWidth",e,"virtualHeight",e,"height",e,"virtualWidth",e,"width",e.system,"resolutionHeight"]);var n=t._this$system;n.$s(t.$c$_this$system),delete t.$c$_this$system,n.completed(),e._removeUpdater("visibleInView"),e.visibleInView=!1;var r=t._this$location;r.$s(t.$c$_this$location),delete t.$c$_this$location,r.completed(),e.completed()};var ct=C.EventEmitter,lt=ct.prototype,ht=C.RAIIEventEmitter=function(t,e){ct.apply(this,arguments),this._onListener={}},dt=ht.prototype=Object.create(lt);dt.constructor=ht,dt.componentName="core.RAIIEventEmitter",dt.removeAllListeners=function(t){C.EventEmitter.prototype.removeAllListeners.call(this,t),t in this._onListener?this._onListener[t][1](t):""in this._onListener&&this._onListener[""][1](t)},dt.on=function(t,e){if(!(t in this._eventHandlers)&&(t in this._onListener?this._onListener[t][0](t):""in this._onListener&&this._onListener[""][0](t),this._eventHandlers[t]))throw new Error("listener callback added event handler");C.EventEmitter.prototype.on.call(this,t,e)},dt.onListener=function(t,e,i){this._onListener[t]=[e,i]},dt.$c=function(t){lt.$c.call(this,t.$b={})},dt.$s=function(t){lt.$s.call(this,t.$b),delete t.$b,this.completed()};var pt=C.Object,ut=pt.prototype,ft=C.Font=function(t,e){pt.apply(this,arguments)},gt=ft.prototype=Object.create(ut);gt.constructor=ft,gt.componentName="core.Font",a.addProperty(gt,"string","family",$manifest$style$font$family),a.addProperty(gt,"bool","italic"),a.addProperty(gt,"bool","bold"),a.addProperty(gt,"bool","underline"),a.addProperty(gt,"bool","overline"),a.addProperty(gt,"bool","strike"),a.addProperty(gt,"bool","strikeout"),a.addProperty(gt,"real","letterSpacing"),a.addProperty(gt,"real","wordSpacing"),a.addProperty(gt,"int","pixelSize",$manifest$style$font$pixelSize),a.addProperty(gt,"int","pointSize"),a.addProperty(gt,"real","lineHeight",$manifest$style$font$lineHeight),a.addProperty(gt,"int","weight"),gt.MixedCase=0,ft.MixedCase=0,gt.AllUppercase=1,ft.AllUppercase=1,gt.AllLowercase=2,ft.AllLowercase=2,gt.SmallCaps=3,ft.SmallCaps=3,gt.Capitalize=4,ft.Capitalize=4,a.addProperty(gt,"enum","capitalization"),gt._updateTextDecoration=function(){var t=(this.underline?" underline":"")+(this.overline?" overline":"")+(this.strike||this.strikeout?" line-through":"");this.parent.style("text-decoration",t),this.parent._updateSize()},C._protoOnChanged(gt,"capitalization",function(t){switch(this.parent.style("text-transform","none"),this.parent.style("font-variant","normal"),t){case this.AllUppercase:this.parent.style("text-transform","uppercase");break;case this.AllLowercase:this.parent.style("text-transform","lowercase");break;case this.SmallCaps:this.parent.style("font-variant","small-caps");break;case this.Capitalize:this.parent.style("text-transform","capitalize")}}),C._protoOnChanged(gt,"pointSize",function(t){0<t&&(this.pixelSize=0),this.parent.style("font-size",0<t?t+"pt":""),this.parent._updateSize()}),C._protoOnChanged(gt,"pixelSize",function(t){0<t&&(this.pointSize=0),this.parent.style("font-size",0<t?t+"px":""),this.parent._updateSize()});y=function(t){this._updateTextDecoration()};C._protoOnChanged(gt,"strike",y),C._protoOnChanged(gt,"overline",y),C._protoOnChanged(gt,"strikeout",y),C._protoOnChanged(gt,"underline",y),C._protoOnChanged(gt,"family",function(t){this.parent.style("font-family",t),this.parent._updateSize()}),C._protoOnChanged(gt,"italic",function(t){this.parent.style("font-style",t?"italic":"normal"),this.parent._updateSize()}),C._protoOnChanged(gt,"weight",function(t){this.parent.style("font-weight",t),this.parent._updateSize()}),C._protoOnChanged(gt,"bold",function(t){this.parent.style("font-weight",t?"bold":"normal"),this.parent._updateSize()}),C._protoOnChanged(gt,"letterSpacing",function(t){this.parent.style("letter-spacing",t+"px"),this.parent._updateSize()}),C._protoOnChanged(gt,"lineHeight",function(t){this.parent.style("line-height",t),this.parent._updateSize()}),C._protoOnChanged(gt,"wordSpacing",function(t){this.parent.style("word-spacing",t+"px"),this.parent._updateSize()}),gt.$c=function(t){ut.$c.call(this,t.$b={})},gt.$s=function(t){ut.$s.call(this,t.$b),delete t.$b,this.completed()};var mt=C.Object,yt=mt.prototype,vt=o.Stylesheet=function(t,e){mt.apply(this,arguments);var i=this._context,n=i.options,r=this.style=i.createElement("style");r.dom.type="text/css",this.prefix=n.prefix;var o=n.id,a=null===document.getElementById(i,o),s=window.Modernizr.prefixedCSS("user-select")+": none; ",c=x.core.os,l="android"===c||"androidttk"===c||"hisense"===c;r.setHtml("div#"+o+" { position: absolute; visibility: hidden; left: 0px; top: 0px; }"+("webOS"===c||l?this.mangleRule("div","{ "+s+" }"):"")+(l?this.mangleRule("div","{ -webkit-tap-highlight-color: rgba(255, 255, 255, 0); -webkit-focus-ring-color: rgba(255, 255, 255, 0); outline: none; }"):"")+(a?"body { padding: 0; margin: 0; border: 0px; overflow: hidden; }":"")+this.mangleRule("video","{ position: absolute; }")+this.mangleRule("img","{ position: absolute; -webkit-touch-callout: none; "+s+" }"));var h=x.html5.html.getElement(i,"head");h.append(r),h.updateStyle(),this._addRule=x.html5.html.createAddRule(r.dom).bind(this),this._lastId=0},_t=vt.prototype=Object.create(yt);_t.constructor=vt,_t.componentName="html5.Stylesheet",_t.allocateClass=function(t){var e=this.prefix;return(e||"")+t+"-"+this._lastId++},_t.mangleSelector=function(t){var e=this.prefix;return e?t+"."+e+"core-item":t},_t.mangleRule=function(t,e){return this.mangleSelector(t)+" "+e+" "},_t.addRule=function(t,e){this._addRule(t,e)},_t.$c=function(t){yt.$c.call(this,t.$b={})},_t.$s=function(t){yt.$s.call(this,t.$b),delete t.$b,this.completed()};var bt=C.Object,wt=bt.prototype,$t=C.Device=function(t,e){bt.apply(this,arguments);var i=C.__deviceBackend;if(!i)throw new Error("no backend found");if(i().createDevice(this),$manifest$system$fingerprint){var n=new o.fingerprint.fingerprint.Fingerprint;this._context.backend.fingerprint(this._context,n),this.fingerprint=n.finalize(),log("fingerprint",this.fingerprint)}},xt=$t.prototype=Object.create(wt);xt.constructor=$t,xt.componentName="core.Device",xt.propertyUpdated=C.createSignal("propertyUpdated"),a.addProperty(xt,"string","macAddress"),a.addProperty(xt,"string","modelName"),a.addProperty(xt,"string","deviceId"),a.addProperty(xt,"string","firmware"),a.addProperty(xt,"string","language"),a.addProperty(xt,"string","country"),a.addProperty(xt,"string","sdk"),a.addProperty(xt,"string","ip"),a.addProperty(xt,"string","fingerprint"),a.addProperty(xt,"bool","supportingUhd"),a.addProperty(xt,"bool","supportingHdr"),a.addProperty(xt,"bool","supporting3d");y=function(t){this.propertyUpdated()};C._protoOnChanged(xt,"supportingUhd",y),C._protoOnChanged(xt,"deviceId",y),C._protoOnChanged(xt,"firmware",y),C._protoOnChanged(xt,"sdk",y),C._protoOnChanged(xt,"macAddess",y),C._protoOnChanged(xt,"supporting3d",y),C._protoOnChanged(xt,"modelName",y),xt.$c=function(t){wt.$c.call(this,t.$b={})},xt.$s=function(t){wt.$s.call(this,t.$b),delete t.$b,this.completed()};var Ct=C.Object,kt=Ct.prototype,At=C.Transform=function(t,e){Ct.apply(this,arguments),this._transforms={}},Ot=At.prototype=Object.create(kt);Ot.constructor=At,Ot.componentName="core.Transform",a.addProperty(Ot,"int","perspective"),a.addProperty(Ot,"int","translateX"),a.addProperty(Ot,"int","translateY"),a.addProperty(Ot,"int","translateZ"),a.addProperty(Ot,"real","rotateX"),a.addProperty(Ot,"real","rotateY"),a.addProperty(Ot,"real","rotateZ"),a.addProperty(Ot,"real","rotate"),a.addProperty(Ot,"real","scaleX"),a.addProperty(Ot,"real","scaleY"),a.addProperty(Ot,"real","skewX"),a.addProperty(Ot,"real","skewY"),Ot._updateTransform=function(){var t="";for(var e in this._transforms)t+=e,t+="("+this._transforms[e]+") ";this.parent.style("transform",t)},C._protoOnChanged(Ot,"perspective",function(t){this._transforms.perspective=t+"px",this._updateTransform()}),C._protoOnChanged(Ot,"rotate",function(t){this._transforms.rotate=t+"deg",this._updateTransform()}),C._protoOnChanged(Ot,"rotateX",function(t){this._transforms.rotateX=t+"deg",this._updateTransform()}),C._protoOnChanged(Ot,"rotateY",function(t){this._transforms.rotateY=t+"deg",this._updateTransform()}),C._protoOnChanged(Ot,"rotateZ",function(t){this._transforms.rotateZ=t+"deg",this._updateTransform()}),C._protoOnChanged(Ot,"scaleX",function(t){this._transforms.scaleX=t,this._updateTransform()}),C._protoOnChanged(Ot,"scaleY",function(t){this._transforms.scaleY=t,this._updateTransform()}),C._protoOnChanged(Ot,"skewX",function(t){this._transforms.skewX=t+"deg",this._updateTransform()}),C._protoOnChanged(Ot,"skewY",function(t){this._transforms.skewY=t+"deg",this._updateTransform()}),C._protoOnChanged(Ot,"translateX",function(t){this._transforms.translateX=t+"px",this._updateTransform()}),C._protoOnChanged(Ot,"translateY",function(t){this._transforms.translateY=t+"px",this._updateTransform()}),C._protoOnChanged(Ot,"translateZ",function(t){this._transforms.translateZ=t+"px",this._updateTransform()}),Ot.$c=function(t){kt.$c.call(this,t.$b={})},Ot.$s=function(t){kt.$s.call(this,t.$b),delete t.$b,this.completed()};var Pt=C.Item,St=Pt.prototype,Et=C.Loader=function(t,e){Pt.apply(this,arguments)},Tt=Et.prototype=Object.create(St);Tt.constructor=Et,Tt.componentName="core.Loader",Tt.loaded=C.createSignal("loaded"),a.addProperty(Tt,"string","source"),a.addProperty(Tt,"Object","item"),Tt.discard=function(){this.discardItem(),C.Item.prototype.discard.call(this)},Tt.discardItem=function(){var t=this.item;t&&(t.discard(),t=null)},Tt._load=function(){var t=this.source;if(t){log("loading "+t+"…");for(var e=t.split("."),i=x;e.length;){if(void 0===(i=i[e.shift()]))throw new Error("unknown component used: "+t)}var n=new i(this);n.__init(),this.item=n,this._context.scheduleComplete(),this._updateVisibilityForChild(this.item,this.recursiveVisible),this._tryFocus(),this.loaded()}},Tt.__complete=function(){St.__complete.call(this),!this.item&&this.source&&this._load()},C._protoOnChanged(Tt,"recursiveVisible",function(t){this.item&&this._updateVisibilityForChild(this.item,t)}),C._protoOnChanged(Tt,"source",function(t){this.discardItem(),this._load()}),Tt.$c=function(t){St.$c.call(this,t.$b={})},Tt.$s=function(t){St.$s.call(this,t.$b),delete t.$b,this.completed()};var zt=e.BaseActivity,It=zt.prototype,Lt=e.LazyActivity=function(t,e){zt.apply(this,arguments)},Ut=Lt.prototype=Object.create(It);Ut.constructor=Lt,Ut.componentName="controls.core.LazyActivity",a.addProperty(Ut,"string","component"),Ut.init=function(){x.controls.core.BaseActivity.prototype.init.apply(this,arguments);var t=this.createActivity();t&&t.init.apply(t,arguments)},Ut.start=function(){this.createActivity().start(),this.visible=!0},Ut.stop=function(){this.visible=!1;var t=this.getActivity();t&&t.stop()},Ut.getActivity=function(){return this._get("loader",!0).item},Ut.createActivity=function(){var t=this._get("loader",!0),e=t.item;if(!e){if(t.source=this.component,((e=t.item).anchors.fill=this)._context._processActions(),e.manager=this.manager,!e)throw new Error("can't create component "+this.component);var i=this;e.on("started",function(){i.started()}),e.on("stopped",function(){i.stopped()})}return t.item},Ut.$c=function(t){It.$c.call(this,t.$b={});var e=new C.Loader(this);(t._this$child0=e).$c(t.$c$_this$child0={}),e._setId("loader"),this.addChild(e)},Ut.$s=function(t){var e=this;It.$s.call(this,t.$b),delete t.$b,e.anchors._replaceUpdater("fill",function(){e.anchors.fill=e.manager},[e,"manager"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.anchors._replaceUpdater("fill",function(){i.anchors.fill=i.parent.manager},[i.parent,"manager"]),i.completed(),e.completed()};var Ht=C.Item,Mt=Ht.prototype,jt=C.Text=function(t,e){Ht.apply(this,arguments),this._context.backend.initText(this),0<this.text.length&&this._setText(this.text)},Rt=jt.prototype=Object.create(Mt);Rt.constructor=jt,Rt.componentName="core.Text",a.addProperty(Rt,"string","text"),a.addProperty(Rt,"color","color"),a.addLazyProperty(Rt,"shadow",function(t,e){var i,n={lazy$shadow:i=new C.Shadow(t,e)};return i.$c(n.$c$lazy$shadow={}),(i=n.lazy$shadow).$s(n.$c$lazy$shadow),delete n.$c$lazy$shadow,i.completed(),i}),a.addLazyProperty(Rt,"font",function(t,e){var i,n={lazy$font:i=new C.Font(t,e)};return i.$c(n.$c$lazy$font={}),(i=n.lazy$font).$s(n.$c$lazy$font),delete n.$c$lazy$font,i.completed(),i}),a.addProperty(Rt,"int","paintedWidth"),a.addProperty(Rt,"int","paintedHeight"),Rt.AlignTop=0,jt.AlignTop=0,Rt.AlignBottom=1,jt.AlignBottom=1,Rt.AlignVCenter=2,jt.AlignVCenter=2,a.addProperty(Rt,"enum","verticalAlignment"),Rt.Html=0,jt.Html=0,Rt.Text=1,jt.Text=1,a.addProperty(Rt,"enum","textFormat"),Rt.AlignLeft=0,jt.AlignLeft=0,Rt.AlignRight=1,jt.AlignRight=1,Rt.AlignHCenter=2,jt.AlignHCenter=2,Rt.AlignJustify=3,jt.AlignJustify=3,a.addProperty(Rt,"enum","horizontalAlignment"),Rt.NoWrap=0,jt.NoWrap=0,Rt.WordWrap=1,jt.WordWrap=1,Rt.WrapAnywhere=2,jt.WrapAnywhere=2,Rt.Wrap=3,jt.Wrap=3,a.addProperty(Rt,"enum","wrapMode"),Rt._updateSize=function(){this.recursiveVisible&&(this._updateSizeNeeded||this.clip)&&this._scheduleUpdateSize()},Rt._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow",""),C.Item.prototype._updateStyle.apply(this,arguments)},Rt._updateSizeImpl=function(){if(0===this.text.length)return this.paintedWidth=0,void(this.paintedHeight=0);this._context.backend.layoutText(this)},Rt._scheduleUpdateSize=function(){this._context.delayedAction("text:update-size",this,this._updateSizeImpl)},Rt._enableSizeUpdate=function(){this._updateSizeNeeded=!0,this._updateSize()},Rt._updateWSHandling=function(){var t=this.textFormat===this.Text;switch(this.wrapMode){case this.NoWrap:this.style({"white-space":t?"pre":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":t?"pre-wrap":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":t?"pre-wrap":"normal","word-break":"break-all"})}this._updateSize()},Rt.getClass=function(){return"core-text"},Rt._setText=function(t){this._context.backend.setText(this,t)},Rt.on=function(t,e){this._updateSizeNeeded||"newBoundingBox"===t&&this._enableSizeUpdate(),C.Item.prototype.on.apply(this,arguments)},Rt.onChanged=function(t,e){if(!this._updateSizeNeeded)switch(t){case"right":case"width":case"bottom":case"height":case"verticalCenter":case"horizontalCenter":this._enableSizeUpdate()}C.Item.prototype.onChanged.apply(this,arguments)},Rt.registerStyle=function(t,e){t.addRule(e,"width: auto; height: auto;")},C._protoOnChanged(Rt,"recursiveVisible",function(t){t&&this._updateSize()}),C._protoOnChanged(Rt,"horizontalAlignment",function(t){switch(t){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}}),C._protoOnChanged(Rt,"verticalAlignment",function(t){switch(this._enableSizeUpdate(),t){case this.AlignTop:this.style("-pure-text-vertical-align","top");break;case this.AlignVCenter:this.style("-pure-text-vertical-align","middle");break;case this.AlignBottom:this.style("-pure-text-vertical-align","bottom")}});var Ft,Wt,Nt,Dt,Vt,Bt,Yt;y=function(t){this._updateWSHandling()};function qt(t){if(t&&t.name,this._storage=window.localStorage,!this._storage)throw new Error("no local storage support")}function Xt(t){this._ui=t;var e=window.location;this.updateActualValues();var i=this,n=t._context;n.window.on("hashchange",function(){i._ui.hash=e.hash}.bind(this)),n.window.on("popstate",function(){i.updateActualValues()}.bind(this))}function Kt(){log("creating fingerprint"),this.__visited=[],this.__text=""}function Gt(t){var e=t._context.createElement("video");e.dom.preload="metadata",this.element=e,this.ui=t,this.setEventListeners(),t.element.remove(),t.element=e,t.parent.element.append(t.element),this._xhr=new XMLHttpRequest,this._xhr.addEventListener("load",this.parseManifest.bind(this))}function Zt(t){var e=t._context,i=e.system.os+"_"+e.system.browser;i=i.replace(/\s/g,""),t.deviceId=i+"_"+Math.random().toString(36).substr(2,9)}return C._protoOnChanged(Rt,"wrapMode",y),C._protoOnChanged(Rt,"textFormat",y),C._protoOnChanged(Rt,"text",function(t){this._setText(t),this._updateSize()}),C._protoOnChanged(Rt,"width",function(t){this._updateSize()}),C._protoOnChanged(Rt,"color",function(t){this.style("color",C.Color.normalize(t))}),Rt.$c=function(t){Mt.$c.call(this,t.$b={})},Rt.$s=function(t){var e=this;Mt.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.paintedWidth},[e,"paintedWidth"]),e._replaceUpdater("height",function(){e.height=e.paintedHeight},[e,"paintedHeight"]),e.completed()},x.core.model=function(){function l(t,e){this.type=t,this.length=e}var t={};t.ModelUpdate=function(){this.count=0,this._reset()},t.ModelUpdate.prototype.constructor=t.ModelUpdate,t.ModelUpdate.prototype._reset=function(){this._ranges=[new l(0,this.count)],this._updateIndex=this.count},t.ModelUpdate.prototype._setUpdateIndex=function(t){t<this._updateIndex&&(this._updateIndex=t)},t.ModelUpdate.prototype._find=function(t){var e,i=this._ranges;for(e=0;e<i.length;++e){var n=i[e];if(t<n.length)return{index:e,offset:t};0<n.length&&(t-=n.length)}if(0!=t)throw new Error("invalid index "+t);return{index:e-1,offset:n.length}},t.ModelUpdate.prototype.reset=function(t){this.update(t,0,Math.min(t.count,this.count)),this.count<t.count?this.insert(t,this.count,t.count):this.remove(t,t.count,this.count)},t.ModelUpdate.prototype._merge=function(){for(var t=this._ranges,e=1;e<t.length;){var i=t[e-1],n=t[e];if(i.type===n.type)if(1===i.type&&i.length<0&&0<n.length){var r=Math.min(-i.length,n.length);i.type=2,n.length+=i.length,i.length=r,1<e&&--e}else i.length+=n.length,t.splice(e,1);else 1===i.type&&0===i.length?t.splice(e,1):++e}},t.ModelUpdate.prototype._split=function(t,e,i,n){var r=this._ranges;if(0===e)return r.splice(t,0,new l(i,n)),t+1;var o=r[t],a=o.length-e;return o.length=e,0!=a?r.splice(t+1,0,new l(i,n),new l(o.type,a)):r.splice(t+1,0,new l(i,n)),t+2},t.ModelUpdate.prototype.insert=function(t,e,i){if(!(i<=e)){this._setUpdateIndex(e);var n=this._ranges,r=i-e;if(this.count+=r,this.count!=t.count)throw new Error("unbalanced insert "+this.count+" + ["+e+"-"+i+"], model reported "+t.count);var o=this._find(e),a=n[o.index];0===a.length?(a.type=1,a.length+=r):0<=o.offset?this._split(o.index,o.offset,1,r):this._split(o.index+1,0,1,r),this._merge()}},t.ModelUpdate.prototype.remove=function(t,e,i){if(!(i<=e)){this._setUpdateIndex(e);var n=this._ranges,r=i-e;if(this.count-=r,this.count!=t.count)throw new Error("unbalanced remove "+this.count+" + ["+e+"-"+i+"], model reported "+t.count);var o=this._find(e);if(1===(s=n[o.index]).type)s.length-=r;else for(var a=this._split(o.index,o.offset,1,-r);0<r;){var s;(s=n[a]).length<=r?(n.splice(a,1),r-=s.length):(s.length-=r,r=0)}this._merge()}},t.ModelUpdate.prototype.update=function(t,e,i){if(!(i<=e)){var n=this._ranges,r=i-e,o=this._find(e),a=o.index,s=n[a];if(0<o.offset&&(n.splice(a+1,0,new l(s.type,s.length-o.offset)),s.length=o.offset,++a,0===s.length))throw new Error("invalid offset");for(;0<r;){var c=(s=n[a]).length;switch(s.type){case 0:r<c?(s.length-=r,n.splice(a,0,new l(2,r))):s.type=2,r-=c;break;case 1:0<c&&(r-=c),++a;break;case 2:r-=c,++a}}this._merge()}},t.ModelUpdate.prototype.clear=function(){this.count=0,this._reset()},t.ModelUpdate.prototype.apply=function(i,t){var n=0;if(this._ranges.forEach(function(t){var e=t.length;switch(t.type){case 1:0<e?(i._insertItems(n,n+e),n+=e):e<0&&i._removeItems(n,n-e);break;case 2:i._updateItems(n,n+e),n+=e;break;default:n+=t.length}}),!t&&i._items.length!=this.count)throw new Error("unbalanced items update, view: "+i._items.length+", update:"+this.count);for(var e=this._updateIndex;e<this.count;++e)i._updateDelegateIndex(e);this._reset()};var e=t.ArrayModelWrapper=function(t){this.data=t,this.count=t.length};return e.prototype.get=function(t){return{value:this.data[t]}},e.prototype.on=function(){},e.prototype.removeListener=function(){},t}(),x.html5.localstorage=(Ft={},qt.prototype.get=function(t,e,i){var n=this._storage.getItem(t);null!==n?e(n):i(new Error("no item with name "+t))},qt.prototype.set=function(t,e){this._storage.setItem(t,e)},qt.prototype.erase=function(t,e){this._storage.removeItem(t)},Ft.createLocalStorage=function(t){return new qt(t)},Ft.LocalStorage=qt,Ft),x.html5.html=function(){var g={},p=window.Modernizr;g.capabilities={csstransforms3d:p.csstransforms3d,csstransforms:p.csstransforms,csstransitions:p.csstransitions,mouseEnterLeaveSupported:"netcast"!=x.core.os};var u=null;g.createAddRule=function(t){if((t.sheet||{}).insertRule){n=t.sheet;return function(e,i){try{n.insertRule(e+"{"+i+"}",n.cssRules.length)}catch(t){log("InsertRule failed:",t,", sheet:",n,", name:",e,", rules:",i)}}}var n=t.styleSheet||t.sheet;return function(e,i){try{n.addRule(e,i)}catch(t){log("AddRule failed:",t,", sheet:",n,", name:",e,", rules:",i)}}};function f(){this._cache={}}var t=f.prototype;t.constructor=f,t.update=function(t,e,i){var n=this._cache,r=t._uniqueId,o=n[r];if(void 0!==o)o.data[e]=i,++o.size;else{var a={};a[e]=i,n[r]={data:a,element:t,size:1}}},t.pop=function(t){var e=t._uniqueId,i=this._cache[e];if(void 0!==i)return delete this._cache[e],i},t.apply=function(){var t=this._cache;for(var e in this._cache={},t){var i=t[e];i.element.updateStyle(i)}};function m(t){var e=document.createElement("style");e.type="text/css",document.head.appendChild(e),this.prefix=t+"C-",this.style=e,this.total=0,this.stats={},this.classes={},this.classes_total=0,this._addRule=g.createAddRule(e)}var e=m.prototype;e.constructor=m,e.add=function(t){this.stats[t]=(this.stats[t]||0)+1,++this.total},e.register=function(t){var e=t.join(";"),i=this.classes,n=i[e];return void 0!==n||(n=i[e]=this.prefix+this.classes_total++,this._addRule("."+n,e)),n},e.classify=function(i){var n=this.total;if(n<10)return"";i.sort();var r=[],o=[],a=this.stats;return i.forEach(function(t,e){.05<a[t]/n&&(r.push(t),o.push(e))}),o.length<2?"":(o.forEach(function(t,e){i.splice(t-e,1)}),this.register(r))};var i={};0<=x.core.userAgent.toLowerCase().indexOf("webkit")&&(i.appearance="-webkit-appearance");function l(t){var e=i[t];return void 0===e&&(i[t]=e=window.Modernizr.prefixedCSS(t)),e}g.getPrefixedName=l;function o(n){var r=n.__domEventListeners;void 0===r&&(r=n.__domEventListeners={}),n.onListener("",function(t){var e=r[t]=n._context.wrapNativeCallback(function(){n.emitWithArgs(t,arguments)}),i=[t,e];0<=a.indexOf(t)&&i.push(s),n.dom.addEventListener.apply(n.dom,i)},function(t){n.dom.removeEventListener(t,r[t])})}var a=["touchstart","touchend","wheel","scroll"],s=!!p.passiveeventlisteners&&{passive:!0},n={};g.loadExternalStylesheet=function(t){if(!n[t]){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.head.appendChild(e),n[t]=!0}};var c=0,h={};function d(t){return $manifest$html5$prefix+t}g.Element=function(t,e,i){if("string"==typeof e){void 0===i&&(i="");var n=e+"."+i;if(!h[n]){var r=document.createElement(e);($manifest$html5$prefix||i)&&r.classList.add(d(i)),$manifest$html5$prefix&&i&&r.classList.add(d("")),h[n]=r}this.dom=h[n].cloneNode(!1)}else this.dom=e;x.core.RAIIEventEmitter.apply(this),this._context=t,this._transitions={},this._class="",this._widthAdjust=0,this._uniqueId=(++c).toString(36),this._firstChildIndex=0,o(this)};var r=g.Element.prototype=Object.create(x.core.RAIIEventEmitter.prototype);r.constructor=g.Element,r.addClass=function(t){this.dom.classList.add(t)},r.appendChildren=function(t){if(0<t.length){var e=document.createDocumentFragment();t.forEach(function(t){e.appendChild(t)}),this.dom.appendChild(e)}},r.removeChildren=function(t){var n=[],r=this.dom;return t.children.forEach(function(t){var e=t.element;if(void 0!==e){var i=e.dom;i.parentNode===r&&(r.removeChild(i),n.push(i))}}),n},r.setHtml=function(t,e){this._widthAdjust=0;var i,n=this.dom;i=void 0!==e?this.removeChildren(e):[],n.innerHTML=t,this.appendChildren(i)},r.width=function(){return this.updateStyle(),this.dom.clientWidth-this._widthAdjust},r.height=function(){return this.updateStyle(),this.dom.clientHeight},r.fullWidth=function(){return this.updateStyle(),this.dom.scrollWidth-this._widthAdjust},r.fullHeight=function(){return this.updateStyle(),this.dom.scrollHeight},r.style=function(t,e){var i=this._context._styleCache;if(void 0!==e)i.update(this,t,e);else{if("object"!=typeof t)throw new Error("cache is write-only");for(var n in t)i.update(this,n,t[n])}},r.setAttribute=function(t,e){this.dom.setAttribute(t,e)};var y={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px",padding:"px"};r.forceLayout=function(){return this.updateStyle(),this.dom.offsetWidth|this.dom.offsetHeight},r.updateStyle=function(t){var e=this.dom;if(e&&(void 0!==t||void 0!==(t=this._context._styleCache.pop(this)))){var i=t.data,n=e.style;for(var r in i){var o=i[r],a=l(r),s=!1!==a?a:r;if(Array.isArray(o)&&(o=o.join(",")),"number"==typeof o){"width"===r&&(o+=this._widthAdjust);var c=y[r];void 0!==c&&(o+=c)}n[s]=o}}},r.append=function(t){this.dom.appendChild(t instanceof g.Element?t.dom:t)},r.discard=function(){x.core.RAIIEventEmitter.prototype.discard.apply(this),this.remove()},r.remove=function(){var t=this.dom;t.parentNode&&t.parentNode.removeChild(t)},g.Document=function(t,e){x.core.RAIIEventEmitter.apply(this),this._context=t,this.dom=e,o(this)},(g.Document.prototype=Object.create(x.core.RAIIEventEmitter.prototype)).constructor=g.Document,g.Window=function(t,e){x.core.RAIIEventEmitter.apply(this),this._context=t,this.dom=e,o(this)};var v=g.Window.prototype=Object.create(x.core.RAIIEventEmitter.prototype);v.constructor=g.Window,v.width=function(){return this.dom.innerWidth},v.height=function(){return this.dom.innerHeight},v.scrollY=function(){return this.dom.scrollY},g.getElement=function(t,e){var i=document.getElementsByTagName(e);if(1!=i.length)throw new Error("no tag "+e+"/multiple tags");return new g.Element(t,i[0])},g.init=function(n){u=new x.html5.cache.Cache(b),n._styleCache=new f;var t=n.options,e=n._prefix,i=t.id,r=t.tag||"div";e&&log("Context: using prefix",e+="-");var o=new x.html5.html.Document(n,document);n.document=o;var a,s,c=new x.html5.html.Window(n,window);n.window=c;var l=g,h=document.getElementById(i);null===h?(a=c.width(),s=c.height(),log("Context: window size: "+a+"x"+s),(h=l.createElement(n,r)).dom.id=i,c.on("resize",function(){n.width=c.width(),n.height=c.height()}),l.getElement(n,"body").append(h)):(a=(h=new l.Element(n,h)).width(),s=h.height(),log("Context: found element by id, size: "+a+"x"+s),c.on("resize",function(){n.width=h.width(),n.height=h.height()}));p.canvastext?(n._textCanvas=l.createElement(n,"canvas"),n._textCanvas.style("width",0),n._textCanvas.style("height",0),h.append(n._textCanvas),n._textCanvasContext="getContext"in n._textCanvas.dom?n._textCanvas.dom.getContext("2d"):null):n._textCanvasContext=null,n.element=h,n.width=a,n.height=s,c.on("scroll",function(t){n.scrollY=c.scrollY()});function d(t){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;log("fullscreen change event:",e),n.fullscreen=e}new Array("webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange").forEach(function(t){h.on(t,d,!0)}),c.on("keydown",n.wrapNativeCallback(function(t){var e=t.which||t.keyCode,i=C.keyCodes[e];void 0!==i?n.processKey(i,t)&&t.preventDefault():log("unhandled keycode "+e+": ["+t.charCode+" "+t.keyCode+" "+t.which+" "+t.key+" "+t.code+" "+t.location+"]")})),c.on("orientationchange",function(t){log("orientation changed event"),n.system.screenWidth=window.screen.width,n.system.screenHeight=window.screen.height}),n._styleClassifier=$manifest$cssAutoClassificator?new m(n._prefix):null},g.initSystem=function(t){var e=t._context.window;e.on("focus",function(){t.pageActive=!0}),e.on("blur",function(){t.pageActive=!1}),t.screenWidth=window.screen.width,t.screenHeight=window.screen.height},g.createElement=function(t,e,i){return new g.Element(t,e,i)},g.initRectangle=function(t){};var _=x.core.Image,b=function(t,e){var i=new Image;i.onerror=function(){i.onload=null,i.onerror=null,e(null)},i.onload=function(){i.onload=null,i.onerror=null,e({width:i.naturalWidth,height:i.naturalHeight})},i.src=t};g.initImage=function(t){},g.loadImage=function(e){function t(t){!function(t,e){if(e){var i={"background-image":'url("'+t.source+'")'},n=e.width,r=e.height;switch(t.sourceWidth=n,t.sourceHeight=r,t.fillMode!==_.PreserveAspectFit&&(t.paintedWidth=t.width,t.paintedHeight=t.height),t.horizontalAlignment){case _.AlignHCenter:i["background-position-x"]="center";break;case _.AlignLeft:i["background-position-x"]="left";break;case _.AlignRight:i["background-position-x"]="right"}switch(t.verticalAlignment){case _.AlignVCenter:i["background-position-y"]="center";break;case _.AlignTop:i["background-position-y"]="top";break;case _.AlignBottom:i["background-position-y"]="bottom"}switch(t.fillMode){case _.Stretch:i["background-repeat"]="no-repeat",i["background-size"]="100% 100%";break;case _.TileVertically:i["background-repeat"]="repeat-y",i["background-size"]="100% "+r+"px";break;case _.TileHorizontally:i["background-repeat"]="repeat-x",i["background-size"]=n+"px 100%";break;case _.Tile:i["background-repeat"]="repeat-y repeat-x",i["background-size"]="auto";break;case _.PreserveAspectCrop:i["background-repeat"]="no-repeat",i["background-size"]="cover";break;case _.Pad:i["background-repeat"]="no-repeat",i["background-position"]="0% 0%",i["background-size"]="auto";break;case _.PreserveAspectFit:i["background-repeat"]="no-repeat",i["background-size"]="contain";var o=t.width,a=t.height,s=0,c=n/r;o&&a&&(s=o/a),s<c&&o?(t.paintedWidth=o,t.paintedHeight=o/c):(t.paintedHeight=a,t.paintedWidth=a*c)}i["image-rendering"]=t.smooth?"auto":"pixelated",t.style(i),t.status=_.Ready,t._context._processActions()}else t.status=_.Error}(e,t)}e.source.indexOf("?")<0?u.get(e.source,t):b(e.source,t)},g.initText=function(t){};function w(t,e){switch(t.verticalAlignment){case t.AlignTop:t._topPadding=0;break;case t.AlignBottom:t._topPadding=t.height-t.paintedHeight;break;case t.AlignVCenter:t._topPadding=(t.height-t.paintedHeight)/2}e["padding-top"]=t._topPadding,e.height=t.height-t._topPadding,t.style(e)}g.setText=function(t,e){t.element.setHtml(e,t)},g.layoutText=function(t){var e=t._context._textCanvasContext,i=t.wrapMode!==x.core.Text.NoWrap,n=t.element,r=(n.dom,t.textFormat===t.Html||0<=t.text.search(/[\<\&]/));if(!i&&null!==e&&!r){var o,a=t.font;o=a.pointSize?Math.round(96*a.pointSize/72):a.pixelSize,e.font=o+"px "+a.family;var s=e.measureText(t.text);return t.paintedWidth=s.width,t.paintedHeight=o*a.lineHeight,void w(t,{})}var c,l=n.removeChildren(t);i?t.style({height:"auto","padding-top":0}):t.style({width:"auto",height:"auto","padding-top":0}),t.paintedWidth=n.fullWidth(),t.paintedHeight=n.fullHeight(),n._widthAdjust=1,c=i?{height:t.height}:{width:t.width,height:t.height},w(t,c),n.appendChildren(l)},g.run=function(t,e){t.window.on($manifest$expectRunContextEvent?"runContext":"load",function(){e()})},g.tick=function(t){t._styleCache.apply()};var $={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};return g.setAnimation=function(t,e,i){if(!g.capabilities.csstransitions||$manifest$cssDisableTransitions||i&&!i.cssTransition)return!1;var n=$[e];return void 0!==n&&function(t,e,i){var n=g,r=n.getPrefixedName("transition-property"),o=n.getPrefixedName("transition-delay"),a=n.getPrefixedName("transition-duration"),s=n.getPrefixedName("transition-timing-function"),c=t.element;c.forceLayout(),e=n.getPrefixedName(e)||e;var l=c._transitions,h=l[r]||[],d=l[a]||[],p=l[s]||[],u=l[o]||[],f=h.indexOf(e);return-1===f?i&&(h.push(e),d.push(i.duration+"ms"),p.push(i.easing),u.push(i.delay+"ms")):i&&i.active()?(d[f]=i.duration+"ms",p[f]=i.easing,u[f]=i.delay+"ms"):(h.splice(f,1),d.splice(f,1),p.splice(f,1),u.splice(f,1)),l[r]=h,l[a]=d,l[s]=p,l[o]=u,"orsay"!==t._context.system.os&&"netcast"!==t._context.system.os||(l["transition-property"]=h,l["transition-duration"]=d,l["transition-delay"]=u,l["transition-timing-function"]=p),t.style(l),!0}(t,n,i)},g.requestAnimationFrame=p.prefixed("requestAnimationFrame",window)||function(t){return setTimeout(t,0)},g.cancelAnimationFrame=p.prefixed("cancelAnimationFrame",window)||function(t){return clearTimeout(t)},g.enterFullscreenMode=function(t){return p.prefixed("requestFullscreen",t.dom)()},g.exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()},g.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},g.fingerprint=function(t,e){var i=g;try{var n=i.createElement(t,"canvas");n.dom.width=2e3,n.dom.height=32;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZ /0123456789 abcdefghijklmnopqrstuvwxyz £©µÀÆÖÞßéöÿ –—‘“”„†•…‰™œŠŸž€ ΑΒΓΔΩαβγδω АБВГДабвгд ∀∂∈ℝ∧∪≡∞ ↑↗↨↻⇣ ┐┼╔╘░►☺♀ ﬁ�⑀₂ἠḂӥẄɐː⍎אԱა",o=n.dom.getContext("2d");o.textBaseline="top",o.font="20px 'Arial'",o.textBaseline="alphabetic",o.fillStyle="#fedcba",o.fillRect(0,0,2e3,32),o.fillStyle="#12345678",o.fillText(r,1.5,23.5,2e3),o.font="19.5px 'Arial'",o.fillStyle="#789abcde",o.fillText(r,1,22,2e3),e.update(n.dom.toDataURL())}catch(t){log("canvas test failed: "+t)}try{e.update(window.navigator.userAgent)}catch(t){log(t)}try{e.update(window.navigator.plugins)}catch(t){log(t)}try{e.update(window.navigator.mimeTypes)}catch(t){log(t)}try{e.update(window.navigator.language)}catch(t){log(t)}try{e.update(window.navigator.platform)}catch(t){log(t)}try{e.update(window.navigator.product)}catch(t){log(t)}try{e.update(window.navigator.productSub)}catch(t){log(t)}try{e.update(window.navigator.vendorSub)}catch(t){log(t)}try{e.update(window.navigator.hardwareConcurrency)}catch(t){log(t)}try{e.update(window.screen.availWidth)}catch(t){log(t)}try{e.update(window.screen.availHeight)}catch(t){log(t)}try{e.update(window.screen.colorDepth)}catch(t){log(t)}},g}(),x.html5.location=(Wt={},Xt.prototype.updateActualValues=function(){var t=this._ui,e=t._context.window.dom;t.hash=e.location.hash,t.href=e.location.href,t.port=e.location.port,t.host=e.location.host,t.origin=e.location.origin,t.hostname=e.location.hostname,t.pathname=e.location.pathname,t.protocol=e.location.protocol,t.search=e.location.search,t.state=e.history.state},Xt.prototype.changeHref=function(t){this._ui._context.window.dom.location.href=t,this.updateActualValues()},Xt.prototype.pushState=function(t,e,i){var n=this._ui,r=n._context.window.dom;r.location.hostname?(r.history.pushState(t,e,i),this.updateActualValues()):(n._context.document.title=e,this._ui.state=t)},Wt.createLocation=function(t){return new Xt(t)},Wt.Location=Xt,Wt),x.html5.cache=function(){function n(){return Math.floor((new Date).getTime()/1e3)}function r(){this.created=n(),this.waiters=[],this.invoker=null}var t={};r.prototype.expired=function(t){return n()-this.created>=t},r.prototype.set=function(t){this.created=n();for(var e=this.invoker=x.core.safeCall(null,[t],function(t){log("cache entry callback failed: ",t,t.stack)});this.waiters.length;){var i=this.waiters;this.waiters=[],i.forEach(e)}this.waiters=null},r.prototype.wait=function(t){null!==this.invoker?this.invoker(t):this.waiters.push(t)};function e(t,e){if(!t)throw new Error("create callback is required");this._create=t,this._ttl=e||3600,this._cache={},setInterval(this.cleanup.bind(this),this._ttl/2*1e3)}return e.prototype.get=function(t,e){var i=this._cache[t];void 0!==i&&!i.expired(this._ttl)||(this._cache[t]=i=new r,this._create(t,function(t){i.set(t)})),i.wait(e)},e.prototype.cleanup=function(){for(var t in this._cache){this._cache[t].expired(this._ttl)&&delete this._cache[t]}},t.Cache=e,t}(),x.html5.fingerprint.fingerprint=(Nt={},(Dt=Kt.prototype)._update=function(t,e){if(t&&!(0<=this.__visited.indexOf(t))){this.__visited.push(t);var i=typeof t;if("object"!=i)"function"!=i&&(null!=t&&(this.__text+=String(t)),this.__text+="\0");else if("length"in t)for(var n=0;n<t.length;++n)this._update(t[n]);else for(var r in t)this._update(t[r],r)}},Dt.update=function(){for(var t=0;t<arguments.length;++t)this._update(arguments[t])},Dt.finalize=function(){var t=o.fingerprint.sha1.sha1(this.__text);return this.__text="",t},Nt.Fingerprint=Kt,Nt),x.html5.fingerprint.sha1=((Vt={}).sha1=function(t){function e(t,e){return t<<e|t>>>32-e}function i(t){var e,i="";for(e=7;0<=e;e--)i+=(t>>>4*e&15).toString(16);return i}var n,r,o,a,s,c,l,h,d,p=new Array(80),u=1732584193,f=4023233417,g=2562383102,m=271733878,y=3285377520,v=(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):(127<n&&n<2048?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e}(t)).length,_=new Array;for(r=0;r<v-3;r+=4)o=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),_.push(o);switch(v%4){case 0:r=2147483648;break;case 1:r=t.charCodeAt(v-1)<<24|8388608;break;case 2:r=t.charCodeAt(v-2)<<24|t.charCodeAt(v-1)<<16|32768;break;case 3:r=t.charCodeAt(v-3)<<24|t.charCodeAt(v-2)<<16|t.charCodeAt(v-1)<<8|128}for(_.push(r);_.length%16!=14;)_.push(0);for(_.push(v>>>29),_.push(v<<3&4294967295),n=0;n<_.length;n+=16){for(r=0;r<16;r++)p[r]=_[n+r];for(r=16;r<=79;r++)p[r]=e(p[r-3]^p[r-8]^p[r-14]^p[r-16],1);for(a=u,s=f,c=g,l=m,h=y,r=0;r<=19;r++)d=e(a,5)+(s&c|~s&l)+h+p[r]+1518500249&4294967295,h=l,l=c,c=e(s,30),s=a,a=d;for(r=20;r<=39;r++)d=e(a,5)+(s^c^l)+h+p[r]+1859775393&4294967295,h=l,l=c,c=e(s,30),s=a,a=d;for(r=40;r<=59;r++)d=e(a,5)+(s&c|s&l|c&l)+h+p[r]+2400959708&4294967295,h=l,l=c,c=e(s,30),s=a,a=d;for(r=60;r<=79;r++)d=e(a,5)+(s^c^l)+h+p[r]+3395469782&4294967295,h=l,l=c,c=e(s,30),s=a,a=d;u=u+a&4294967295,f=f+s&4294967295,g=g+c&4294967295,m=m+l&4294967295,y=y+h&4294967295}return(d=i(u)+i(f)+i(g)+i(m)+i(y)).toLowerCase()},Vt),x.video.html5.backend=(Bt={},Gt.prototype.setEventListeners=function(){var t=this.element,e=t.dom,i=this.ui;t.on("play",function(){i.waiting=!1,i.paused=e.paused}.bind(i)),t.on("pause",function(){i.paused=e.paused}.bind(i)),t.on("ended",function(){i.finished()}.bind(i)),t.on("seeked",function(){log("seeked"),i.seeking=!1,i.waiting=!1}.bind(i)),t.on("canplay",function(){log("canplay",e.readyState),i.ready=e.readyState}.bind(i)),t.on("seeking",function(){log("seeking"),i.seeking=!0,i.waiting=!0}.bind(i)),t.on("waiting",function(){log("waiting"),i.waiting=!0}.bind(i)),t.on("stalled",function(){log("Was stalled",e.networkState),i.stalled=!0}.bind(i)),t.on("emptied",function(){log("Was emptied",e.networkState)}.bind(i)),t.on("volumechange",function(){i.muted=e.muted}.bind(i)),t.on("canplaythrough",function(){log("ready to play"),i.paused=e.paused}.bind(i)),t.on("error",function(){if(log("Player error occurred",e.error,"src",i.source),e.error&&i.source)switch(i.error(e.error),log("player.error",e.error),e.error.code){case 1:log("MEDIA_ERR_ABORTED error occurred");break;case 2:log("MEDIA_ERR_NETWORK error occurred");break;case 3:log("MEDIA_ERR_DECODE error occurred");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occurred");break;default:log("UNDEFINED error occurred")}}.bind(i)),t.on("timeupdate",function(){i.waiting=!1,i.stalled=!1,i.seeking||(i.progress=e.currentTime)}.bind(i)),t.on("durationchange",function(){var t=e.duration;log("Duration",t),i.duration=isFinite(t)?t:0}.bind(i)),t.on("progress",function(){var t=e.buffered.length-1;i.waiting=!1,0<=t&&(i.buffered=e.buffered.end(t)-e.buffered.start(t))}.bind(i)),this.setOption("autoplay",i.autoPlay)},Gt.prototype.parseManifest=function(t){var e=t.target.responseText.split("\n"),i=this.ui.source,n=i.substring(0,i.lastIndexOf("/")+1),r=0;this._videoTracks=[{name:"auto",url:this.ui.source,id:r}],this._totalTracks={},this._audioTracksInfo=[];for(var o=0;o<e.length-1;++o){var a=e[o],s=e[o+1];if(0==a.indexOf("#EXT-X-STREAM-INF")){for(var c=a.split(","),l={url:0===s.indexOf("http")?s:n+s},h=0;h<c.length;++h)if(1<(f=c[h].split("=")).length)switch(f[0].trim().toLowerCase()){case"bandwidth":l.bandwidth=f[1].trim();break;case"audio":l.audio=f[1].trim().replace(/"/g,"");break;case"resolution":var d=f[1].split("x");l.width=d[0],l.height=d[1]}var p=l.width+"x"+l.height;this._totalTracks[p]||(this._totalTracks[p]=[]),this._totalTracks[p].push(l)}else if(0==a.indexOf("#EXT-X-MEDIA:TYPE=AUDIO")){c=a.split(",");var u={};for(h=0;h<c.length;++h){var f;if(1<(f=c[h].split("=")).length)switch(f[0].trim().toLowerCase()){case"group-id":u.id=f[1].trim().replace(/"/g,"");break;case"name":u.label=f[1].trim().replace(/"/g,"");break;case"language":u.language=f[1].trim().replace(/"/g,"");break;case"uri":u.url=f[1].trim()}}this._audioTracksInfo.push(u)}}for(var o in this._totalTracks){var g=this._totalTracks[o][0];g.id=++r,this._videoTracks.push(g)}},Gt.prototype.getFileExtension=function(t){if(!t)return"";var e=t.toLowerCase(),i=t.indexOf("?");0<=i&&(e=e.substring(0,i));var n=e.lastIndexOf(".");return e.substring(n,e.length)},Gt.prototype.setSource=function(t){this.ui.ready=!1,this._extension=this.getFileExtension(t),!t||".m3u8"!==this._extension&&".m3u"!==this._extension||(this._xhr.open("GET",t),this._xhr.send());var e=t;this.ui.startPosition&&(e+="#t="+this.ui.startPosition),this.element.dom.src=e},Gt.prototype.play=function(){this.element.dom.play()},Gt.prototype.pause=function(){this.element.dom.pause()},Gt.prototype.stop=function(){this.pause()},Gt.prototype.seek=function(t){this.element.dom.currentTime+=t},Gt.prototype.seekTo=function(t){this.element.dom.currentTime=t},Gt.prototype.setVolume=function(t){this.element.dom.volume=t},Gt.prototype.setMute=function(t){this.element.dom.muted=t},Gt.prototype.setLoop=function(t){this.element.dom.loop=t},Gt.prototype.setOption=function(t,e){"autoplay"===t?e?this.element.dom.setAttribute("autoplay",""):this.element.dom.removeAttribute("autoplay"):this.element.dom.setAttribute(t,e)},Gt.prototype.setRect=function(t,e,i,n){},Gt.prototype.setVisibility=function(t){log("VISIBILITY LOGIC MISSING HERE, visible:",t)},Gt.prototype.setupDrm=function(t,e,i,n){log("Not implemented")},Gt.prototype.getAudioTracks=function(){return log("Not implemented"),[]},Gt.prototype.getVideoTracks=function(){return this._videoTracks||[]},Gt.prototype.getAudioTracks=function(){for(var t=this.element.dom.audioTracks,e=[],i=0;i<t.length;++i){var n=t[i],r=this._audioTracksInfo[i];e.push({id:i,name:n.label?n.label:r.name,language:n.language?n.language:r.language})}return log("getAudioTracks",e),e},Gt.prototype.setAudioTrack=function(t){var e=this.element.dom.audioTracks;if(t<0||t>=e.length)log("Where is no track",t);else{log("Set audio track",e[t]);for(var i=0;i<e.length;++i)e[i].enabled=i===t}},Gt.prototype.setVideoTrack=function(t){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(t<0||t>=this._videoTracks.length)log("Track with id",t,"not found");else{this.ui.waiting=!0;var e=this.ui.progress;log("Set video",this._videoTracks[t]),this.element.dom.src=this._videoTracks[t].url,this.seekTo(e)}},Gt.prototype.setVideoTrack=function(t){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(t<0||t>=this._videoTracks.length)log("Track with id",t,"not found");else{this.ui.waiting=!0;var e=this.ui.progress;log("Set video",this._videoTracks[t]),this.element.dom.src=this._videoTracks[t].url,this.seekTo(e)}},Gt.prototype.setBackgroundColor=function(t){var e=x.core.Color;this.element.dom.style.backgroundColor=new e(t).rgba()},Bt.createPlayer=function(t){return new Gt(t)},Bt.probeUrl=function(t){return 50},Bt.Player=Gt,Bt),x.web.device=((Yt={}).createDevice=function(t){return new Zt(t)},Yt.Device=Zt,Yt),x.controls.pure.format={currency:function(t,e,i){var n="\\d(?=(\\d{"+(i||3)+"})+"+(0<e?"\\.":"$")+")";return t.toFixed(Math.max(0,~~e)).replace(new RegExp(n,"g"),"$&,")},format:function(){var t=[].slice.call(arguments),e=t.shift();return t.reduce(function(t,e){return t.replace("%s",e)},e)}},t}();try{var l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-fingerprint",l10n:l10n,nativeContext:null});context.init(),context.start(new qml.src.UiFingerprint(context)),context.run()}catch(t){log("qml initialization failed: ",t,t.stack)}
